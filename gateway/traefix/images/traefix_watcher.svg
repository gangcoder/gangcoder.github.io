<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2882px" height="727px" viewBox="-0.5 -0.5 2882 727" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-07-27T15:17:51.713Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;k8MVrT9ISn2dlJlyxd54&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;KXZWcNWQO5Pi_RwhqMHj&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-926-181-455-26-0"><rect x="926" y="181" width="455" height="26"/></clipPath><clipPath id="mx-clip-926-207-455-26-0"><rect x="926" y="207" width="455" height="26"/></clipPath><clipPath id="mx-clip-926-233-455-26-0"><rect x="926" y="233" width="455" height="26"/></clipPath><clipPath id="mx-clip-926-259-455-26-0"><rect x="926" y="259" width="455" height="26"/></clipPath></defs><g><path d="M 921 176 L 921 150 L 1381 150 L 1381 176" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 921 176 L 921 280 L 1381 280 L 1381 176" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 921 176 L 1381 176" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="927.5" y="168">ConfigurationWatcher</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-926-181-455-26-0)" font-size="13px"><text x="927.5" y="194.5">- provider: provider.Provider</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-926-207-455-26-0)" font-size="13px"><text x="927.5" y="220.5">- currentConfigurations: safe.Safe</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-926-233-455-26-0)" font-size="13px"><text x="927.5" y="246.5">- configurationValidatedChan: chan</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-926-259-455-26-0)" font-size="13px"><text x="927.5" y="272.5">- configurationListeners: []func(dynamic.Configuration)</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 160px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建监听器</div></div></div></foreignObject><text x="32" y="164" fill="#000000" font-family="source code pro" font-size="13px">1. 创建监听器</text></switch></g><rect x="30" y="174" width="286" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 279px; height: 1px; padding-top: 204px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewConfigurationWatcher(</div></div></div></foreignObject><text x="37" y="208" fill="#000000" font-family="source code pro" font-size="13px">func NewConfigurationWatcher(</text></switch></g><rect x="416" y="150" width="455" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 448px; height: 1px; padding-top: 204px; margin-left: 423px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">watcher := &amp;ConfigurationWatcher{<br />    provider: pvd,<br />    configurationChan: make(chan dynamic.Message, 100),<br />}<br />return watcher</div></div></div></foreignObject><text x="423" y="208" fill="#000000" font-family="source code pro" font-size="13px">watcher := &amp;ConfigurationWatcher{...</text></switch></g><path d="M 316 204 L 409.63 204" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 414.88 204 L 407.88 207.5 L 409.63 204 L 407.88 200.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 271px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 添加配置变更观察者</div></div></div></foreignObject><text x="32" y="275" fill="#000000" font-family="source code pro" font-size="13px">2. 添加配置变更观察者</text></switch></g><rect x="30" y="288" width="169" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 162px; height: 1px; padding-top: 318px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">AddListener(...)</div></div></div></foreignObject><text x="37" y="322" fill="#000000" font-family="source code pro" font-size="13px">AddListener(...)</text></switch></g><rect x="299" y="288" width="572" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 565px; height: 1px; padding-top: 318px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.configurationListeners = append(c.configurationListeners, listener)</div></div></div></foreignObject><text x="306" y="322" fill="#000000" font-family="source code pro" font-size="13px">c.configurationListeners = append(c.configurationListeners, listener)</text></switch></g><path d="M 199 318 L 292.63 318" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 297.88 318 L 290.88 321.5 L 292.63 318 L 290.88 314.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 383px; margin-left: 33px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 启动配置监听</div></div></div></foreignObject><text x="33" y="387" fill="#000000" font-family="source code pro" font-size="13px">3. 启动配置监听</text></switch></g><rect x="31" y="395" width="88" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 81px; height: 1px; padding-top: 425px; margin-left: 38px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Start()</div></div></div></foreignObject><text x="38" y="429" fill="#000000" font-family="source code pro" font-size="13px">Start()</text></switch></g><rect x="219" y="383" width="382" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 375px; height: 1px; padding-top: 425px; margin-left: 226px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.routinesPool.GoCtx(c.listenProviders)<br />c.routinesPool.GoCtx(c.listenConfigurations)<br />c.startProvider()</div></div></div></foreignObject><text x="226" y="429" fill="#000000" font-family="source code pro" font-size="13px">c.routinesPool.GoCtx(c.listenProviders)...</text></switch></g><rect x="701" y="395" width="349" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 342px; height: 1px; padding-top: 425px; margin-left: 708px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">listenProviders(ctx context.Context)</div></div></div></foreignObject><text x="708" y="429" fill="#000000" font-family="source code pro" font-size="13px">listenProviders(ctx context.Context)</text></switch></g><rect x="1151" y="372.5" width="420" height="105" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 413px; height: 1px; padding-top: 425px; margin-left: 1158px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for {<br />    select {<br />    case configMsg, ok := &lt;-c.configurationChan:<br />        c.preLoadConfiguration(configMsg)<br />    }<br />}</div></div></div></foreignObject><text x="1158" y="429" fill="#000000" font-family="source code pro" font-size="13px">for {...</text></switch></g><rect x="1671" y="395" width="250" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 243px; height: 1px; padding-top: 425px; margin-left: 1678px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">preLoadConfiguration(...)</div></div></div></foreignObject><text x="1678" y="429" fill="#000000" font-family="source code pro" font-size="13px">preLoadConfiguration(...)</text></switch></g><rect x="2001" y="389" width="660" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 653px; height: 1px; padding-top: 425px; margin-left: 2008px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">providerConfigUpdateCh, ok := c.providerConfigUpdateMap[configMsg.ProviderName]<br />providerConfigUpdateCh &lt;- configMsg</div></div></div></foreignObject><text x="2008" y="429" fill="#000000" font-family="source code pro" font-size="13px">providerConfigUpdateCh, ok := c.providerConfigUpdateMap[configMsg.ProviderName]...</text></switch></g><rect x="701" y="510" width="250" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 243px; height: 1px; padding-top: 540px; margin-left: 708px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">listenConfigurations(...)</div></div></div></foreignObject><text x="708" y="544" fill="#000000" font-family="source code pro" font-size="13px">listenConfigurations(...)</text></switch></g><rect x="1151" y="490" width="500" height="100" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 493px; height: 1px; padding-top: 540px; margin-left: 1158px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for {<br />    select {<br />    case configMsg, ok := &lt;-c.configurationValidatedChan:<br />        c.loadMessage(configMsg)<br />    }<br />}</div></div></div></foreignObject><text x="1158" y="544" fill="#000000" font-family="source code pro" font-size="13px">for {...</text></switch></g><rect x="1741" y="510" width="367" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 360px; height: 1px; padding-top: 540px; margin-left: 1748px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">loadMessage(configMsg dynamic.Message)</div></div></div></foreignObject><text x="1748" y="544" fill="#000000" font-family="source code pro" font-size="13px">loadMessage(configMsg dynamic.Message)</text></switch></g><rect x="2191" y="486" width="660" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 653px; height: 1px; padding-top: 540px; margin-left: 2198px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">currentConfigurations := c.currentConfigurations.Get().(dynamic.Configurations)<br />conf := mergeConfiguration(newConfigurations, c.defaultEntryPoints)<br />for _, listener := range c.configurationListeners {<br />    listener(conf)<br />}</div></div></div></foreignObject><text x="2198" y="544" fill="#000000" font-family="source code pro" font-size="13px">currentConfigurations := c.currentConfigurations.Get().(dynamic.Configurations)...</text></switch></g><rect x="701" y="618" width="160" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 153px; height: 1px; padding-top: 648px; margin-left: 708px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">startProvider()</div></div></div></foreignObject><text x="708" y="652" fill="#000000" font-family="source code pro" font-size="13px">startProvider()</text></switch></g><rect x="1151" y="600" width="590" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 583px; height: 1px; padding-top: 648px; margin-left: 1158px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">currentProvider := c.provider<br />safe.Go(func() {<br />    err := currentProvider.Provide(c.configurationChan, c.routinesPool)<br />})</div></div></div></foreignObject><text x="1158" y="652" fill="#000000" font-family="source code pro" font-size="13px">currentProvider := c.provider...</text></switch></g><path d="M 119 425 L 212.63 425" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 217.88 425 L 210.88 428.5 L 212.63 425 L 210.88 421.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 601 425 L 694.63 425" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 699.88 425 L 692.88 428.5 L 694.63 425 L 692.88 421.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1050 425 L 1144.63 425" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1149.88 425 L 1142.88 428.5 L 1144.63 425 L 1142.88 421.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1571 425 L 1664.63 425" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1669.88 425 L 1662.88 428.5 L 1664.63 425 L 1662.88 421.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1921 425 L 1994.63 425" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1999.88 425 L 1992.88 428.5 L 1994.63 425 L 1992.88 421.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 601 425 L 641 425 Q 651 425 651 435 L 651 530 Q 651 540 661 540 L 694.63 540" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 699.88 540 L 692.88 543.5 L 694.63 540 L 692.88 536.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 951 540 L 1144.63 540" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1149.88 540 L 1142.88 543.5 L 1144.63 540 L 1142.88 536.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1651 540 L 1734.63 540" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1739.88 540 L 1732.88 543.5 L 1734.63 540 L 1732.88 536.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2108 540 L 2184.63 540" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2189.88 540 L 2182.88 543.5 L 2184.63 540 L 2182.88 536.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 601 425 L 641 425 Q 651 425 651 435 L 651 638 Q 651 648 661 648 L 694.63 648" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 699.88 648 L 692.88 651.5 L 694.63 648 L 692.88 644.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 861 648 L 1144.63 648" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1149.88 648 L 1142.88 651.5 L 1144.63 648 L 1142.88 644.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Traefix 配置监听</div></div></div></foreignObject><text x="32" y="50" fill="#000000" font-family="source code pro" font-size="18px">Traefix 配置监听</text></switch></g><path d="M 921 215 L 906 215 Q 896 215 896 205 L 896 187 Q 896 177 886.68 177 L 877.37 177" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 872.12 177 L 879.12 173.5 L 877.37 177 L 879.12 180.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>