<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2791px" height="829px" viewBox="-0.5 -0.5 2791 829" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-07-28T15:45:23.047Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;gA-7UAEl4s62P-XBzkfE&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;2lsfx2nltGFznZ8HQmdz&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-925-61-275-26-0"><rect x="925" y="61" width="275" height="26"/></clipPath><clipPath id="mx-clip-925-87-275-26-0"><rect x="925" y="87" width="275" height="26"/></clipPath><clipPath id="mx-clip-925-113-275-26-0"><rect x="925" y="113" width="275" height="26"/></clipPath><clipPath id="mx-clip-925-139-275-26-0"><rect x="925" y="139" width="275" height="26"/></clipPath><clipPath id="mx-clip-925-165-275-26-0"><rect x="925" y="165" width="275" height="26"/></clipPath><clipPath id="mx-clip-1957-445-375-26-0"><rect x="1957" y="445" width="375" height="26"/></clipPath><clipPath id="mx-clip-1957-471-375-26-0"><rect x="1957" y="471" width="375" height="26"/></clipPath><clipPath id="mx-clip-1655-493-245-26-0"><rect x="1655" y="493" width="245" height="26"/></clipPath><clipPath id="mx-clip-1655-519-245-26-0"><rect x="1655" y="519" width="245" height="26"/></clipPath><clipPath id="mx-clip-1655-545-245-26-0"><rect x="1655" y="545" width="245" height="26"/></clipPath><clipPath id="mx-clip-1655-571-245-26-0"><rect x="1655" y="571" width="245" height="26"/></clipPath><clipPath id="mx-clip-1655-597-245-26-0"><rect x="1655" y="597" width="245" height="26"/></clipPath><clipPath id="mx-clip-1655-623-245-26-0"><rect x="1655" y="623" width="245" height="26"/></clipPath></defs><g><path d="M 920 56 L 920 30 L 1200 30 L 1200 56" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 920 56 L 920 186 L 1200 186 L 1200 56" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 920 56 L 1200 56" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="926.5" y="48">ManagerFactory</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-925-61-275-26-0)" font-size="13px"><text x="926.5" y="74.5">- api: func(configuration</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-925-87-275-26-0)" font-size="13px"><text x="926.5" y="100.5">- restHandler: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-925-113-275-26-0)" font-size="13px"><text x="926.5" y="126.5">- dashboardHandler: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-925-139-275-26-0)" font-size="13px"><text x="926.5" y="152.5">- metricsHandler: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-925-165-275-26-0)" font-size="13px"><text x="926.5" y="178.5">- pingHandler: http.Handler</text></g><path d="M 1952 440 L 1952 414 L 2332 414 L 2332 440" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1952 440 L 1952 492 L 2332 492 L 2332 440" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1952 440 L 2332 440" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1958.5" y="432">Manager</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1957-445-375-26-0)" font-size="13px"><text x="1958.5" y="458.5">- balancers: map[string]healthcheck.Balancers</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1957-471-375-26-0)" font-size="13px"><text x="1958.5" y="484.5">- configs: map[string]*runtime.ServiceInfo</text></g><path d="M 1650 488 L 1650 462 L 1900 462 L 1900 488" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1650 488 L 1650 644 L 1900 644 L 1900 488" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1650 488 L 1900 488" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1656.5" y="480">InternalHandlers</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1655-493-245-26-0)" font-size="13px"><text x="1656.5" y="506.5">- api: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1655-519-245-26-0)" font-size="13px"><text x="1656.5" y="532.5">- dashboard: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1655-545-245-26-0)" font-size="13px"><text x="1656.5" y="558.5">- rest: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1655-571-245-26-0)" font-size="13px"><text x="1656.5" y="584.5">- prometheus: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1655-597-245-26-0)" font-size="13px"><text x="1656.5" y="610.5">- ping: http.Handler</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1655-623-245-26-0)" font-size="13px"><text x="1656.5" y="636.5">- serviceManager</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 196px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建管理创建器</div></div></div></foreignObject><text x="32" y="200" fill="#000000" font-family="source code pro" font-size="13px">1. 创建管理创建器</text></switch></g><rect x="30" y="216" width="268" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 261px; height: 1px; padding-top: 246px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewManagerFactory(...)</div></div></div></foreignObject><text x="37" y="250" fill="#000000" font-family="source code pro" font-size="13px">func NewManagerFactory(...)</text></switch></g><rect x="398" y="186" width="422" height="120" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 415px; height: 1px; padding-top: 246px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">factory := &amp;ManagerFactory{<br />    metricsRegistry:     metricsRegistry,<br />}<br />factory.api = api.NewBuilder(staticConfiguration)<br />factory.pingHandler = staticConfiguration.Ping<br />return factory</div></div></div></foreignObject><text x="405" y="250" fill="#000000" font-family="source code pro" font-size="13px">factory := &amp;ManagerFactory{...</text></switch></g><rect x="920" y="216" width="205" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 198px; height: 1px; padding-top: 246px; margin-left: 927px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewBuilder(...)</div></div></div></foreignObject><text x="927" y="250" fill="#000000" font-family="source code pro" font-size="13px">func NewBuilder(...)</text></switch></g><rect x="1190" y="204" width="530" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 523px; height: 1px; padding-top: 246px; margin-left: 1197px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return func(configuration *runtime.Configuration) http.Handler {<br />    return New(staticConfig, configuration).createRouter()<br />}</div></div></div></foreignObject><text x="1197" y="250" fill="#000000" font-family="source code pro" font-size="13px">return func(configuration *runtime.Configuration) http.Handler {...</text></switch></g><rect x="1800" y="216" width="151" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 144px; height: 1px; padding-top: 246px; margin-left: 1807px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">createRouter()</div></div></div></foreignObject><text x="1807" y="250" fill="#000000" font-family="source code pro" font-size="13px">createRouter()</text></switch></g><rect x="2040" y="198" width="720" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 713px; height: 1px; padding-top: 246px; margin-left: 2047px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">router := mux.NewRouter()<br />router.Methods(http.MethodGet).Path("/api/overview").HandlerFunc(h.getOverview)<br />router.Methods(http.MethodGet).Path("/api/entrypoints").HandlerFunc(h.getEntryPoints)<br />return router</div></div></div></foreignObject><text x="2047" y="250" fill="#000000" font-family="source code pro" font-size="13px">router := mux.NewRouter()...</text></switch></g><rect x="900" y="318" width="151" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 144px; height: 1px; padding-top: 348px; margin-left: 907px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ServeHTTP(...)</div></div></div></foreignObject><text x="907" y="352" fill="#000000" font-family="source code pro" font-size="13px">ServeHTTP(...)</text></switch></g><rect x="1113" y="306" width="427" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 420px; height: 1px; padding-top: 348px; margin-left: 1120px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">statusCode := http.StatusOK<br />response.WriteHeader(statusCode)<br />fmt.Fprint(response, http.StatusText(statusCode))</div></div></div></foreignObject><text x="1120" y="352" fill="#000000" font-family="source code pro" font-size="13px">statusCode := http.StatusOK...</text></switch></g><path d="M 298 246 L 391.63 246" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 396.88 246 L 389.88 249.5 L 391.63 246 L 389.88 242.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 820 246 L 913.63 246" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 918.88 246 L 911.88 249.5 L 913.63 246 L 911.88 242.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1125 246 L 1183.63 246" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1188.88 246 L 1181.88 249.5 L 1183.63 246 L 1181.88 242.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1720 246 L 1793.63 246" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1798.88 246 L 1791.88 249.5 L 1793.63 246 L 1791.88 242.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1951 246 L 2033.63 246" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2038.88 246 L 2031.88 249.5 L 2033.63 246 L 2031.88 242.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 820 246 L 850 246 Q 860 246 860 256 L 860 338 Q 860 348 870 348 L 893.63 348" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 898.88 348 L 891.88 351.5 L 893.63 348 L 891.88 344.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1051 348 L 1106.63 348" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1111.88 348 L 1104.88 351.5 L 1106.63 348 L 1104.88 344.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 431px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 创建service 管理器</div></div></div></foreignObject><text x="32" y="435" fill="#000000" font-family="source code pro" font-size="13px">2. 创建service 管理器</text></switch></g><rect x="30" y="447" width="115" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 108px; height: 1px; padding-top: 477px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Build(...)</div></div></div></foreignObject><text x="37" y="481" fill="#000000" font-family="source code pro" font-size="13px">Build(...)</text></switch></g><rect x="245" y="441" width="475" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 468px; height: 1px; padding-top: 477px; margin-left: 252px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">svcManager := NewManager(configuration.Services, ...)<br />return NewInternalHandlers(f.api, ..., svcManager)</div></div></div></foreignObject><text x="252" y="481" fill="#000000" font-family="source code pro" font-size="13px">svcManager := NewManager(configuration.Services, ...)...</text></switch></g><rect x="830" y="447" width="200" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 193px; height: 1px; padding-top: 477px; margin-left: 837px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewManager(...)</div></div></div></foreignObject><text x="837" y="481" fill="#000000" font-family="source code pro" font-size="13px">func NewManager(...)</text></switch></g><rect x="1113" y="429" width="457" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 450px; height: 1px; padding-top: 477px; margin-left: 1120px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return &amp;Manager{<br />    balancers: make(map[string]healthcheck.Balancers),<br />    configs: configs,<br />}</div></div></div></foreignObject><text x="1120" y="481" fill="#000000" font-family="source code pro" font-size="13px">return &amp;Manager{...</text></switch></g><rect x="830" y="560" width="286" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 279px; height: 1px; padding-top: 590px; margin-left: 837px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewInternalHandlers(...)</div></div></div></foreignObject><text x="837" y="594" fill="#000000" font-family="source code pro" font-size="13px">func NewInternalHandlers(...)</text></switch></g><rect x="1216" y="536" width="286" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 279px; height: 1px; padding-top: 590px; margin-left: 1223px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return &amp;InternalHandlers{<br />    api:            apiHandler,<br />    ping:           pingHandler,<br />    serviceManager: next,<br />}</div></div></div></foreignObject><text x="1223" y="594" fill="#000000" font-family="source code pro" font-size="13px">return &amp;InternalHandlers{...</text></switch></g><path d="M 145 477 L 238.63 477" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 243.88 477 L 236.88 480.5 L 238.63 477 L 236.88 473.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 720 477 L 823.63 477" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 828.88 477 L 821.88 480.5 L 823.63 477 L 821.88 473.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1030 477 L 1106.63 477" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1111.88 477 L 1104.88 480.5 L 1106.63 477 L 1104.88 473.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 720 477 L 770 477 Q 780 477 780 487 L 780 580 Q 780 590 790 590 L 823.63 590" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 828.88 590 L 821.88 593.5 L 823.63 590 L 821.88 586.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1116 590 L 1209.63 590" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1214.88 590 L 1207.88 593.5 L 1209.63 590 L 1207.88 586.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 681px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 创建处理handler</div></div></div></foreignObject><text x="32" y="685" fill="#000000" font-family="source code pro" font-size="13px">3. 创建处理handler</text></switch></g><rect x="30" y="696" width="484" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 477px; height: 1px; padding-top: 726px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">m.serviceManager.BuildHTTP(ctx, router.Service, rm)</div></div></div></foreignObject><text x="37" y="730" fill="#000000" font-family="source code pro" font-size="13px">m.serviceManager.BuildHTTP(ctx, router.Service, rm)</text></switch></g><rect x="614" y="696" width="151" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 144px; height: 1px; padding-top: 726px; margin-left: 621px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">BuildHTTP(...)</div></div></div></foreignObject><text x="621" y="730" fill="#000000" font-family="source code pro" font-size="13px">BuildHTTP(...)</text></switch></g><rect x="860" y="678" width="595" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 588px; height: 1px; padding-top: 726px; margin-left: 867px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">if strings.HasSuffix(serviceName, "@internal") {<br />    return m.get(serviceName)<br />}<br />return m.serviceManager.BuildHTTP(rootCtx, serviceName, responseModifier)</div></div></div></foreignObject><text x="867" y="730" fill="#000000" font-family="source code pro" font-size="13px">if strings.HasSuffix(serviceName, "@internal") {...</text></switch></g><rect x="1520" y="696" width="232" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 225px; height: 1px; padding-top: 726px; margin-left: 1527px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">get(serviceName string)</div></div></div></foreignObject><text x="1527" y="730" fill="#000000" font-family="source code pro" font-size="13px">get(serviceName string)</text></switch></g><rect x="1850" y="654" width="261" height="144" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 254px; height: 1px; padding-top: 726px; margin-left: 1857px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">switch serviceName {<br />case "api@internal":<br />    return m.api, nil<br />case "dashboard@internal":<br />    return m.dashboard, nil<br />case "ping@internal":<br />    return m.ping, nil<br />}</div></div></div></foreignObject><text x="1857" y="730" fill="#000000" font-family="source code pro" font-size="13px">switch serviceName {...</text></switch></g><path d="M 514 726 L 607.63 726" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 612.88 726 L 605.88 729.5 L 607.63 726 L 605.88 722.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 765 726 L 853.63 726" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 858.88 726 L 851.88 729.5 L 853.63 726 L 851.88 722.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1455 726 L 1513.63 726" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1518.88 726 L 1511.88 729.5 L 1513.63 726 L 1511.88 722.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1752 726 L 1843.63 726" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1848.88 726 L 1841.88 729.5 L 1843.63 726 L 1841.88 722.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 920 69 L 880 69 Q 870 69 870 79 L 870 206 Q 870 216 860 216 L 826.37 216" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 821.12 216 L 828.12 212.5 L 826.37 216 L 828.12 219.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1650 501 L 1620 501 Q 1610 501 1610 511 L 1610 580 Q 1610 590 1600 590 L 1508.37 590" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1503.12 590 L 1510.12 586.5 L 1508.37 590 L 1510.12 593.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1952 453 L 1576.37 453" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1571.12 453 L 1578.12 449.5 L 1576.37 453 L 1578.12 456.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1952 479 L 1936 479 Q 1926 479 1926 489 L 1926 621 Q 1926 631 1916.18 631 L 1906.37 631" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1901.12 631 L 1908.12 627.5 L 1906.37 631 L 1908.12 634.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 76px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Traefix 管理创建器实现</div></div></div></foreignObject><text x="32" y="81" fill="#000000" font-family="source code pro" font-size="18px">Traefix 管理创建器实现</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>