<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2740px" height="1261px" viewBox="-0.5 -0.5 2740 1261" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-07-26T14:36:55.378Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;FvmrhcrYD8XEBTrQEVcM&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;ydQWzDPUubDL5VwGVmmw&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-865-221-275-26-0"><rect x="865" y="221" width="275" height="26"/></clipPath><clipPath id="mx-clip-865-247-275-26-0"><rect x="865" y="247" width="275" height="26"/></clipPath><clipPath id="mx-clip-1273-227-605-26-0"><rect x="1273" y="227" width="605" height="26"/></clipPath><clipPath id="mx-clip-1273-253-605-26-0"><rect x="1273" y="253" width="605" height="26"/></clipPath><clipPath id="mx-clip-65-761-285-26-0"><rect x="65" y="761" width="285" height="26"/></clipPath><clipPath id="mx-clip-65-787-285-26-0"><rect x="65" y="787" width="285" height="26"/></clipPath><clipPath id="mx-clip-65-813-285-26-0"><rect x="65" y="813" width="285" height="26"/></clipPath><clipPath id="mx-clip-65-839-285-26-0"><rect x="65" y="839" width="285" height="26"/></clipPath><clipPath id="mx-clip-1105-1071-383-26-0"><rect x="1105" y="1071" width="383" height="26"/></clipPath><clipPath id="mx-clip-1105-1097-383-26-0"><rect x="1105" y="1097" width="383" height="26"/></clipPath><clipPath id="mx-clip-1105-1123-383-26-0"><rect x="1105" y="1123" width="383" height="26"/></clipPath><clipPath id="mx-clip-1105-1149-383-26-0"><rect x="1105" y="1149" width="383" height="26"/></clipPath><clipPath id="mx-clip-1105-1175-383-26-0"><rect x="1105" y="1175" width="383" height="26"/></clipPath></defs><g><path d="M 860 216 L 860 190 L 1140 190 L 1140 216" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 860 216 L 860 268 L 1140 268 L 1140 216" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 860 216 L 1140 216" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="866.5" y="208">ProviderAggregator</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-865-221-275-26-0)" font-size="13px"><text x="866.5" y="234.5">- fileProvider: *file.Provider</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-865-247-275-26-0)" font-size="13px"><text x="866.5" y="260.5">- providers: []provider.Provider</text></g><path d="M 1268 222 L 1268 190 L 1878 190 L 1878 222" fill="#019ed5" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1268 222 L 1268 274 L 1878 274 L 1878 222" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1268 222 L 1878 222" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1274.5" y="203">&lt;&lt;interface&gt;&gt;</text><text x="1274.5" y="219">Provider</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1273-227-605-26-0)" font-size="13px"><text x="1274.5" y="240.5">+ Provide(configurationChan chan&lt;- dynamic.Message, pool *safe.Pool) error</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1273-253-605-26-0)" font-size="13px"><text x="1274.5" y="266.5">+ Init() error</text></g><path d="M 60 756 L 60 730 L 350 730 L 350 756" fill="#1dbf97" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 756 L 60 860 L 350 860 L 350 756" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 756 L 350 756" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="66.5" y="748">Provider</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-65-761-285-26-0)" font-size="13px"><text x="66.5" y="774.5">- Directory: string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-65-787-285-26-0)" font-size="13px"><text x="66.5" y="800.5">- Watch: bool</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-65-813-285-26-0)" font-size="13px"><text x="66.5" y="826.5">- Filename: string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-65-839-285-26-0)" font-size="13px"><text x="66.5" y="852.5">- DebugLogGeneratedTemplate: bool</text></g><path d="M 1100 1066 L 1100 1040 L 1488 1040 L 1488 1066" fill="#1dbf97" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1100 1066 L 1100 1196 L 1488 1196 L 1488 1066" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1100 1066 L 1488 1066" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1106.5" y="1058">Provider</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1105-1071-383-26-0)" font-size="13px"><text x="1106.5" y="1084.5">- Constraints: string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1105-1097-383-26-0)" font-size="13px"><text x="1106.5" y="1110.5">- Endpoint: *EndpointConfig</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1105-1123-383-26-0)" font-size="13px"><text x="1106.5" y="1136.5">- Prefix: string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1105-1149-383-26-0)" font-size="13px"><text x="1106.5" y="1162.5">- client: *api.Client</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1105-1175-383-26-0)" font-size="13px"><text x="1106.5" y="1188.5">- defaultRuleTpl: *template.Template</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 169px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 配置聚合处理</div></div></div></foreignObject><text x="32" y="173" fill="#000000" font-family="source code pro" font-size="13px">1. 配置聚合处理</text></switch></g><rect x="30" y="190" width="304" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 297px; height: 1px; padding-top: 220px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewProviderAggregator(...)</div></div></div></foreignObject><text x="37" y="224" fill="#000000" font-family="source code pro" font-size="13px">func NewProviderAggregator(...)</text></switch></g><rect x="434" y="190" width="250" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 243px; height: 1px; padding-top: 220px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">p := ProviderAggregator{}</div></div></div></foreignObject><text x="441" y="224" fill="#000000" font-family="source code pro" font-size="13px">p := ProviderAggregator{}</text></switch></g><rect x="434" y="260" width="286" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 279px; height: 1px; padding-top: 290px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">p.quietAddProvider(conf.File)</div></div></div></foreignObject><text x="441" y="294" fill="#000000" font-family="source code pro" font-size="13px">p.quietAddProvider(conf.File)</text></switch></g><rect x="434" y="330" width="356" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 349px; height: 1px; padding-top: 360px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">p.quietAddProvider(conf.Consul)</div></div></div></foreignObject><text x="441" y="364" fill="#000000" font-family="source code pro" font-size="13px">p.quietAddProvider(conf.Consul)</text></switch></g><rect x="945" y="330" width="214" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 207px; height: 1px; padding-top: 360px; margin-left: 952px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">quietAddProvider(...)</div></div></div></foreignObject><text x="952" y="364" fill="#000000" font-family="source code pro" font-size="13px">quietAddProvider(...)</text></switch></g><rect x="1250" y="330" width="295" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 288px; height: 1px; padding-top: 360px; margin-left: 1257px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">err := p.AddProvider(provider)</div></div></div></foreignObject><text x="1257" y="364" fill="#000000" font-family="source code pro" font-size="13px">err := p.AddProvider(provider)</text></switch></g><rect x="1604" y="330" width="376" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 369px; height: 1px; padding-top: 360px; margin-left: 1611px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">AddProvider(provider provider.Provider)</div></div></div></foreignObject><text x="1611" y="364" fill="#000000" font-family="source code pro" font-size="13px">AddProvider(provider provider.Provider)</text></switch></g><rect x="2060" y="300" width="483" height="120" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 476px; height: 1px; padding-top: 360px; margin-left: 2067px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">err := provider.Init()<br />if fileProvider, ok := provider.(*file.Provider); ok {<br />    p.fileProvider = fileProvider<br />} else {<br />    p.providers = append(p.providers, provider)<br />}</div></div></div></foreignObject><text x="2067" y="364" fill="#000000" font-family="source code pro" font-size="13px">err := provider.Init()...</text></switch></g><path d="M 334 220 L 427.63 220" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 220 L 425.88 223.5 L 427.63 220 L 425.88 216.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 334 220 L 370 220 Q 380 220 380 230 L 380 280 Q 380 290 390 290 L 427.63 290" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 290 L 425.88 293.5 L 427.63 290 L 425.88 286.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 334 220 L 370 220 Q 380 220 380 230 L 380 350 Q 380 360 390 360 L 427.63 360" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 360 L 425.88 363.5 L 427.63 360 L 425.88 356.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 790 360 L 938.63 360" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 943.88 360 L 936.88 363.5 L 938.63 360 L 936.88 356.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1159 360 L 1243.63 360" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1248.88 360 L 1241.88 363.5 L 1243.63 360 L 1241.88 356.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1545 360 L 1597.63 360" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1602.88 360 L 1595.88 363.5 L 1597.63 360 L 1595.88 356.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1980 360 L 2053.63 360" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2058.88 360 L 2051.88 363.5 L 2053.63 360 L 2051.88 356.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 466px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. traefix 内部配置</div></div></div></foreignObject><text x="32" y="470" fill="#000000" font-family="source code pro" font-size="13px">2. traefix 内部配置</text></switch></g><rect x="30" y="486" width="133" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 126px; height: 1px; padding-top: 516px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Provide(...)</div></div></div></foreignObject><text x="37" y="520" fill="#000000" font-family="source code pro" font-size="13px">Provide(...)</text></switch></g><rect x="434" y="468" width="410" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 403px; height: 1px; padding-top: 516px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">configurationChan &lt;- dynamic.Message{<br />    ProviderName:  "internal",<br />    Configuration: i.createConfiguration(ctx),<br />}</div></div></div></foreignObject><text x="441" y="520" fill="#000000" font-family="source code pro" font-size="13px">configurationChan &lt;- dynamic.Message{...</text></switch></g><rect x="945" y="486" width="345" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 516px; margin-left: 952px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">createConfiguration(ctx context.Context)</div></div></div></foreignObject><text x="952" y="520" fill="#000000" font-family="source code pro" font-size="13px">createConfiguration(ctx context.Context)</text></switch></g><rect x="1370" y="420" width="483" height="192" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 476px; height: 1px; padding-top: 516px; margin-left: 1377px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">cfg := &amp;dynamic.Configuration{<br />    HTTP: &amp;dynamic.HTTPConfiguration{<br />        Routers:     make(map[string]*dynamic.Router),<br />        Services:    make(map[string]*dynamic.Service),<br />    },<br />    TCP: &amp;dynamic.TCPConfiguration{<br />        Routers:  make(map[string]*dynamic.TCPRouter),<br />        Services: make(map[string]*dynamic.TCPService),<br />    },<br />}<br />i.apiConfiguration(cfg)<br />return cfg</div></div></div></foreignObject><text x="1377" y="520" fill="#000000" font-family="source code pro" font-size="13px">cfg := &amp;dynamic.Configuration{...</text></switch></g><rect x="1930" y="486" width="214" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 207px; height: 1px; padding-top: 516px; margin-left: 1937px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">apiConfiguration(...)</div></div></div></foreignObject><text x="1937" y="520" fill="#000000" font-family="source code pro" font-size="13px">apiConfiguration(...)</text></switch></g><rect x="2220" y="462" width="489" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 482px; height: 1px; padding-top: 516px; margin-left: 2227px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">cfg.HTTP.Routers["api"] = &amp;dynamic.Router{<br />    EntryPoints: []string{defaultInternalEntryPointName},<br />    Service:     "api@internal",<br />    Rule:        "PathPrefix(`/api`)",<br />}</div></div></div></foreignObject><text x="2227" y="520" fill="#000000" font-family="source code pro" font-size="13px">cfg.HTTP.Routers["api"] = &amp;dynamic.Router{...</text></switch></g><path d="M 163 516 L 427.63 516" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 516 L 425.88 519.5 L 427.63 516 L 425.88 512.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 844 516 L 938.63 516" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 943.88 516 L 936.88 519.5 L 938.63 516 L 936.88 512.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1290 516 L 1363.63 516" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1368.88 516 L 1361.88 519.5 L 1363.63 516 L 1361.88 512.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1853 516 L 1923.63 516" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1928.88 516 L 1921.88 519.5 L 1923.63 516 L 1921.88 512.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2144 516 L 2213.63 516" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2218.88 516 L 2211.88 519.5 L 2213.63 516 L 2211.88 512.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 630px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 文件配置提供器</div></div></div></foreignObject><text x="32" y="634" fill="#000000" font-family="source code pro" font-size="13px">3. 文件配置提供器</text></switch></g><rect x="30" y="650" width="133" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 126px; height: 1px; padding-top: 680px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Provide(...)</div></div></div></foreignObject><text x="37" y="684" fill="#000000" font-family="source code pro" font-size="13px">Provide(...)</text></switch></g><rect x="434" y="650" width="421" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 414px; height: 1px; padding-top: 680px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">configuration, err := p.BuildConfiguration()</div></div></div></foreignObject><text x="441" y="684" fill="#000000" font-family="source code pro" font-size="13px">configuration, err := p.BuildConfiguration()</text></switch></g><rect x="434" y="720" width="637" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 630px; height: 1px; padding-top: 750px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">err := p.addWatcher(pool, watchItem, configurationChan, p.watcherCallback)</div></div></div></foreignObject><text x="441" y="754" fill="#000000" font-family="source code pro" font-size="13px">err := p.addWatcher(pool, watchItem, configurationChan, p.watcherCallback)</text></switch></g><rect x="434" y="790" width="467" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 460px; height: 1px; padding-top: 820px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">sendConfigToChannel(configurationChan, configuration)</div></div></div></foreignObject><text x="441" y="824" fill="#000000" font-family="source code pro" font-size="13px">sendConfigToChannel(configurationChan, configuration)</text></switch></g><rect x="1156" y="650" width="205" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 198px; height: 1px; padding-top: 680px; margin-left: 1163px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">BuildConfiguration()</div></div></div></foreignObject><text x="1163" y="684" fill="#000000" font-family="source code pro" font-size="13px">BuildConfiguration()</text></switch></g><rect x="1878" y="620" width="540" height="120" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 533px; height: 1px; padding-top: 680px; margin-left: 1885px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">if len(p.Directory) &gt; 0 {<br />    return p.loadFileConfigFromDirectory(ctx, p.Directory, nil)<br />}<br />if len(p.Filename) &gt; 0 {<br />    return p.loadFileConfig(ctx, p.Filename, true)<br />}</div></div></div></foreignObject><text x="1885" y="684" fill="#000000" font-family="source code pro" font-size="13px">if len(p.Directory) &gt; 0 {...</text></switch></g><rect x="1156" y="720" width="160" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 153px; height: 1px; padding-top: 750px; margin-left: 1163px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">addWatcher(...)</div></div></div></foreignObject><text x="1163" y="754" fill="#000000" font-family="source code pro" font-size="13px">addWatcher(...)</text></switch></g><rect x="1430" y="714" width="358" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 351px; height: 1px; padding-top: 750px; margin-left: 1437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">watcher, err := fsnotify.NewWatcher()<br />err = watcher.Add(directory)</div></div></div></foreignObject><text x="1437" y="754" fill="#000000" font-family="source code pro" font-size="13px">watcher, err := fsnotify.NewWatcher()...</text></switch></g><rect x="1430" y="796" width="356" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 349px; height: 1px; padding-top: 844px; margin-left: 1437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">select {<br />case evt := &lt;-watcher.Events:<br />    callback(configurationChan, evt)<br />}</div></div></div></foreignObject><text x="1437" y="848" fill="#000000" font-family="source code pro" font-size="13px">select {...</text></switch></g><rect x="1852" y="814" width="205" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 198px; height: 1px; padding-top: 844px; margin-left: 1859px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">watcherCallback(...)</div></div></div></foreignObject><text x="1859" y="848" fill="#000000" font-family="source code pro" font-size="13px">watcherCallback(...)</text></switch></g><rect x="2142" y="808" width="502" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 495px; height: 1px; padding-top: 844px; margin-left: 2149px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">configuration, err := p.BuildConfiguration()<br />sendConfigToChannel(configurationChan, configuration)</div></div></div></foreignObject><text x="2149" y="848" fill="#000000" font-family="source code pro" font-size="13px">configuration, err := p.BuildConfiguration()...</text></switch></g><rect x="990" y="790" width="286" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 279px; height: 1px; padding-top: 820px; margin-left: 997px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func sendConfigToChannel(...)</div></div></div></foreignObject><text x="997" y="824" fill="#000000" font-family="source code pro" font-size="13px">func sendConfigToChannel(...)</text></switch></g><rect x="1365" y="904" width="370" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 363px; height: 1px; padding-top: 952px; margin-left: 1372px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">configurationChan &lt;- dynamic.Message{<br />    ProviderName:  "file",<br />    Configuration: configuration,<br />}</div></div></div></foreignObject><text x="1372" y="956" fill="#000000" font-family="source code pro" font-size="13px">configurationChan &lt;- dynamic.Message{...</text></switch></g><path d="M 163 680 L 427.63 680" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 680 L 425.88 683.5 L 427.63 680 L 425.88 676.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 163 680 L 370 680 Q 380 680 380 690 L 380 740 Q 380 750 390 750 L 427.63 750" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 750 L 425.88 753.5 L 427.63 750 L 425.88 746.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 163 680 L 370 680 Q 380 680 380 690 L 380 810 Q 380 820 390 820 L 427.63 820" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 820 L 425.88 823.5 L 427.63 820 L 425.88 816.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 855 680 L 1149.63 680" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1154.88 680 L 1147.88 683.5 L 1149.63 680 L 1147.88 676.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1361 680 L 1871.63 680" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1876.88 680 L 1869.88 683.5 L 1871.63 680 L 1869.88 676.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1071 750 L 1149.63 750" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1154.88 750 L 1147.88 753.5 L 1149.63 750 L 1147.88 746.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1316 750 L 1423.63 750" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1428.88 750 L 1421.88 753.5 L 1423.63 750 L 1421.88 746.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1316 750 L 1356 750 Q 1366 750 1366 760 L 1366 834 Q 1366 844 1376 844 L 1423.63 844" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1428.88 844 L 1421.88 847.5 L 1423.63 844 L 1421.88 840.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1786 844 L 1845.63 844" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1850.88 844 L 1843.88 847.5 L 1845.63 844 L 1843.88 840.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2057 844 L 2135.63 844" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2140.88 844 L 2133.88 847.5 L 2135.63 844 L 2133.88 840.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 901 820 L 983.63 820" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 988.88 820 L 981.88 823.5 L 983.63 820 L 981.88 816.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1276 820 L 1330 820 Q 1340 820 1340 830 L 1340 942 Q 1340 952 1349.32 952 L 1358.63 952" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1363.88 952 L 1356.88 955.5 L 1358.63 952 L 1356.88 948.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 940px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">4. Consul 配置提供器</div></div></div></foreignObject><text x="32" y="944" fill="#000000" font-family="source code pro" font-size="13px">4. Consul 配置提供器</text></switch></g><rect x="30" y="960" width="79" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 72px; height: 1px; padding-top: 990px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Init()</div></div></div></foreignObject><text x="37" y="994" fill="#000000" font-family="source code pro" font-size="13px">Init()</text></switch></g><rect x="434" y="954" width="615.5" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 609px; height: 1px; padding-top: 990px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">defaultRuleTpl, err := provider.MakeDefaultRuleTemplate(p.DefaultRule, nil)<br />p.defaultRuleTpl = defaultRuleTpl</div></div></div></foreignObject><text x="441" y="994" fill="#000000" font-family="source code pro" font-size="13px">defaultRuleTpl, err := provider.MakeDefaultRuleTemplate(p.DefaultRule, nil)...</text></switch></g><rect x="30" y="1040" width="133" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 126px; height: 1px; padding-top: 1070px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Provide(...)</div></div></div></foreignObject><text x="37" y="1074" fill="#000000" font-family="source code pro" font-size="13px">Provide(...)</text></switch></g><rect x="434" y="1040" width="536" height="190" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 529px; height: 1px; padding-top: 1135px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">p.client, err = createClient(p.Endpoint)<br />for {<br />    select {<br />    case &lt;-ticker.C:<br />        data, err := p.getConsulServicesData(routineCtx)<br />        configuration := p.buildConfiguration(routineCtx, data)<br />        configurationChan &lt;- dynamic.Message{<br />            ProviderName:  "consulcatalog",<br />            Configuration: configuration,<br />        }<br />    }<br />}</div></div></div></foreignObject><text x="441" y="1139" fill="#000000" font-family="source code pro" font-size="13px">p.client, err = createClient(p.Endpoint)...</text></switch></g><path d="M 109 990 L 427.63 990" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 990 L 425.88 993.5 L 427.63 990 L 425.88 986.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 163 1070 L 288.5 1070 Q 298.5 1070 298.5 1080 L 298.5 1125 Q 298.5 1135 308.5 1135 L 427.63 1135" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 432.88 1135 L 425.88 1138.5 L 427.63 1135 L 425.88 1131.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 860 255 L 782 255 Q 772 255 772 245 L 772 230 Q 772 220 762 220 L 690.37 220" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 685.12 220 L 692.12 216.5 L 690.37 220 L 692.12 223.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><font face="source code pro" style="font-size: 18px">Traefix Provider 实现</font></div></div></div></foreignObject><text x="32" y="50" fill="#000000" font-family="Helvetica" font-size="18px">Traefix Provider 实现</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>