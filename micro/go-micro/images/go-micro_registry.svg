<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2164px" height="702px" viewBox="-0.5 -0.5 2164 702" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-09-12T13:56:36.554Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;Ny0tH9juxgzgEPRyqVAO&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;Sn6isggS_s33gHMW-QPV&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-807-67-445-26-0"><rect x="807" y="67" width="445" height="26"/></clipPath><clipPath id="mx-clip-807-93-445-26-0"><rect x="807" y="93" width="445" height="26"/></clipPath><clipPath id="mx-clip-807-119-445-26-0"><rect x="807" y="119" width="445" height="26"/></clipPath><clipPath id="mx-clip-807-145-445-26-0"><rect x="807" y="145" width="445" height="26"/></clipPath></defs><g><path d="M 802 62 L 802 30 L 1252 30 L 1252 62" fill="#019ed5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 802 62 L 802 166 L 1252 166 L 1252 62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 802 62 L 1252 62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="808.5" y="43">&lt;&lt;interface&gt;&gt;</text><text x="808.5" y="59">Registry</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-807-67-445-26-0)" font-size="13px"><text x="808.5" y="80.5">+ Register(*Service, ...RegisterOption) error</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-807-93-445-26-0)" font-size="13px"><text x="808.5" y="106.5">+ GetService(string, ...GetOption) ([]*Service, error)</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-807-119-445-26-0)" font-size="13px"><text x="808.5" y="132.5">+ ListServices(...ListOption) ([]*Service, error)</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-807-145-445-26-0)" font-size="13px"><text x="808.5" y="158.5">+ Watch(...WatchOption) (Watcher, error)</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 181px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建服务注册与发现实例</div></div></div></foreignObject><text x="32" y="185" fill="#000000" font-family="source code pro" font-size="13px">1. 创建服务注册与发现实例</text></switch></g><rect x="30" y="202" width="214" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 207px; height: 1px; padding-top: 232px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewRegistry(...)</div></div></div></foreignObject><text x="37" y="236" fill="#000000" font-family="source code pro" font-size="13px">func NewRegistry(...)</text></switch></g><rect x="340" y="166" width="380" height="132" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 373px; height: 1px; padding-top: 232px; margin-left: 347px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">e := &amp;etcdRegistry{<br />    options:  registry.Options{},<br />    register: make(map[string]register),<br />    leases:   make(map[string]leases),<br />}<br />configure(e, opts...)<br />return e</div></div></div></foreignObject><text x="347" y="236" fill="#000000" font-family="source code pro" font-size="13px">e := &amp;etcdRegistry{...</text></switch></g><rect x="802" y="202" width="196" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 189px; height: 1px; padding-top: 232px; margin-left: 809px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func configure(...)</div></div></div></foreignObject><text x="809" y="236" fill="#000000" font-family="source code pro" font-size="13px">func configure(...)</text></switch></g><rect x="1090" y="190" width="241" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 234px; height: 1px; padding-top: 232px; margin-left: 1097px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">cli, err := newClient(e)<br />e.client = cli<br />return nil</div></div></div></foreignObject><text x="1097" y="236" fill="#000000" font-family="source code pro" font-size="13px">cli, err := newClient(e)...</text></switch></g><rect x="1420" y="202" width="304" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 297px; height: 1px; padding-top: 232px; margin-left: 1427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func newClient(e *etcdRegistry)</div></div></div></foreignObject><text x="1427" y="236" fill="#000000" font-family="source code pro" font-size="13px">func newClient(e *etcdRegistry)</text></switch></g><rect x="1820" y="190" width="313" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 306px; height: 1px; padding-top: 232px; margin-left: 1827px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">config.Endpoints = cAddrs<br />cli, err := clientv3.New(config)<br />return cli, nil</div></div></div></foreignObject><text x="1827" y="236" fill="#000000" font-family="source code pro" font-size="13px">config.Endpoints = cAddrs...</text></switch></g><path d="M 244 232 L 333.63 232" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 338.88 232 L 331.88 235.5 L 333.63 232 L 331.88 228.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 720 232 L 795.63 232" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 800.88 232 L 793.88 235.5 L 795.63 232 L 793.88 228.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 998 232 L 1083.63 232" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1088.88 232 L 1081.88 235.5 L 1083.63 232 L 1081.88 228.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1331 232 L 1413.63 232" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1418.88 232 L 1411.88 235.5 L 1413.63 232 L 1411.88 228.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1724 232 L 1813.63 232" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1818.88 232 L 1811.88 235.5 L 1813.63 232 L 1811.88 228.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 342px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 注册服务</div></div></div></foreignObject><text x="32" y="346" fill="#000000" font-family="source code pro" font-size="13px">2. 注册服务</text></switch></g><rect x="30" y="359" width="142" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 135px; height: 1px; padding-top: 389px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Register(...)</div></div></div></foreignObject><text x="37" y="393" fill="#000000" font-family="source code pro" font-size="13px">Register(...)</text></switch></g><rect x="272" y="341" width="338" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 331px; height: 1px; padding-top: 389px; margin-left: 279px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for _, node := range s.Nodes {<br />    e.registerNode(s, node, opts...)<br />}<br />return gerr</div></div></div></foreignObject><text x="279" y="393" fill="#000000" font-family="source code pro" font-size="13px">for _, node := range s.Nodes {...</text></switch></g><rect x="720" y="359" width="178" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 389px; margin-left: 727px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">registerNode(...)</div></div></div></foreignObject><text x="727" y="393" fill="#000000" font-family="source code pro" font-size="13px">registerNode(...)</text></switch></g><rect x="998" y="335" width="351" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 344px; height: 1px; padding-top: 389px; margin-left: 1005px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">service := &amp;registry.Service{<br />    Name:      s.Name,<br />    Endpoints: s.Endpoints,<br />    Nodes:     []*registry.Node{node},<br />}</div></div></div></foreignObject><text x="1005" y="393" fill="#000000" font-family="source code pro" font-size="13px">service := &amp;registry.Service{...</text></switch></g><rect x="1460" y="432" width="459" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 452px; height: 1px; padding-top: 474px; margin-left: 1467px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">putOpts = append(putOpts, clientv3.WithLease(lgr.ID))<br />e.client.Put(ctx, key, encode(service), putOpts...)<br />return nil</div></div></div></foreignObject><text x="1467" y="478" fill="#000000" font-family="source code pro" font-size="13px">putOpts = append(putOpts, clientv3.WithLease(lgr.ID))...</text></switch></g><path d="M 172 389 L 265.63 389" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 270.88 389 L 263.88 392.5 L 265.63 389 L 263.88 385.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 610 389 L 713.63 389" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 718.88 389 L 711.88 392.5 L 713.63 389 L 711.88 385.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 898 389 L 991.63 389" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 996.88 389 L 989.88 392.5 L 991.63 389 L 989.88 385.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1349 389 L 1453.63 389" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1458.88 389 L 1451.88 392.5 L 1453.63 389 L 1451.88 385.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1349 389 L 1394.5 389 Q 1404.5 389 1404.5 399 L 1404.5 464 Q 1404.5 474 1414.5 474 L 1453.63 474" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1458.88 474 L 1451.88 477.5 L 1453.63 474 L 1451.88 470.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 482px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 发现服务</div></div></div></foreignObject><text x="32" y="486" fill="#000000" font-family="source code pro" font-size="13px">3. 发现服务</text></switch></g><rect x="30" y="492" width="160" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 153px; height: 1px; padding-top: 522px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">GetService(...)</div></div></div></foreignObject><text x="37" y="526" fill="#000000" font-family="source code pro" font-size="13px">GetService(...)</text></switch></g><rect x="290" y="492" width="826" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 819px; height: 1px; padding-top: 522px; margin-left: 297px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">rsp, err := e.client.Get(ctx, prefix, clientv3.WithPrefix(), clientv3.WithSerializable())</div></div></div></foreignObject><text x="297" y="526" fill="#000000" font-family="source code pro" font-size="13px">rsp, err := e.client.Get(ctx, prefix, clientv3.WithPrefix(), clientv3.WithSerializable())</text></switch></g><rect x="290" y="563" width="286" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 279px; height: 1px; padding-top: 617px; margin-left: 297px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">results = rsp.Kvs<br />for _, n := range results {<br />    decode(n.Value)<br />}<br />return services, nil</div></div></div></foreignObject><text x="297" y="621" fill="#000000" font-family="source code pro" font-size="13px">results = rsp.Kvs...</text></switch></g><path d="M 190 522 L 283.63 522" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 288.88 522 L 281.88 525.5 L 283.63 522 L 281.88 518.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 190 522 L 240 522 Q 250 522 250 532 L 250 607 Q 250 617 260 617 L 283.63 617" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 288.88 617 L 281.88 620.5 L 283.63 617 L 281.88 613.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1460" y="359" width="550" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 543px; height: 1px; padding-top: 389px; margin-left: 1467px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">lgr, err = e.client.Grant(ctx, int64(options.TTL.Seconds()))</div></div></div></foreignObject><text x="1467" y="393" fill="#000000" font-family="source code pro" font-size="13px">lgr, err = e.client.Grant(ctx, int64(options.TTL.Seconds()))</text></switch></g><path d="M 1349 389 L 1453.63 389" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1458.88 389 L 1451.88 392.5 L 1453.63 389 L 1451.88 385.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Go-Micro 服务注册与发现实现</div></div></div></foreignObject><text x="32" y="50" fill="#000000" font-family="source code pro" font-size="18px">Go-Micro 服务注册与发现实现</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>