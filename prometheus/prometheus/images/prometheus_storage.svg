<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3298px" height="1361px" viewBox="-0.5 -0.5 3298 1361" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-03-08T06:10:17.240Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.5.3 Chrome/78.0.3904.130 Electron/7.1.9 Safari/537.36&quot; etag=&quot;mQo6FBSeI65N9YB8ij_H&quot; version=&quot;12.5.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;SX8_Lgnbans2BAJDm3Ft&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-451-155-152-26-0"><rect x="451" y="155" width="152" height="26"/></clipPath><clipPath id="mx-clip-451-181-152-26-0"><rect x="451" y="181" width="152" height="26"/></clipPath><clipPath id="mx-clip-671-155-152-26-0"><rect x="671" y="155" width="152" height="26"/></clipPath><clipPath id="mx-clip-671-181-152-26-0"><rect x="671" y="181" width="152" height="26"/></clipPath><clipPath id="mx-clip-1041-385-192-26-0"><rect x="1041" y="385" width="192" height="26"/></clipPath><clipPath id="mx-clip-1041-411-192-26-0"><rect x="1041" y="411" width="192" height="26"/></clipPath><clipPath id="mx-clip-1861-287-212-26-0"><rect x="1861" y="287" width="212" height="26"/></clipPath><clipPath id="mx-clip-1861-313-212-26-0"><rect x="1861" y="313" width="212" height="26"/></clipPath><clipPath id="mx-clip-871-665-152-26-0"><rect x="871" y="665" width="152" height="26"/></clipPath><clipPath id="mx-clip-871-691-152-26-0"><rect x="871" y="691" width="152" height="26"/></clipPath><clipPath id="mx-clip-86-878-302-26-0"><rect x="86" y="878" width="302" height="26"/></clipPath><clipPath id="mx-clip-86-904-302-26-0"><rect x="86" y="904" width="302" height="26"/></clipPath><clipPath id="mx-clip-86-930-302-26-0"><rect x="86" y="930" width="302" height="26"/></clipPath><clipPath id="mx-clip-86-1290-172-26-0"><rect x="86" y="1290" width="172" height="26"/></clipPath><clipPath id="mx-clip-86-1316-172-26-0"><rect x="86" y="1316" width="172" height="26"/></clipPath><clipPath id="mx-clip-2301-622-152-26-0"><rect x="2301" y="622" width="152" height="26"/></clipPath></defs><g><path d="M 447 150 L 447 124 L 607 124 L 607 150" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 447 150 L 447 202 L 607 202 L 607 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 447 150 L 607 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="453.5" y="142">ReadyStorage</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-451-155-152-26-0)" font-size="12px"><text x="452.5" y="167.5">- mtx: sync.RWMutex</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-451-181-152-26-0)" font-size="12px"><text x="452.5" y="193.5">- a: *adapter</text></g><path d="M 667 143.5 L 647 143.83 Q 637 144 637 154 L 637 179 Q 637 189 627 189 L 613.37 189" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 608.12 189 L 615.12 185.5 L 613.37 189 L 615.12 192.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 667 150 L 667 124 L 827 124 L 827 150" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 667 150 L 667 202 L 827 202 L 827 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 667 150 L 827 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="673.5" y="142">adapter</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-671-155-152-26-0)" font-size="12px"><text x="672.5" y="167.5">- db: *tsdb.DB</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-671-181-152-26-0)" font-size="12px"><text x="672.5" y="193.5">- startTimeMargin: int64</text></g><path d="M 1037 374 L 937 374 Q 927 374 927 364 L 927 339 Q 927 329 917 329 L 906.37 329" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 901.12 329 L 908.12 325.5 L 906.37 329 L 908.12 332.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1037 380 L 1037 354 L 1237 354 L 1237 380" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1037 380 L 1037 432 L 1237 432 L 1237 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1037 380 L 1237 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1043.5" y="372">Storage</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1041-385-192-26-0)" font-size="12px"><text x="1042.5" y="397.5">- rws: *WriteStorage</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1041-411-192-26-0)" font-size="12px"><text x="1042.5" y="423.5">- queryables: []storage.Queryable</text></g><path d="M 1857 275.5 L 1847 275.75 Q 1837 276 1837 286 L 1837 295 Q 1837 304 1830.18 304 L 1823.37 304" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1818.12 304 L 1825.12 300.5 L 1823.37 304 L 1825.12 307.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1857 282 L 1857 256 L 2077 256 L 2077 282" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1857 282 L 1857 334 L 2077 334 L 2077 282" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1857 282 L 2077 282" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1863.5" y="274">WriteStorage</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1861-287-212-26-0)" font-size="12px"><text x="1862.5" y="299.5">- walDir: string</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1861-313-212-26-0)" font-size="12px"><text x="1862.5" y="325.5">- queues: map[string]*QueueManager</text></g><path d="M 867 653.5 L 783 653.95 Q 773 654 773 664 L 773 679 Q 773 689 763 689 L 685.87 689" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 680.62 689 L 687.62 685.5 L 685.87 689 L 687.62 692.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 867 660 L 867 634 L 1027 634 L 1027 660" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 867 660 L 867 712 L 1027 712 L 1027 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 867 660 L 1027 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="873.5" y="652">fanoutAppender</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-871-665-152-26-0)" font-size="12px"><text x="872.5" y="677.5">- primary: Appender</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-871-691-152-26-0)" font-size="12px"><text x="872.5" y="703.5">- secondaries: []Appender</text></g><path d="M 82 873 L 82 847 L 392 847 L 392 873" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 82 873 L 82 951 L 392 951 L 392 873" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 82 873 L 392 873" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="88.5" y="865">Appender</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-86-878-302-26-0)" font-size="12px"><text x="87.5" y="890.5">+ Add(l labels.Labels, t int64, v float64) (uint64, error)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-86-904-302-26-0)" font-size="12px"><text x="87.5" y="916.5">+ Commit() error</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-86-930-302-26-0)" font-size="12px"><text x="87.5" y="942.5">+ Rollback() error</text></g><rect x="47" y="124" width="330" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 154px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">localStorage  = &amp;tsdb.ReadyStorage{}</div></div></div></foreignObject><text x="54" y="158" fill="#000000" font-family="source code pro" font-size="13px">localStorage  = &amp;tsdb.ReadyStorage{}</text></switch></g><path d="M 377 284 L 393 284 Q 403 284 403 294 L 403 299 Q 403 304 413 304 L 423.13 304" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 428.38 304 L 421.38 307.5 L 423.13 304 L 421.38 300.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="47" y="254" width="330" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 284px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">remoteStorage = remote.NewStorage</div></div></div></foreignObject><text x="54" y="288" fill="#000000" font-family="source code pro" font-size="13px">remoteStorage = remote.NewStorage</text></switch></g><path d="M 899.5 304 L 960.63 304" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 965.88 304 L 958.88 307.5 L 960.63 304 L 958.88 300.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="429.5" y="254" width="470" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 461px; height: 1px; padding-top: 304px; margin-left: 437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>s := &amp;Storage{</div><div>    localStartTimeCallback: stCallback,</div><div>}</div><div>s.rws = NewWriteStorage(s.logger, walDir, flushDeadline)</div><div>return s</div></div></div></div></foreignObject><text x="437" y="308" fill="#000000" font-family="source code pro" font-size="13px">s := &amp;Storage{...</text></switch></g><path d="M 1167 304 L 1270.63 304" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1275.88 304 L 1268.88 307.5 L 1270.63 304 L 1268.88 300.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="967" y="274" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 191px; height: 1px; padding-top: 304px; margin-left: 974px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">NewWriteStorage(...)</div></div></div></foreignObject><text x="974" y="308" fill="#000000" font-family="source code pro" font-size="13px">NewWriteStorage(...)</text></switch></g><rect x="1277" y="254" width="540" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 531px; height: 1px; padding-top: 304px; margin-left: 1284px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>rws := &amp;WriteStorage{</div><div>    queues:        make(map[string]*QueueManager),</div><div>    samplesIn:     newEWMARate(ewmaWeight, shardUpdateDuration),</div><div>    walDir:        walDir,</div><div>}</div><div>go rws.run()</div></div></div></div></foreignObject><text x="1284" y="308" fill="#000000" font-family="source code pro" font-size="13px">rws := &amp;WriteStorage{...</text></switch></g><path d="M 617 424 L 690.63 424" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 695.88 424 L 688.88 427.5 L 690.63 424 L 688.88 420.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="47" y="394" width="570" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 561px; height: 1px; padding-top: 424px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">fanoutStorage = storage.NewFanout(logger, localStorage, remoteStorage)</div></div></div></foreignObject><text x="54" y="428" fill="#000000" font-family="source code pro" font-size="13px">fanoutStorage = storage.NewFanout(logger, localStorage, remoteStorage)</text></switch></g><path d="M 297 534 L 423.13 534" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 428.38 534 L 421.38 537.5 L 423.13 534 L 421.38 530.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="47" y="504" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 534px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(f *fanout) Appender()</div></div></div></foreignObject><text x="54" y="538" fill="#000000" font-family="source code pro" font-size="13px">(f *fanout) Appender()</text></switch></g><path d="M 547 797 L 600.63 797" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 605.88 797 L 598.88 800.5 L 600.63 797 L 598.88 793.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="47" y="767" width="500" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 491px; height: 1px; padding-top: 797px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(f *fanoutAppender) Add(l labels.Labels, t int64, v float64)</div></div></div></foreignObject><text x="54" y="801" fill="#000000" font-family="source code pro" font-size="13px">(f *fanoutAppender) Add(l labels.Labels, t int64, v float64)</text></switch></g><path d="M 297 1009 L 423.13 1009" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 428.38 1009 L 421.38 1012.5 L 423.13 1009 L 421.38 1005.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="47" y="979" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 1009px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(f *fanoutAppender) Commit()</div></div></div></foreignObject><text x="54" y="1013" fill="#000000" font-family="source code pro" font-size="13px">(f *fanoutAppender) Commit()</text></switch></g><path d="M 1357 174 L 1420.63 174" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1425.88 174 L 1418.88 177.5 L 1420.63 174 L 1418.88 170.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="987" y="124" width="370" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 361px; height: 1px; padding-top: 174px; margin-left: 994px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>db, err := tsdb.Open(</div><div>    cfg.localStoragePath,</div><div>    log.With(logger, "component", "tsdb"),</div><div>    prometheus.DefaultRegisterer,</div><div>    &amp;cfg.tsdb,</div><div>)</div></div></div></div></foreignObject><text x="994" y="178" fill="#000000" font-family="source code pro" font-size="13px">db, err := tsdb.Open(...</text></switch></g><rect x="47" y="1084" width="387.5" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 379px; height: 1px; padding-top: 1114px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Querier(ctx context.Context, mint, maxt int64)</div></div></div></foreignObject><text x="54" y="1118" fill="#000000" font-family="source code pro" font-size="13px">Querier(ctx context.Context, mint, maxt int64)</text></switch></g><path d="M 202 1219 L 423.13 1219" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 428.38 1219 L 421.38 1222.5 L 423.13 1219 L 421.38 1215.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="47" y="1189" width="155" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 146px; height: 1px; padding-top: 1219px; margin-left: 54px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Select(...)</div></div></div></foreignObject><text x="54" y="1223" fill="#000000" font-family="source code pro" font-size="13px">Select(...)</text></switch></g><rect x="429.5" y="1189" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 1219px; margin-left: 437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">set, err := q.q.Select(ms...)</div></div></div></foreignObject><text x="437" y="1223" fill="#000000" font-family="source code pro" font-size="13px">set, err := q.q.Select(ms...)</text></switch></g><path d="M 202 1219 L 367 1219 Q 377 1219 377 1229 L 377 1279 Q 377 1289 387 1289 L 423.13 1289" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 428.38 1289 L 421.38 1292.5 L 423.13 1289 L 421.38 1285.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="429.5" y="1259" width="330" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 1289px; margin-left: 437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return seriesSet{set: set}, nil, nil</div></div></div></foreignObject><text x="437" y="1293" fill="#000000" font-family="source code pro" font-size="13px">return seriesSet{set: set}, nil, nil</text></switch></g><path d="M 434.5 1114 L 533.13 1114" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 538.38 1114 L 531.38 1117.5 L 533.13 1114 L 531.38 1110.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1009.5 1114 L 1070.63 1114" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1075.88 1114 L 1068.88 1117.5 L 1070.63 1114 L 1068.88 1110.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="539.5" y="1084" width="470" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 461px; height: 1px; padding-top: 1114px; margin-left: 547px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">primaryQuerier, err := f.primary.Querier(ctx, mint, maxt)</div></div></div></foreignObject><text x="547" y="1118" fill="#000000" font-family="source code pro" font-size="13px">primaryQuerier, err := f.primary.Querier(ctx, mint, maxt)</text></switch></g><path d="M 1347 1114 L 1400.63 1114" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1405.88 1114 L 1398.88 1117.5 L 1400.63 1114 L 1398.88 1110.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1077" y="1084" width="270" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 261px; height: 1px; padding-top: 1114px; margin-left: 1084px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(s *ReadyStorage) Querier(...)</div></div></div></foreignObject><text x="1084" y="1118" fill="#000000" font-family="source code pro" font-size="13px">(s *ReadyStorage) Querier(...)</text></switch></g><path d="M 1347 1114 L 1375 1114 Q 1385 1114 1385 1124 L 1385 1174 Q 1385 1184 1392.82 1184 L 1400.63 1184" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1405.88 1184 L 1398.88 1187.5 L 1400.63 1184 L 1398.88 1180.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1407" y="1084" width="140" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 131px; height: 1px; padding-top: 1114px; margin-left: 1414px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">x := s.get()</div></div></div></foreignObject><text x="1414" y="1118" fill="#000000" font-family="source code pro" font-size="13px">x := s.get()</text></switch></g><path d="M 1697 1184 L 1798.13 1184" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1803.38 1184 L 1796.38 1187.5 L 1798.13 1184 L 1796.38 1180.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1407" y="1154" width="290" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 281px; height: 1px; padding-top: 1184px; margin-left: 1414px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return x.Querier(ctx, mint, maxt)</div></div></div></foreignObject><text x="1414" y="1188" fill="#000000" font-family="source code pro" font-size="13px">return x.Querier(ctx, mint, maxt)</text></switch></g><path d="M 1697 1184 L 1725 1184 Q 1735 1184 1735 1194 L 1735 1244 Q 1735 1254 1745 1254 L 1798.63 1254" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1803.88 1254 L 1796.88 1257.5 L 1798.63 1254 L 1796.88 1250.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1804.5" y="1154" width="300" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 291px; height: 1px; padding-top: 1184px; margin-left: 1812px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">q, err := a.db.Querier(mint, maxt)</div></div></div></foreignObject><text x="1812" y="1188" fill="#000000" font-family="source code pro" font-size="13px">q, err := a.db.Querier(mint, maxt)</text></switch></g><rect x="1804.5" y="1224" width="230" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 221px; height: 1px; padding-top: 1254px; margin-left: 1812px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return querier{q: q}, nil</div></div></div></foreignObject><text x="1812" y="1258" fill="#000000" font-family="source code pro" font-size="13px">return querier{q: q}, nil</text></switch></g><path d="M 1767 174 L 1840.63 174" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1845.88 174 L 1838.88 177.5 L 1840.63 174 L 1838.88 170.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1427" y="144" width="340" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 331px; height: 1px; padding-top: 174px; margin-left: 1434px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">localStorage.Set(db, startTimeMargin)</div></div></div></foreignObject><text x="1434" y="178" fill="#000000" font-family="source code pro" font-size="13px">localStorage.Set(db, startTimeMargin)</text></switch></g><path d="M 1997 204 L 1997 224 Q 1997 234 1987 234 L 515 234 Q 505 234 505 224 L 505 207.37" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 505 202.12 L 508.5 209.12 L 505 207.37 L 501.5 209.12 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><rect x="1847" y="144" width="300" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 291px; height: 1px; padding-top: 174px; margin-left: 1854px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">s.a = &amp;adapter{db: db, startTimeMargin: startTimeMargin}</div></div></div></foreignObject><text x="1854" y="178" fill="#000000" font-family="source code pro" font-size="13px">s.a = &amp;adapter{db: db, startTimeMargin: start...</text></switch></g><path d="M 679.5 1009 L 760.63 1009" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 765.88 1009 L 758.88 1012.5 L 760.63 1009 L 758.88 1005.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="429.5" y="979" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 1009px; margin-left: 437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">err = f.primary.Commit()</div></div></div></foreignObject><text x="437" y="1013" fill="#000000" font-family="source code pro" font-size="13px">err = f.primary.Commit()</text></switch></g><path d="M 1017 1009 L 1070.63 1009" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1075.88 1009 L 1068.88 1012.5 L 1070.63 1009 L 1068.88 1005.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="767" y="979" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 1009px; margin-left: 774px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(a appender) Commit()</div></div></div></foreignObject><text x="774" y="1013" fill="#000000" font-family="source code pro" font-size="13px">(a appender) Commit()</text></switch></g><path d="M 1327 1009 L 1400.63 1009" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1405.88 1009 L 1398.88 1012.5 L 1400.63 1009 L 1398.88 1005.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1077" y="979" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 1009px; margin-left: 1084px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return a.a.Commit()</div></div></div></foreignObject><text x="1084" y="1013" fill="#000000" font-family="source code pro" font-size="13px">return a.a.Commit()</text></switch></g><path d="M 1657 1009 L 1725.63 1009" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1730.88 1009 L 1723.88 1012.5 L 1725.63 1009 L 1723.88 1005.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1407" y="979" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 1009px; margin-left: 1414px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(a *headAppender) Commit()</div></div></div></foreignObject><text x="1414" y="1013" fill="#000000" font-family="source code pro" font-size="13px">(a *headAppender) Commit()</text></switch></g><rect x="1732" y="974" width="380" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 371px; height: 1px; padding-top: 1009px; margin-left: 1739px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>for i, s := range a.samples {</div><div>    series = a.sampleSeries[i]</div><div>    ok, chunkCreated := series.append(s.T, s.V)</div><div>}</div></div></div></div></foreignObject><text x="1739" y="1013" fill="#000000" font-family="source code pro" font-size="13px">for i, s := range a.samples {...</text></switch></g><path d="M 422 827 L 422 874 Q 422 884 432 884 L 600.63 884" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 605.88 884 L 598.88 887.5 L 600.63 884 L 598.88 880.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 907 797 L 983.13 797" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 988.38 797 L 981.38 800.5 L 983.13 797 L 981.38 793.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="607" y="767" width="300" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 291px; height: 1px; padding-top: 797px; margin-left: 614px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ref, err := f.primary.Add(l, t, v)</div></div></div></foreignObject><text x="614" y="801" fill="#000000" font-family="source code pro" font-size="13px">ref, err := f.primary.Add(l, t, v)</text></switch></g><path d="M 1194.5 797 L 1248.13 797" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1253.38 797 L 1246.38 800.5 L 1248.13 797 L 1246.38 793.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="989.5" y="767" width="205" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 196px; height: 1px; padding-top: 797px; margin-left: 997px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(a appender) Add(...)</div></div></div></foreignObject><text x="997" y="801" fill="#000000" font-family="source code pro" font-size="13px">(a appender) Add(...)</text></switch></g><path d="M 1524.5 797 L 1578.13 797" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1583.38 797 L 1576.38 800.5 L 1578.13 797 L 1576.38 793.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1254.5" y="767" width="270" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 261px; height: 1px; padding-top: 797px; margin-left: 1262px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ref, err := a.a.Add(lset, t, v)</div></div></div></foreignObject><text x="1262" y="801" fill="#000000" font-family="source code pro" font-size="13px">ref, err := a.a.Add(lset, t, v)</text></switch></g><rect x="1584.5" y="767" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 797px; margin-left: 1592px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(a *headAppender) Add(...)</div></div></div></foreignObject><text x="1592" y="801" fill="#000000" font-family="source code pro" font-size="13px">(a *headAppender) Add(...)</text></switch></g><path d="M 1834.5 797 L 1903.13 797" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1908.38 797 L 1901.38 800.5 L 1903.13 797 L 1901.38 793.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2224.5 797 L 2268.13 797" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2273.38 797 L 2266.38 800.5 L 2268.13 797 L 2266.38 793.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1909.5" y="767" width="315" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 306px; height: 1px; padding-top: 797px; margin-left: 1917px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return s.ref, a.AddFast(s.ref, t, v)</div></div></div></foreignObject><text x="1917" y="801" fill="#000000" font-family="source code pro" font-size="13px">return s.ref, a.AddFast(s.ref, t, v)</text></switch></g><path d="M 2774.5 797 L 2858.13 797" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2863.38 797 L 2856.38 800.5 L 2858.13 797 L 2856.38 793.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="2274.5" y="767" width="500" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 491px; height: 1px; padding-top: 797px; margin-left: 2282px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(a *headAppender) AddFast(ref uint64, t int64, v float64)</div></div></div></foreignObject><text x="2282" y="801" fill="#000000" font-family="source code pro" font-size="13px">(a *headAppender) AddFast(ref uint64, t int64, v float64)</text></switch></g><path d="M 2775 797 L 2797 797 Q 2807 797 2807 807 L 2807 874 Q 2807 884 2817 884 L 2858.63 884" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2863.88 884 L 2856.88 887.5 L 2858.63 884 L 2856.88 880.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="2864.5" y="747" width="390" height="100" rx="7" ry="7" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 381px; height: 1px; padding-top: 797px; margin-left: 2872px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>s := a.head.series.getByID(ref)</div><div>a.samples = append(a.samples, record.RefSample{</div><div>    Ref: ref,</div><div>    T:   t,</div><div>    V:   v,</div><div>})</div></div></div></div></foreignObject><text x="2872" y="801" fill="#000000" font-family="source code pro" font-size="13px">s := a.head.series.getByID(ref)...</text></switch></g><rect x="2864.5" y="854" width="350" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 341px; height: 1px; padding-top: 884px; margin-left: 2872px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>a.sampleSeries = append(a.sampleSeries, s)</div><div>    return nil</div><div>}</div></div></div></div></foreignObject><text x="2872" y="888" fill="#000000" font-family="source code pro" font-size="13px">a.sampleSeries = append(a.sampleSeries, s)...</text></switch></g><rect x="607" y="839" width="430" height="90" rx="13.5" ry="13.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 421px; height: 1px; padding-top: 884px; margin-left: 614px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>for _, appender := range f.secondaries {</div><div>    if _, err := appender.Add(l, t, v); err != nil {</div><div>        return 0, err</div><div>    }</div><div>}</div></div></div></div></foreignObject><text x="614" y="888" fill="#000000" font-family="source code pro" font-size="13px">for _, appender := range f.secondaries {...</text></switch></g><path d="M 297 534 L 307 534 Q 317 534 317 544 L 317 599 Q 317 609 327 609 L 423.13 609" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 428.38 609 L 421.38 612.5 L 423.13 609 L 421.38 605.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 749.5 534 L 960.63 534" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 965.88 534 L 958.88 537.5 L 960.63 534 L 958.88 530.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="429.5" y="504" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 534px; margin-left: 437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">primary, err := f.primary.Appender()</div></div></div></foreignObject><text x="437" y="538" fill="#000000" font-family="source code pro" font-size="13px">primary, err := f.primary.Appender()</text></switch></g><path d="M 1217 534 L 1300.63 534" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1305.88 534 L 1298.88 537.5 L 1300.63 534 L 1298.88 530.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="967" y="504" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 534px; margin-left: 974px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(s *ReadyStorage) Appender()</div></div></div></foreignObject><text x="974" y="538" fill="#000000" font-family="source code pro" font-size="13px">(s *ReadyStorage) Appender()</text></switch></g><path d="M 1217 534 L 1237 534 Q 1247 534 1247 544 L 1247 594 Q 1247 604 1257 604 L 1300.63 604" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1305.88 604 L 1298.88 607.5 L 1300.63 604 L 1298.88 600.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1457 534 L 1570.63 534" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1575.88 534 L 1568.88 537.5 L 1570.63 534 L 1568.88 530.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1307" y="504" width="150" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 141px; height: 1px; padding-top: 534px; margin-left: 1314px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><span style="white-space: normal">x := s.get()</span></div></div></div></foreignObject><text x="1314" y="538" fill="#000000" font-family="source code pro" font-size="13px">x := s.get()</text></switch></g><rect x="1577" y="504" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 111px; height: 1px; padding-top: 534px; margin-left: 1584px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">x := s.a</div></div></div></foreignObject><text x="1584" y="538" fill="#000000" font-family="source code pro" font-size="13px">x := s.a</text></switch></g><path d="M 1507 604 L 1570.63 604" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1575.88 604 L 1568.88 607.5 L 1570.63 604 L 1568.88 600.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1307" y="574" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 191px; height: 1px; padding-top: 604px; margin-left: 1314px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><span style="white-space: normal">return x.Appender()</span></div></div></div></foreignObject><text x="1314" y="608" fill="#000000" font-family="source code pro" font-size="13px">return x.Appender()</text></switch></g><path d="M 1797 604 L 1860.63 604" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1865.88 604 L 1858.88 607.5 L 1860.63 604 L 1858.88 600.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1577" y="574" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 211px; height: 1px; padding-top: 604px; margin-left: 1584px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(a adapter) Appender()</div></div></div></foreignObject><text x="1584" y="608" fill="#000000" font-family="source code pro" font-size="13px">(a adapter) Appender()</text></switch></g><path d="M 1959.5 574 L 1959.88 544 Q 1960 534 1970 534 L 2040.63 534" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2045.88 534 L 2038.88 537.5 L 2040.63 534 L 2038.88 530.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1867" y="574" width="370" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 361px; height: 1px; padding-top: 604px; margin-left: 1874px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return appender{a: a.db.Appender()}, nil</div></div></div></foreignObject><text x="1874" y="608" fill="#000000" font-family="source code pro" font-size="13px">return appender{a: a.db.Appender()}, nil</text></switch></g><path d="M 2237 534 L 2290.63 534" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2295.88 534 L 2288.88 537.5 L 2290.63 534 L 2288.88 530.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="2047" y="504" width="190" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 181px; height: 1px; padding-top: 534px; margin-left: 2054px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">(db *DB) Appender()</div></div></div></foreignObject><text x="2054" y="538" fill="#000000" font-family="source code pro" font-size="13px">(db *DB) Appender()</text></switch></g><path d="M 2757 534 L 2810.63 534" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2815.88 534 L 2808.88 537.5 L 2810.63 534 L 2808.88 530.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="2297" y="504" width="460" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 451px; height: 1px; padding-top: 534px; margin-left: 2304px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return dbAppender{db: db, Appender: db.head.Appender()}</div></div></div></foreignObject><text x="2304" y="538" fill="#000000" font-family="source code pro" font-size="13px">return dbAppender{db: db, Appender: db.head.Appender()}</text></switch></g><path d="M 2907 564 L 2907 624 Q 2907 634 2917 634 L 2940.63 634" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2945.88 634 L 2938.88 637.5 L 2940.63 634 L 2938.88 630.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="2817" y="504" width="180" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 534px; margin-left: 2824px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return h.appender()</div></div></div></foreignObject><text x="2824" y="538" fill="#000000" font-family="source code pro" font-size="13px">return h.appender()</text></switch></g><rect x="2947" y="574" width="330" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 634px; margin-left: 2954px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>return &amp;headAppender{</div><div>    head: h,</div><div>    mint:         math.MaxInt64,</div><div>    maxt:         math.MinInt64,</div><div>    samples:      h.getAppendBuffer(),</div><div>    sampleSeries: h.getSeriesBuffer(),</div><div>}</div></div></div></div></foreignObject><text x="2954" y="638" fill="#000000" font-family="source code pro" font-size="13px">return &amp;headAppender{...</text></switch></g><path d="M 297 534 L 307 534 Q 317 534 317 544 L 317 679 Q 317 689 327 689 L 423.13 689" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 428.38 689 L 421.38 692.5 L 423.13 689 L 421.38 685.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="429.5" y="574" width="410" height="70" rx="7.7" ry="7.7" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 401px; height: 1px; padding-top: 609px; margin-left: 437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>for _, storage := range f.secondaries {</div><div>    appender, err := storage.Appender()    </div><div>    secondaries = append(secondaries, appender)</div><div>}</div></div></div></div></foreignObject><text x="437" y="613" fill="#000000" font-family="source code pro" font-size="13px">for _, storage := range f.secondaries {...</text></switch></g><rect x="429.5" y="654" width="250" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 689px; margin-left: 437px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>return &amp;fanoutAppender{</div><div>    primary:     primary,</div><div>    secondaries: secondaries,</div><div>}, nil</div></div></div></div></foreignObject><text x="437" y="693" fill="#000000" font-family="source code pro" font-size="13px">return &amp;fanoutAppender{...</text></switch></g><rect x="697" y="389" width="290" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 281px; height: 1px; padding-top: 424px; margin-left: 704px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>return &amp;fanout{</div><div>    primary:     primary,</div><div>    secondaries: secondaries,</div><div>}</div></div></div></div></foreignObject><text x="704" y="428" fill="#000000" font-family="source code pro" font-size="13px">return &amp;fanout{...</text></switch></g><path d="M 82 1285 L 82 1259 L 262 1259 L 262 1285" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 82 1285 L 82 1337 L 262 1337 L 262 1285" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 82 1285 L 262 1285" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="88.5" y="1277">Querier</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-86-1290-172-26-0)" font-size="13px"><text x="87.5" y="1303.5">+ Select(...)</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-86-1316-172-26-0)" font-size="13px"><text x="87.5" y="1329.5">+ SelectSorted(...)</text></g><path d="M 2297 604 L 2243.37 604" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2238.12 604 L 2245.12 600.5 L 2243.37 604 L 2245.12 607.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2297 617 L 2297 591 L 2457 591 L 2457 617" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2297 617 L 2297 643 L 2457 643 L 2457 617" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2297 617 L 2457 617" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="2303.5" y="609">appender</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-2301-622-152-26-0)" font-size="12px"><text x="2302.5" y="634.5">- a: tsdb.Appender</text></g><path d="M 447 163 L 422 163 Q 412 163 412 153 L 412 146 Q 412 139 402 139 L 383.37 139" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 378.12 139 L 385.12 135.5 L 383.37 139 L 385.12 142.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 82 886 L 37 886 Q 27 886 27 876 L 27 807 Q 27 797 33.82 797 L 40.63 797" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 45.88 797 L 38.88 800.5 L 40.63 797 L 38.88 793.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 82 912 L 37 912 Q 27 912 27 922 L 27 999 Q 27 1009 33.82 1009 L 40.63 1009" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 45.88 1009 L 38.88 1012.5 L 40.63 1009 L 38.88 1005.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 82 1298 L 37 1298 Q 27 1298 27 1288 L 27 1229 Q 27 1219 33.82 1219 L 40.63 1219" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 45.88 1219 L 38.88 1222.5 L 40.63 1219 L 38.88 1215.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 374px; margin-left: 107px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建存储实例</div></div></div></foreignObject><text x="107" y="378" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">1. 创建存储实例</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 750px; margin-left: 107px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 数据添加实现</div></div></div></foreignObject><text x="107" y="754" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">2. 数据添加实现</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 104px; margin-left: 1037px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">开启 DB 实例</div></div></div></foreignObject><text x="1037" y="108" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">开启 DB 实例</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1174px; margin-left: 92px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 查询实现</div></div></div></foreignObject><text x="92" y="1178" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">3. 查询实现</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 486px; margin-left: 102px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">数据添加实例</div></div></div></foreignObject><text x="102" y="490" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">数据添加实例</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1069px; margin-left: 102px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">数据查询实例</div></div></div></foreignObject><text x="102" y="1073" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">数据查询实例</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1174px; margin-left: 505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用tsdb 的查询函数</div></div></div></foreignObject><text x="505" y="1178" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">调用tsdb 的查询函数</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 954px; margin-left: 1492px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用tsdb 的Commit 方法</div></div></div></foreignObject><text x="1492" y="958" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">调用tsdb 的Commit 方法</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 750px; margin-left: 1660px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用tsdb 的Add 方法</div></div></div></foreignObject><text x="1660" y="754" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">调用tsdb 的Add 方法</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 516px; margin-left: 1985px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">获取tsdb 添加器</div></div></div></foreignObject><text x="1985" y="520" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">获取tsdb 添加器</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 35px; margin-left: 107px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">数据存储实现</div></div></div></foreignObject><text x="107" y="40" fill="#000000" font-family="source code pro" font-size="18px" text-anchor="middle">数据存储实现</text></switch></g></g></svg>