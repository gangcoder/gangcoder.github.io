<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2701px" height="1439px" viewBox="-0.5 -0.5 2701 1439" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-03-08T03:57:36.602Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.5.3 Chrome/78.0.3904.130 Electron/7.1.9 Safari/537.36&quot; etag=&quot;TY1O_7C13OxtkZVliUn-&quot; version=&quot;12.5.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;0OSKyzMIsqNNpMjY8ILD&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-1215-181-221-26-0"><rect x="1215" y="181" width="221" height="26"/></clipPath><clipPath id="mx-clip-1215-207-221-26-0"><rect x="1215" y="207" width="221" height="26"/></clipPath><clipPath id="mx-clip-1495-181-231-26-0"><rect x="1495" y="181" width="231" height="26"/></clipPath><clipPath id="mx-clip-1495-207-231-26-0"><rect x="1495" y="207" width="231" height="26"/></clipPath><clipPath id="mx-clip-1495-233-231-26-0"><rect x="1495" y="233" width="231" height="26"/></clipPath><clipPath id="mx-clip-1495-259-231-26-0"><rect x="1495" y="259" width="231" height="26"/></clipPath><clipPath id="mx-clip-1495-285-231-26-0"><rect x="1495" y="285" width="231" height="26"/></clipPath><clipPath id="mx-clip-2425-631-201-26-0"><rect x="2425" y="631" width="201" height="26"/></clipPath><clipPath id="mx-clip-2425-657-201-26-0"><rect x="2425" y="657" width="201" height="26"/></clipPath><clipPath id="mx-clip-2425-683-201-26-0"><rect x="2425" y="683" width="201" height="26"/></clipPath><clipPath id="mx-clip-2425-709-201-26-0"><rect x="2425" y="709" width="201" height="26"/></clipPath><clipPath id="mx-clip-855-891-351-26-0"><rect x="855" y="891" width="351" height="26"/></clipPath><clipPath id="mx-clip-855-917-351-26-0"><rect x="855" y="917" width="351" height="26"/></clipPath><clipPath id="mx-clip-855-943-351-26-0"><rect x="855" y="943" width="351" height="26"/></clipPath><clipPath id="mx-clip-2385-321-241-26-0"><rect x="2385" y="321" width="241" height="26"/></clipPath><clipPath id="mx-clip-2385-347-241-26-0"><rect x="2385" y="347" width="241" height="26"/></clipPath><clipPath id="mx-clip-2385-373-241-26-0"><rect x="2385" y="373" width="241" height="26"/></clipPath><clipPath id="mx-clip-2385-399-241-26-0"><rect x="2385" y="399" width="241" height="26"/></clipPath><clipPath id="mx-clip-2385-425-241-26-0"><rect x="2385" y="425" width="241" height="26"/></clipPath><clipPath id="mx-clip-2425-507-201-26-0"><rect x="2425" y="507" width="201" height="26"/></clipPath><clipPath id="mx-clip-2425-533-201-26-0"><rect x="2425" y="533" width="201" height="26"/></clipPath><clipPath id="mx-clip-2425-559-201-26-0"><rect x="2425" y="559" width="201" height="26"/></clipPath></defs><g><path d="M 340 180 L 413.63 180" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 418.88 180 L 411.88 183.5 L 413.63 180 L 411.88 176.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="20" y="150" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 180px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ruleManager = rules.NewManager(...)</div></div></div></foreignObject><text x="27" y="184" fill="#000000" font-family="source code pro" font-size="13px">ruleManager = rules.NewManager(...)</text></switch></g><path d="M 340 350 L 413.63 350" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 418.88 350 L 411.88 353.5 L 413.63 350 L 411.88 346.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="20" y="320" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 350px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ruleManager.Update(...)</div></div></div></foreignObject><text x="27" y="354" fill="#000000" font-family="source code pro" font-size="13px">ruleManager.Update(...)</text></switch></g><path d="M 260 380 L 260 600 Q 260 610 270 610 L 413.63 610" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 418.88 610 L 411.88 613.5 L 413.63 610 L 411.88 606.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 940 350 L 1013.63 350" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1018.88 350 L 1011.88 353.5 L 1013.63 350 L 1011.88 346.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="420" y="320" width="520" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 511px; height: 1px; padding-top: 350px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">groups, errs := m.LoadGroups(interval, externalLabels, files...)</div></div></div></foreignObject><text x="427" y="354" fill="#000000" font-family="source code pro" font-size="13px">groups, errs := m.LoadGroups(interval, externalLabels, files...)</text></switch></g><path d="M 940 350 L 950 350 Q 960 350 960 360 L 960 460 Q 960 470 970 470 L 1013.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1018.88 470 L 1011.88 473.5 L 1013.63 470 L 1011.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1020" y="320" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 350px; margin-left: 1027px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">rgs, errs := rulefmt.ParseFile(fn)</div></div></div></foreignObject><text x="1027" y="354" fill="#000000" font-family="source code pro" font-size="13px">rgs, errs := rulefmt.ParseFile(fn)</text></switch></g><path d="M 200 1050 L 200 1080 Q 200 1090 210 1090 L 343.63 1090" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 348.88 1090 L 341.88 1093.5 L 343.63 1090 L 341.88 1086.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="350" y="1060" width="670" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 661px; height: 1px; padding-top: 1090px; margin-left: 357px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">QueryFunc func(ctx context.Context, q string, t time.Time) (promql.Vector, error)</div></div></div></foreignObject><text x="357" y="1094" fill="#000000" font-family="source code pro" font-size="13px">QueryFunc func(ctx context.Context, q string, t time.Time) (promql.Vector, error)</text></switch></g><path d="M 1840 1225 L 1810 1225 Q 1800 1225 1800 1215 L 1800 1190 Q 1800 1180 1790 1180 L 1080 1180 Q 1070 1180 1070 1170 L 1070 1030 Q 1070 1020 1060 1020 L 606.37 1020" fill="none" stroke="#019ed5" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 601.12 1020 L 608.12 1016.5 L 606.37 1020 L 608.12 1023.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="all"/><rect x="100" y="990" width="500" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 491px; height: 1px; padding-top: 1020px; margin-left: 107px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">QueryFunc: rules.EngineQueryFunc(queryEngine, fanoutStorage)</div></div></div></foreignObject><text x="107" y="1024" fill="#000000" font-family="source code pro" font-size="13px">QueryFunc: rules.EngineQueryFunc(queryEngine, fanoutStorage)</text></switch></g><path d="M 200 1210 L 200 1234 Q 200 1244 210 1244 L 341.63 1244" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 346.88 1244 L 339.88 1247.5 L 341.63 1244 L 339.88 1240.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 2580 830 L 2580 1400 Q 2580 1410 2570 1410 L 1010 1410 Q 1000 1410 1000 1400 L 1000 1190 Q 1000 1180 990 1180 L 676.37 1180" fill="none" stroke="#019ed5" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 671.12 1180 L 678.12 1176.5 L 676.37 1180 L 678.12 1183.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="all"/><rect x="100" y="1150" width="570" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 561px; height: 1px; padding-top: 1180px; margin-left: 107px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NotifyFunc: sendAlerts(notifierManager, cfg.web.ExternalURL.String())</div></div></div></foreignObject><text x="107" y="1184" fill="#000000" font-family="source code pro" font-size="13px">NotifyFunc: sendAlerts(notifierManager, cfg.web.ExternalURL.String())</text></switch></g><rect x="350" y="1220" width="610" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 601px; height: 1px; padding-top: 1250px; margin-left: 357px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">type NotifyFunc func(ctx context.Context, expr string, alerts ...*Alert)</div></div></div></foreignObject><text x="357" y="1254" fill="#000000" font-family="source code pro" font-size="13px">type NotifyFunc func(ctx context.Context, expr string, alerts ...*Alert)</text></switch></g><path d="M 1980 470 L 2043.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2048.88 470 L 2041.88 473.5 L 2043.63 470 L 2041.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1650" y="440" width="330" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 470px; margin-left: 1657px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NewAlertingRule(...) *AlertingRule</div></div></div></foreignObject><text x="1657" y="474" fill="#000000" font-family="source code pro" font-size="13px">NewAlertingRule(...) *AlertingRule</text></switch></g><path d="M 1980 550 L 2043.63 550" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2048.88 550 L 2041.88 553.5 L 2043.63 550 L 2041.88 546.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1650" y="520" width="330" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 550px; margin-left: 1657px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NewRecordingRule(...) *RecordingRule</div></div></div></foreignObject><text x="1657" y="554" fill="#000000" font-family="source code pro" font-size="13px">NewRecordingRule(...) *RecordingRule</text></switch></g><path d="M 2100 645 L 2143.63 645" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2148.88 645 L 2141.88 648.5 L 2143.63 645 L 2141.88 641.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1650" y="615" width="450" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 441px; height: 1px; padding-top: 645px; margin-left: 1657px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NewGroup(..., rules []Rule, ..., opts *ManagerOptions)</div></div></div></foreignObject><text x="1657" y="649" fill="#000000" font-family="source code pro" font-size="13px">NewGroup(..., rules []Rule, ..., opts *ManagerOptions)</text></switch></g><rect x="2050" y="435" width="260" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 251px; height: 1px; padding-top: 470px; margin-left: 2057px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">return &amp;AlertingRule{</div><div style="font-size: 13px">    name:           name,</div><div style="font-size: 13px">    vector:         vec,        </div><div style="font-size: 13px">}</div></div></div></div></foreignObject><text x="2057" y="474" fill="#000000" font-family="source code pro" font-size="13px">return &amp;AlertingRule{...</text></switch></g><rect x="2050" y="515" width="260" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 251px; height: 1px; padding-top: 550px; margin-left: 2057px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">return &amp;RecordingRule{</div><div style="font-size: 13px">    name:   name,</div><div style="font-size: 13px">    vector: vector,</div><div style="font-size: 13px">}</div></div></div></div></foreignObject><text x="2057" y="554" fill="#000000" font-family="source code pro" font-size="13px">return &amp;RecordingRule{...</text></switch></g><rect x="2150" y="600" width="180" height="90" rx="13.5" ry="13.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 645px; margin-left: 2157px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">return &amp;Group{</div><div style="font-size: 13px">    name: name,</div><div style="font-size: 13px">    rules: rules,</div><div style="font-size: 13px">    opts: opts,    </div><div style="font-size: 13px">}</div></div></div></div></foreignObject><text x="2157" y="649" fill="#000000" font-family="source code pro" font-size="13px">return &amp;Group{...</text></switch></g><path d="M 1480 470 L 1643.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1648.88 470 L 1641.88 473.5 L 1643.63 470 L 1641.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 1480 470 L 1555 470 Q 1565 470 1565 480 L 1565 540 Q 1565 550 1575 550 L 1643.63 550" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1648.88 550 L 1641.88 553.5 L 1643.63 550 L 1641.88 546.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 1480 470 L 1555 470 Q 1565 470 1565 480 L 1565 635 Q 1565 645 1575 645 L 1643.63 645" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1648.88 645 L 1641.88 648.5 L 1643.63 645 L 1641.88 641.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1020" y="390" width="460" height="160" rx="11.2" ry="11.2" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 451px; height: 1px; padding-top: 470px; margin-left: 1027px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>for _, r := range rg.Rules {</div><div>    expr, err := promql.ParseExpr(r.Expr.Value)</div><div>    if r.Alert.Value != "" {</div><div>        rules = append(rules, NewAlertingRule(...))</div><div>    } else {</div><div>        rules = append(rules, NewRecordingRule(...))</div><div>    }</div><div><span>}</span></div><div><br /></div><div>groups[groupKey(fn, rg.Name)] = NewGroup(..., rules...)</div></div></div></div></foreignObject><text x="1027" y="474" fill="#000000" font-family="source code pro" font-size="13px">for _, r := range rg.Rules {...</text></switch></g><path d="M 260 380 L 260 700 Q 260 710 270 710 L 413.63 710" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 418.88 710 L 411.88 713.5 L 413.63 710 L 411.88 706.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="420" y="550" width="340" height="120" rx="10.8" ry="10.8" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 331px; height: 1px; padding-top: 610px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">for _, newg := range groups {</div><div style="font-size: 13px">    go func(newg *Group) {</div><div style="font-size: 13px">        go func() {</div><div style="font-size: 13px">            newg.run(m.opts.Context)</div><div style="font-size: 13px">        }()</div><div style="font-size: 13px">    }(newg)</div><div style="font-size: 13px">}</div></div></div></div></foreignObject><text x="427" y="614" fill="#000000" font-family="source code pro" font-size="13px">for _, newg := range groups {...</text></switch></g><path d="M 760 610 L 770 610 Q 780 610 790 610 L 823.63 610" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 828.88 610 L 821.88 613.5 L 823.63 610 L 821.88 606.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="420" y="680" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 211px; height: 1px; padding-top: 710px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">m.groups = groups</div></div></div></foreignObject><text x="427" y="714" fill="#000000" font-family="source code pro" font-size="13px">m.groups = groups</text></switch></g><path d="M 1050 610 L 1280 610 Q 1290 610 1290 620 L 1290 693.63" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1290 698.88 L 1286.5 691.88 L 1290 693.63 L 1293.5 691.88 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="830" y="580" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 211px; height: 1px; padding-top: 610px; margin-left: 837px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">run(ctx context.Context)</div></div></div></foreignObject><text x="837" y="614" fill="#000000" font-family="source code pro" font-size="13px">run(ctx context.Context)</text></switch></g><path d="M 1415 730 L 1493.63 730" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1498.88 730 L 1491.88 733.5 L 1493.63 730 L 1491.88 726.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1165" y="700" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 730px; margin-left: 1172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">g.Eval(ctx, evalTimestamp)</div></div></div></foreignObject><text x="1172" y="734" fill="#000000" font-family="source code pro" font-size="13px">g.Eval(ctx, evalTimestamp)</text></switch></g><path d="M 1415 730 L 1422.5 730 Q 1430 730 1430 740 L 1430 770 Q 1430 780 1440 780 L 1493.63 780" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1498.88 780 L 1491.88 783.5 L 1493.63 780 L 1491.88 776.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1500" y="700" width="590" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 581px; height: 1px; padding-top: 730px; margin-left: 1507px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">vector, err := rule.Eval(ctx, ts, g.opts.QueryFunc, g.opts.ExternalURL)</div></div></div></foreignObject><text x="1507" y="734" fill="#000000" font-family="source code pro" font-size="13px">vector, err := rule.Eval(ctx, ts, g.opts.QueryFunc, g.opts.ExternalURL)</text></switch></g><path d="M 1750 1020 L 1833.63 1020" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1838.88 1020 L 1831.88 1023.5 L 1833.63 1020 L 1831.88 1016.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1290" y="990" width="460" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 451px; height: 1px; padding-top: 1020px; margin-left: 1297px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">func (r *AlertingRule) Eval(...) (promql.Vector, error)</div></div></div></foreignObject><text x="1297" y="1024" fill="#000000" font-family="source code pro" font-size="13px">func (r *AlertingRule) Eval(...) (promql.Vector, error)</text></switch></g><path d="M 1780 1240 L 1833.63 1240" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1838.88 1240 L 1831.88 1243.5 L 1833.63 1240 L 1831.88 1236.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1290" y="1210" width="490" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 481px; height: 1px; padding-top: 1240px; margin-left: 1297px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">func (rule *RecordingRule) Eval(...) (promql.Vector, error)</div></div></div></foreignObject><text x="1297" y="1244" fill="#000000" font-family="source code pro" font-size="13px">func (rule *RecordingRule) Eval(...) (promql.Vector, error)</text></switch></g><path d="M 1780 1240 L 1790 1240 Q 1800 1240 1800 1250 L 1800 1330 Q 1800 1340 1810 1340 L 1833.63 1340" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1838.88 1340 L 1831.88 1343.5 L 1833.63 1340 L 1831.88 1336.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1840" y="1210" width="420" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 411px; height: 1px; padding-top: 1240px; margin-left: 1847px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">vector, err := query(ctx, rule.vector.String(), ts)</div></div></div></foreignObject><text x="1847" y="1244" fill="#000000" font-family="source code pro" font-size="13px">vector, err := query(ctx, rule.vector.String(), ts)</text></switch></g><rect x="1840" y="1280" width="370" height="120" rx="9.6" ry="9.6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 361px; height: 1px; padding-top: 1340px; margin-left: 1847px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">for i := range vector {</div><div style="font-size: 13px">    sample := &amp;vector[i]</div><div style="font-size: 13px">    lb := labels.NewBuilder(sample.Metric)</div><div style="font-size: 13px">    lb.Set(labels.MetricName, rule.name)</div><div style="font-size: 13px">    sample.Metric = lb.Labels()</div><div style="font-size: 13px">}</div><div style="font-size: 13px">return vector, nil</div></div></div></div></foreignObject><text x="1847" y="1344" fill="#000000" font-family="source code pro" font-size="13px">for i := range vector {...</text></switch></g><path d="M 1750 1020 L 1785 1020 Q 1795 1020 1795 1030 L 1795 1110 Q 1795 1120 1805 1120 L 1833.63 1120" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1838.88 1120 L 1831.88 1123.5 L 1833.63 1120 L 1831.88 1116.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1840" y="990" width="390" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 381px; height: 1px; padding-top: 1020px; margin-left: 1847px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">res, err := query(ctx, r.vector.String(), ts)</div></div></div></foreignObject><text x="1847" y="1024" fill="#000000" font-family="source code pro" font-size="13px">res, err := query(ctx, r.vector.String(), ts)</text></switch></g><rect x="1840" y="1060" width="640" height="120" rx="10.8" ry="10.8" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 631px; height: 1px; padding-top: 1120px; margin-left: 1847px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">for fp, a := range r.active {        </div><div style="font-size: 13px">    if r.restored {</div><div style="font-size: 13px">        vec = append(vec, r.sample(a, ts))</div><div style="font-size: 13px">        vec = append(vec, r.forStateSample(a, ts, float64(a.ActiveAt.Unix())))</div><div style="font-size: 13px">    }</div><div style="font-size: 13px">}</div><div style="font-size: 13px">return vec, nil</div></div></div></div></foreignObject><text x="1847" y="1124" fill="#000000" font-family="source code pro" font-size="13px">for fp, a := range r.active {...</text></switch></g><path d="M 1415 730 L 1422.5 730 Q 1430 730 1430 740 L 1430 855 Q 1430 865 1440 865 L 1493.63 865" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1498.88 865 L 1491.88 868.5 L 1493.63 865 L 1491.88 861.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 1960 800 L 2013.63 800" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2018.88 800 L 2011.88 803.5 L 2013.63 800 L 2011.88 796.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1500" y="770" width="460" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 451px; height: 1px; padding-top: 800px; margin-left: 1507px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">if ar, ok := rule.(*AlertingRule); ok {</div><div style="font-size: 13px"><span style="white-space: pre ; font-size: 13px">	</span>ar.sendAlerts(ctx, ts, ..., g.opts.NotifyFunc)</div><div style="font-size: 13px">}</div></div></div></div></foreignObject><text x="1507" y="804" fill="#000000" font-family="source code pro" font-size="13px">if ar, ok := rule.(*AlertingRule); ok {...</text></switch></g><path d="M 2210 800 L 2273.63 800" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2278.88 800 L 2271.88 803.5 L 2273.63 800 L 2271.88 796.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="2280" y="770" width="400" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 391px; height: 1px; padding-top: 800px; margin-left: 2287px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">notifyFunc(ctx, r.vector.String(), alerts...)</div></div></div></foreignObject><text x="2287" y="804" fill="#000000" font-family="source code pro" font-size="13px">notifyFunc(ctx, r.vector.String(), alerts...)</text></switch></g><rect x="2020" y="770" width="190" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 181px; height: 1px; padding-top: 800px; margin-left: 2027px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sendAlerts(...)</div></div></div></foreignObject><text x="2027" y="804" fill="#000000" font-family="source code pro" font-size="13px">sendAlerts(...)</text></switch></g><rect x="1500" y="840" width="370" height="90" rx="13.5" ry="13.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 361px; height: 1px; padding-top: 885px; margin-left: 1507px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">app, err := g.opts.Appendable.Appender()</div><div style="font-size: 13px">for _, s := range vector {</div><div style="font-size: 13px">    app.Add(s.Metric, s.T, s.V)</div><div style="font-size: 13px">}</div><div style="font-size: 13px">app.Commit()</div></div></div></div></foreignObject><text x="1507" y="889" fill="#000000" font-family="source code pro" font-size="13px">app, err := g.opts.Appendable.Appender()...</text></switch></g><path d="M 740 180 L 770 180 Q 780 180 780 190 L 780 200 Q 780 210 790 210 L 813.63 210" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 818.88 210 L 811.88 213.5 L 813.63 210 L 811.88 206.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="420" y="150" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 180px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NewManager(o *ManagerOptions) *Manager</div></div></div></foreignObject><text x="427" y="184" fill="#000000" font-family="source code pro" font-size="13px">NewManager(o *ManagerOptions) *Manager</text></switch></g><rect x="820" y="150" width="320" height="120" rx="9.6" ry="9.6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 210px; margin-left: 827px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 13px">m := &amp;Manager{</div><div style="font-size: 13px">    groups: map[string]*Group{},</div><div style="font-size: 13px">    opts:   o,</div><div style="font-size: 13px">    block:  make(chan struct{}),</div><div style="font-size: 13px">}</div><div style="font-size: 13px"><br style="font-size: 13px" /></div><div style="font-size: 13px">return m</div></div></div></div></foreignObject><text x="827" y="214" fill="#000000" font-family="source code pro" font-size="13px">m := &amp;Manager{...</text></switch></g><path d="M 1210 176 L 1210 150 L 1440 150 L 1440 176" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1210 176 L 1210 228 L 1440 228 L 1440 176" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1210 176 L 1440 176" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" text-anchor="middle" font-size="13px"><text x="1327" y="168">Manager</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1215-181-221-26-0)" font-size="13px"><text x="1216.5" y="194.5">- opts: *ManagerOptions</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1215-207-221-26-0)" font-size="13px"><text x="1216.5" y="220.5">- groups: map[string]*Group</text></g><path d="M 1490 176 L 1490 150 L 1730 150 L 1730 176" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1490 176 L 1490 306 L 1730 306 L 1730 176" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1490 176 L 1730 176" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" text-anchor="middle" font-size="13px"><text x="1612" y="168">ManagerOptions</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1495-181-231-26-0)" font-size="13px"><text x="1496.5" y="194.5">- ExternalURL: *url.URL</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1495-207-231-26-0)" font-size="13px"><text x="1496.5" y="220.5">- QueryFunc: QueryFunc</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1495-233-231-26-0)" font-size="13px"><text x="1496.5" y="246.5">- NotifyFunc: NotifyFunc</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1495-259-231-26-0)" font-size="13px"><text x="1496.5" y="272.5">- Context: context.Context</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1495-285-231-26-0)" font-size="13px"><text x="1496.5" y="298.5">- Appendable: Appendable</text></g><path d="M 2420.33 626 L 2420.33 600 L 2630.33 600 L 2630.33 626" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2420.33 626 L 2420.33 730 L 2630.33 730 L 2630.33 626" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2420.33 626 L 2630.33 626" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" text-anchor="middle" font-size="13px"><text x="2527.33" y="618">Group</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2425-631-201-26-0)" font-size="13px"><text x="2426.83" y="644.5">- name string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2425-657-201-26-0)" font-size="13px"><text x="2426.83" y="670.5">- file string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2425-683-201-26-0)" font-size="13px"><text x="2426.83" y="696.5">- rules []Rule</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2425-709-201-26-0)" font-size="13px"><text x="2426.83" y="722.5">- opts *ManagerOptions</text></g><path d="M 850 886 L 850 860 L 1210 860 L 1210 886" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 850 886 L 850 964 L 1210 964 L 1210 886" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 850 886 L 1210 886" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" text-anchor="middle" font-size="13px"><text x="1032" y="878">Rule interface {</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-855-891-351-26-0)" font-size="13px"><text x="856.5" y="904.5">+ Name() string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-855-917-351-26-0)" font-size="13px"><text x="856.5" y="930.5">+ Labels() labels.Labels</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-855-943-351-26-0)" font-size="13px"><text x="856.5" y="956.5">+ Eval(ctx, time.Time, QueryFunc, *url.URL)</text></g><path d="M 2380.33 316 L 2380.33 290 L 2630.33 290 L 2630.33 316" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2380.33 316 L 2380.33 446 L 2630.33 446 L 2630.33 316" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2380.33 316 L 2630.33 316" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" text-anchor="middle" font-size="13px"><text x="2507.33" y="308">AlertingRule</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2385-321-241-26-0)" font-size="13px"><text x="2386.83" y="334.5">- name: string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2385-347-241-26-0)" font-size="13px"><text x="2386.83" y="360.5">- vector: promql.Expr  </text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2385-373-241-26-0)" font-size="13px"><text x="2386.83" y="386.5">- labels: labels.Labels</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2385-399-241-26-0)" font-size="13px"><text x="2386.83" y="412.5">- annotations: labels.Labels</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2385-425-241-26-0)" font-size="13px"><text x="2386.83" y="438.5">- active: map[uint64]*Alert</text></g><path d="M 2420.33 502 L 2420.33 476 L 2630.33 476 L 2630.33 502" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2420.33 502 L 2420.33 580 L 2630.33 580 L 2630.33 502" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2420.33 502 L 2630.33 502" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" text-anchor="middle" font-size="13px"><text x="2527.33" y="494">RecordingRule</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2425-507-201-26-0)" font-size="13px"><text x="2426.83" y="520.5">- name: string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2425-533-201-26-0)" font-size="13px"><text x="2426.83" y="546.5">- vector: promql.Expr</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2425-559-201-26-0)" font-size="13px"><text x="2426.83" y="572.5">- labels: labels.Labels</text></g><path d="M 1210 951 L 1240 951 Q 1250 951 1250 961 L 1250 1010 Q 1250 1020 1260 1020 L 1283.63 1020" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 1288.88 1020 L 1281.88 1023.5 L 1283.63 1020 L 1281.88 1016.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 1210 951 L 1240 951 Q 1250 951 1250 961 L 1250 1230 Q 1250 1240 1260 1240 L 1283.63 1240" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 1288.88 1240 L 1281.88 1243.5 L 1283.63 1240 L 1281.88 1236.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 1210 189 L 1185 189 Q 1175 189 1175 199 L 1175 204.5 Q 1175 210 1165 210 L 1146.37 210" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1141.12 210 L 1148.12 206.5 L 1146.37 210 L 1148.12 213.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1490 189 L 1446.37 189" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1441.12 189 L 1448.12 185.5 L 1446.37 189 L 1448.12 192.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2380.33 329 L 2355 329 Q 2345 329 2345 339 L 2345 460 Q 2345 470 2335 470 L 2316.37 470" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2311.12 470 L 2318.12 466.5 L 2316.37 470 L 2318.12 473.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2420.33 515 L 2375 515 Q 2365 515 2365 525 L 2365 540 Q 2365 550 2355 550 L 2316.37 550" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2311.12 550 L 2318.12 546.5 L 2316.37 550 L 2318.12 553.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2420.33 639 L 2385 639 Q 2375 639 2375 631 L 2375 627 Q 2375 623 2365 622.89 L 2336.37 622.57" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2331.12 622.51 L 2338.16 619.09 L 2336.37 622.57 L 2338.08 626.09 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 130px; margin-left: 105px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建 rules 服务实例</div></div></div></foreignObject><text x="105" y="134" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">1. 创建 rules 服务实例</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 300px; margin-left: 80px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 更新规则配置</div></div></div></foreignObject><text x="80" y="304" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">2. 更新规则配置</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 300px; margin-left: 480px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">读取配置中的规则</div></div></div></foreignObject><text x="480" y="304" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">读取配置中的规则</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 530px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">规则开启运行</div></div></div></foreignObject><text x="465" y="534" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">规则开启运行</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 308px; margin-left: 1059px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">读取配置文件</div></div></div></foreignObject><text x="1059" y="312" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">读取配置文件</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 490px; margin-left: 967px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">创建规则实例</div></div></div></foreignObject><text x="967" y="494" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">创建规则实例</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 425px; margin-left: 1710px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">创建告警查询规则</div></div></div></foreignObject><text x="1710" y="429" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">创建告警查询规则</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 530px; margin-left: 1606px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">创建记录规则</div></div></div></foreignObject><text x="1606" y="534" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">创建记录规则</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 632px; margin-left: 1609px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">规则分组</div></div></div></foreignObject><text x="1609" y="636" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">规则分组</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 710px; margin-left: 1465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">执行规则</div></div></div></foreignObject><text x="1465" y="714" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">执行规则</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 800px; margin-left: 1410px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">告警规则，发送告警通知</div></div></div></foreignObject><text x="1410" y="804" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">告警规则，发送告警通知</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 885px; margin-left: 1425px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">记录规则，存储数据</div></div></div></foreignObject><text x="1425" y="889" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">记录规则，存储数据</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 974px; margin-left: 1336px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">告警规则执行</div></div></div></foreignObject><text x="1336" y="978" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">告警规则执行</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1196px; margin-left: 1341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">记录规则执行</div></div></div></foreignObject><text x="1341" y="1200" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">记录规则执行</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 970px; margin-left: 1920px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">通过查询函数，查询规则</div></div></div></foreignObject><text x="1920" y="974" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">通过查询函数，查询规则</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 970px; margin-left: 200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">查询函数，查询规则对应的数据</div></div></div></foreignObject><text x="200" y="974" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">查询函数，查询规则对应的数据</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1130px; margin-left: 205px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">通知函数，将告警发送到告警中心</div></div></div></foreignObject><text x="205" y="1134" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">通知函数，将告警发送到告警中心</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 35px; margin-left: 115px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Rules 规则服务实现</div></div></div></foreignObject><text x="115" y="40" fill="#000000" font-family="source code pro" font-size="18px" text-anchor="middle">Rules 规则服务实现</text></switch></g></g></svg>