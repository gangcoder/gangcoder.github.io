<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1651px" height="1023px" viewBox="-0.5 -0.5 1651 1023" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-03-08T06:38:03.468Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.5.3 Chrome/78.0.3904.130 Electron/7.1.9 Safari/537.36&quot; etag=&quot;k1Q3LPJ-CuyRzIhnyIlj&quot; version=&quot;12.5.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;HEokZhlVidKBvObfKpbw&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-874-123-202-26-0"><rect x="874" y="123" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-149-202-26-0"><rect x="874" y="149" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-175-202-26-0"><rect x="874" y="175" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-201-202-26-0"><rect x="874" y="201" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-227-202-26-0"><rect x="874" y="227" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-253-202-26-0"><rect x="874" y="253" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-279-202-26-0"><rect x="874" y="279" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-305-202-26-0"><rect x="874" y="305" width="202" height="26"/></clipPath><clipPath id="mx-clip-874-331-202-26-0"><rect x="874" y="331" width="202" height="26"/></clipPath></defs><g><path d="M 870 118 L 870 92 L 1080 92 L 1080 118" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 870 118 L 870 352 L 1080 352 L 1080 118" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 870 118 L 1080 118" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="876.5" y="110">Handler</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-123-202-26-0)" font-size="12px"><text x="875.5" y="135.5">- scrapeManager: *scrape.Manager</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-149-202-26-0)" font-size="12px"><text x="875.5" y="161.5">- ruleManager: *rules.Manager</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-175-202-26-0)" font-size="12px"><text x="875.5" y="187.5">- queryEngine: *promql.Engine</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-201-202-26-0)" font-size="12px"><text x="875.5" y="213.5">- context: context.Context</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-227-202-26-0)" font-size="12px"><text x="875.5" y="239.5">- tsdb: func() *tsdb.DB</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-253-202-26-0)" font-size="12px"><text x="875.5" y="265.5">- storage: storage.Storage</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-279-202-26-0)" font-size="12px"><text x="875.5" y="291.5">- notifier: *notifier.Manager</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-305-202-26-0)" font-size="12px"><text x="875.5" y="317.5">- apiV1: *api_v1.API</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-874-331-202-26-0)" font-size="12px"><text x="875.5" y="343.5">- router: *route.Router</text></g><path d="M 280 172 L 413.63 172" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 172 L 411.88 175.5 L 413.63 172 L 411.88 168.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="20" y="142" width="260" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 251px; height: 1px; padding-top: 172px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">webHandler := web.New(...)</div></div></div></foreignObject><text x="27" y="176" fill="#000000" font-family="source code pro" font-size="13px">webHandler := web.New(...)</text></switch></g><path d="M 280 172 L 290 172 Q 300 172 300 182 L 300 277 Q 300 287 310 287 L 413.63 287" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 287 L 411.88 290.5 L 413.63 287 L 411.88 283.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="142" width="190" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 181px; height: 1px; padding-top: 172px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">router := route.New()</div></div></div></foreignObject><text x="427" y="176" fill="#000000" font-family="source code pro" font-size="13px">router := route.New()</text></switch></g><path d="M 280 172 L 290 172 Q 300 172 300 182 L 300 397 Q 300 407 310 407 L 413.63 407" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 407 L 411.88 410.5 L 413.63 407 L 411.88 403.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="212" width="320" height="150" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 287px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>h := &amp;Handler{</div><div>    router:      router,</div><div>    scrapeManager: o.ScrapeManager,</div><div>    ruleManager:   o.RuleManager,</div><div>    queryEngine:   o.QueryEngine,</div><div>    tsdb:          o.TSDB,</div><div>    storage:       o.Storage,</div><div>    notifier:      o.Notifier,</div><div>}</div></div></div></div></foreignObject><text x="427" y="291" fill="#000000" font-family="source code pro" font-size="13px">h := &amp;Handler{...</text></switch></g><path d="M 280 172 L 290 172 Q 300 172 300 182 L 300 472 Q 300 482 310 482 L 413.63 482" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 482 L 411.88 485.5 L 413.63 482 L 411.88 478.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="372" width="660" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 651px; height: 1px; padding-top: 407px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">h.apiV1 = api_v1.NewAPI(h.queryEngine, h.storage, h.scrapeManager, h.notifier,...)</div></div></div></foreignObject><text x="427" y="411" fill="#000000" font-family="source code pro" font-size="13px">h.apiV1 = api_v1.NewAPI(h.queryEngine, h.storage, h.scrapeManager, h.notifier,...)</text></switch></g><path d="M 740 482 L 823.63 482" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 828.88 482 L 821.88 485.5 L 823.63 482 L 821.88 478.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="452" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 482px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">router.Get("/alerts", readyf(h.alerts))</div></div></div></foreignObject><text x="427" y="486" fill="#000000" font-family="source code pro" font-size="13px">router.Get("/alerts", readyf(h.alerts))</text></switch></g><path d="M 1130 482 L 1223.63 482" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1228.88 482 L 1221.88 485.5 L 1223.63 482 L 1221.88 478.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="830" y="452" width="300" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 291px; height: 1px; padding-top: 482px; margin-left: 837px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>alertStatus := AlertStatus{</div><div>    Groups: groups,</div><div>    Counts: alertCounts(groups),</div><div>}</div></div></div></div></foreignObject><text x="837" y="486" fill="#000000" font-family="source code pro" font-size="13px">alertStatus := AlertStatus{...</text></switch></g><rect x="1230" y="452" width="400" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 391px; height: 1px; padding-top: 482px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">h.executeTemplate(w, "alerts.html", alertStatus)</div></div></div></foreignObject><text x="1237" y="486" fill="#000000" font-family="source code pro" font-size="13px">h.executeTemplate(w, "alerts.html", alertStatus)</text></switch></g><path d="M 260 582 L 413.63 582" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 582 L 411.88 585.5 L 413.63 582 L 411.88 578.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="20" y="552" width="240" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 231px; height: 1px; padding-top: 582px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">webHandler.Run(ctxWeb)</div></div></div></foreignObject><text x="27" y="586" fill="#000000" font-family="source code pro" font-size="13px">webHandler.Run(ctxWeb)</text></switch></g><path d="M 260 582 L 280 582 Q 290 582 290 592 L 290 648 Q 290 658 300 658 L 413.63 658" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 658 L 411.88 661.5 L 413.63 658 L 411.88 654.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="547" width="290" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 281px; height: 1px; padding-top: 582px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>av2 := api_v2.New(</div><div>    h.options.TSDB,</div><div>    h.options.EnableAdminAPI,</div><div>)</div></div></div></div></foreignObject><text x="427" y="586" fill="#000000" font-family="source code pro" font-size="13px">av2 := api_v2.New(...</text></switch></g><path d="M 260 582 L 280 582 Q 290 582 290 592 L 290 720 Q 290 730 300 730 L 413.63 730" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 730 L 411.88 733.5 L 413.63 730 L 411.88 726.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="628" width="260" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 251px; height: 1px; padding-top: 658px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">av2.RegisterGRPC(grpcSrv)</div></div></div></foreignObject><text x="427" y="662" fill="#000000" font-family="source code pro" font-size="13px">av2.RegisterGRPC(grpcSrv)</text></switch></g><path d="M 260 582 L 280 582 Q 290 582 290 592 L 290 792 Q 290 802 300 802 L 413.63 802" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 802 L 411.88 805.5 L 413.63 802 L 411.88 798.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 880 730 L 953.63 730" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 958.88 730 L 951.88 733.5 L 953.63 730 L 951.88 726.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="700" width="460" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 451px; height: 1px; padding-top: 730px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">hh, err := av2.HTTPHandler(ctx, h.options.ListenAddress)</div></div></div></foreignObject><text x="427" y="734" fill="#000000" font-family="source code pro" font-size="13px">hh, err := av2.HTTPHandler(ctx, h.options.ListenAddress)</text></switch></g><path d="M 1120 730 L 1223.63 730" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1228.88 730 L 1221.88 733.5 L 1223.63 730 L 1221.88 726.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="960" y="700" width="160" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 151px; height: 1px; padding-top: 730px; margin-left: 967px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">DeleteSeries(...)</div></div></div></foreignObject><text x="967" y="734" fill="#000000" font-family="source code pro" font-size="13px">DeleteSeries(...)</text></switch></g><rect x="1230" y="700" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 730px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>db.Delete(...)</div><div>return &amp;pb.SeriesDeleteResponse{}, nil</div></div></div></div></foreignObject><text x="1237" y="734" fill="#000000" font-family="source code pro" font-size="13px">db.Delete(...)...</text></switch></g><path d="M 260 582 L 280 582 Q 290 582 290 592 L 290 890 Q 290 900 300 900 L 413.63 900" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 900 L 411.88 903.5 L 413.63 900 L 411.88 896.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 802 L 713.63 802" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 718.88 802 L 711.88 805.5 L 713.63 802 L 711.88 798.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="772" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 191px; height: 1px; padding-top: 802px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">h.apiV1.Register(av1)</div></div></div></foreignObject><text x="427" y="806" fill="#000000" font-family="source code pro" font-size="13px">h.apiV1.Register(av1)</text></switch></g><path d="M 1020 802 L 1073.63 802" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1078.88 802 L 1071.88 805.5 L 1073.63 802 L 1071.88 798.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="720" y="772" width="300" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 291px; height: 1px; padding-top: 802px; margin-left: 727px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">r.Get("/query", wrap(api.query))</div></div></div></foreignObject><text x="727" y="806" fill="#000000" font-family="source code pro" font-size="13px">r.Get("/query", wrap(api.query))</text></switch></g><path d="M 1132.5 832 L 1132.88 862 Q 1133 872 1143 872 L 1223.63 872" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1228.88 872 L 1221.88 875.5 L 1223.63 872 L 1221.88 868.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1080" y="772" width="210" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 201px; height: 1px; padding-top: 802px; margin-left: 1087px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">query(r *http.Request)</div></div></div></foreignObject><text x="1087" y="806" fill="#000000" font-family="source code pro" font-size="13px">query(r *http.Request)</text></switch></g><path d="M 1133 832 L 1133 942 Q 1133 952 1143 952 L 1223.63 952" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1228.88 952 L 1221.88 955.5 L 1223.63 952 L 1221.88 948.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1230" y="842" width="400" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 391px; height: 1px; padding-top: 872px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>qry, err := api.QueryEngine.NewInstantQuery(...)</div><div>res := qry.Exec(ctx)</div></div></div></div></foreignObject><text x="1237" y="876" fill="#000000" font-family="source code pro" font-size="13px">qry, err := api.QueryEngine.NewInstantQuery(...)...</text></switch></g><rect x="1230" y="912" width="310" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 301px; height: 1px; padding-top: 952px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>return apiFuncResult{&amp;queryData{</div><div>    ResultType: res.Value.Type(),</div><div>    Result:     res.Value,</div><div>    Stats:      qs,</div><div>}, nil, res.Warnings, qry.Close}</div></div></div></div></foreignObject><text x="1237" y="956" fill="#000000" font-family="source code pro" font-size="13px">return apiFuncResult{&amp;queryData{...</text></switch></g><path d="M 260 582 L 280 582 Q 290 582 290 592 L 290 962 Q 290 972 300 972 L 413.63 972" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 972 L 411.88 975.5 L 413.63 972 L 411.88 968.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="870" width="190" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 181px; height: 1px; padding-top: 900px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">go httpSrv.Serve(httpl)</div></div></div></foreignObject><text x="427" y="904" fill="#000000" font-family="source code pro" font-size="13px">go httpSrv.Serve(httpl)</text></switch></g><rect x="420" y="942" width="210" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 201px; height: 1px; padding-top: 972px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">go grpcSrv.Serve(grpcl)</div></div></div></foreignObject><text x="427" y="976" fill="#000000" font-family="source code pro" font-size="13px">go grpcSrv.Serve(grpcl)</text></switch></g><path d="M 870 131 L 815 131 Q 805 131 805 141 L 805 277 Q 805 287 795 287 L 746.37 287" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 741.12 287 L 748.12 283.5 L 746.37 287 L 748.12 290.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 122px; margin-left: 80px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建Web 实例</div></div></div></foreignObject><text x="80" y="126" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">1. 创建Web 实例</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 532px; margin-left: 80px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 运行Web 服务</div></div></div></foreignObject><text x="80" y="536" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">2. 运行Web 服务</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 844px; margin-left: 704px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">注册V1 API 端点</div></div></div></foreignObject><text x="704" y="848" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">注册V1 API 端点</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 681px; margin-left: 1020px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">注册V2 API 端点</div></div></div></foreignObject><text x="1020" y="685" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="middle">注册V2 API 端点</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 35px; margin-left: 85px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Web 服务实现</div></div></div></foreignObject><text x="85" y="40" fill="#000000" font-family="source code pro" font-size="18px" text-anchor="middle">Web 服务实现</text></switch></g></g></svg>