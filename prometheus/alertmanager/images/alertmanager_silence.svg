<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1393px" height="1152px" viewBox="-0.5 -0.5 1393 1152" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-03-07T02:51:58.252Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.5.3 Chrome/78.0.3904.130 Electron/7.1.9 Safari/537.36&quot; etag=&quot;5wKzCknibKDM27DHyuW3&quot; version=&quot;12.5.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;dCNO1prxhf5Ewf1Gu6hu&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-833-160-231-26-0"><rect x="833" y="160" width="231" height="26"/></clipPath><clipPath id="mx-clip-833-186-231-26-0"><rect x="833" y="186" width="231" height="26"/></clipPath><clipPath id="mx-clip-833-212-231-26-0"><rect x="833" y="212" width="231" height="26"/></clipPath><clipPath id="mx-clip-833-238-231-26-0"><rect x="833" y="238" width="231" height="26"/></clipPath><clipPath id="mx-clip-1176-711-191-26-0"><rect x="1176" y="711" width="191" height="26"/></clipPath><clipPath id="mx-clip-1176-737-191-26-0"><rect x="1176" y="737" width="191" height="26"/></clipPath><clipPath id="mx-clip-1176-763-191-26-0"><rect x="1176" y="763" width="191" height="26"/></clipPath></defs><g><path d="M 828 155 L 828 129 L 1068 129 L 1068 155" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 828 155 L 828 259 L 1068 259 L 1068 155" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 828 155 L 1068 155" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="834.5" y="147">Silences</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-833-160-231-26-0)" font-size="13px"><text x="834.5" y="173.5">- retention: time.Duration</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-833-186-231-26-0)" font-size="13px"><text x="834.5" y="199.5">- st: state</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-833-212-231-26-0)" font-size="13px"><text x="834.5" y="225.5">- broadcast: func([]byte)</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-833-238-231-26-0)" font-size="13px"><text x="834.5" y="251.5">- mc: matcherCache</text></g><path d="M 1171 706 L 1171 680 L 1371 680 L 1371 706" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1171 706 L 1171 784 L 1371 784 L 1371 706" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1171 706 L 1371 706" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1177.5" y="698">Silencer</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1176-711-191-26-0)" font-size="13px"><text x="1177.5" y="724.5">- silences: *Silences</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1176-737-191-26-0)" font-size="13px"><text x="1177.5" y="750.5">- marker: types.Marker</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1176-763-191-26-0)" font-size="13px"><text x="1177.5" y="776.5">- logger: log.Logger</text></g><path d="M 361 158.81 L 391.48 158.81 Q 401.48 158.81 401.48 168.81 L 401.48 184.05 Q 401.48 194.05 411.48 194.05 L 434.63 194.05" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 439.88 194.05 L 432.88 197.55 L 434.63 194.05 L 432.88 190.55 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="21" y="129" width="340" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 331px; height: 1px; padding-top: 159px; margin-left: 28px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">silences, err := silence.New(silenceOpts)</div></div></div></foreignObject><text x="28" y="163" fill="#000000" font-family="source code pro" font-size="13px">silences, err := silence.New(silenceOpts)</text></switch></g><path d="M 441 459 L 431.24 458.9 Q 421.48 458.81 421.48 468.81 L 421.48 504.05 Q 421.48 514.05 428.05 514.03 L 434.63 514.02" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 439.88 514 L 432.89 517.52 L 434.63 514.02 L 432.87 510.52 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><rect x="441" y="429" width="330" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 459px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c := peer.AddState("sil", silences, ...)</div></div></div></foreignObject><text x="448" y="463" fill="#000000" font-family="source code pro" font-size="13px">c := peer.AddState("sil", silences, ...)</text></switch></g><path d="M 331 529 L 434.63 529" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 439.88 529 L 432.88 532.5 L 434.63 529 L 432.88 525.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="21" y="499" width="310" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 301px; height: 1px; padding-top: 529px; margin-left: 28px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">silences.SetBroadcast(c.Broadcast)</div></div></div></foreignObject><text x="28" y="533" fill="#000000" font-family="source code pro" font-size="13px">silences.SetBroadcast(c.Broadcast)</text></switch></g><path d="M 261 639 L 374.63 639" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 379.88 639 L 372.88 642.5 L 374.63 639 L 372.88 635.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="21" y="609" width="240" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 231px; height: 1px; padding-top: 639px; margin-left: 28px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">silences.Maintenance(...)</div></div></div></foreignObject><text x="28" y="643" fill="#000000" font-family="source code pro" font-size="13px">silences.Maintenance(...)</text></switch></g><path d="M 501 829.29 L 531.48 829.29 Q 541.48 829.29 551.48 829.29 L 574.63 829.29" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 579.88 829.29 L 572.88 832.79 L 574.63 829.29 L 572.88 825.79 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="21" y="799" width="480" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 471px; height: 1px; padding-top: 829px; margin-left: 28px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">silencer := silence.NewSilencer(silences, marker, logger)</div></div></div></foreignObject><text x="28" y="833" fill="#000000" font-family="source code pro" font-size="13px">silencer := silence.NewSilencer(silences, marker, logger)</text></switch></g><path d="M 241 969 L 574.63 969" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 579.88 969 L 572.88 972.5 L 574.63 969 L 572.88 965.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="21" y="939" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 211px; height: 1px; padding-top: 969px; margin-left: 28px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">silencer.Mutes(labels)</div></div></div></foreignObject><text x="28" y="973" fill="#000000" font-family="source code pro" font-size="13px">silencer.Mutes(labels)</text></switch></g><path d="M 801 969 L 944.63 969" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 949.88 969 L 942.88 972.5 L 944.63 969 L 942.88 965.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="581" y="939" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 211px; height: 1px; padding-top: 969px; margin-left: 588px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">silencer.Mutes(labels)</div></div></div></foreignObject><text x="588" y="973" fill="#000000" font-family="source code pro" font-size="13px">silencer.Mutes(labels)</text></switch></g><path d="M 801.48 969.29 L 841 969.29 Q 851 969.29 851 979.29 L 851 1088.81 Q 851 1098.81 861 1098.81 L 944.63 1098.81" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 949.88 1098.81 L 942.88 1102.31 L 944.63 1098.81 L 942.88 1095.31 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="951" y="879" width="390" height="180" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 381px; height: 1px; padding-top: 969px; margin-left: 958px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>if markerVersion == s.silences.Version() {</div><div>    sils, _, err = s.silences.Query(</div><div>        QIDs(ids...),</div><div>        QState(types.SilenceStateActive),</div><div>    )</div><div>} else {</div><div>    sils, newVersion, err = s.silences.Query(</div><div>        QState(types.SilenceStateActive),</div><div>        QMatches(lset),</div><div>    )</div><div>}</div></div></div></div></foreignObject><text x="958" y="973" fill="#000000" font-family="source code pro" font-size="13px">if markerVersion == s.silences.Version() {...</text></switch></g><path d="M 801.48 969.29 L 841 969.29 Q 851 969.29 851 959.29 L 851 848.81 Q 851 838.81 861 838.81 L 944.63 838.81" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 949.88 838.81 L 942.88 842.31 L 944.63 838.81 L 942.88 835.31 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="951" y="1069" width="380" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 371px; height: 1px; padding-top: 1099px; margin-left: 958px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">s.marker.SetSilenced(fp, newVersion, ids...)</div></div></div></foreignObject><text x="958" y="1103" fill="#000000" font-family="source code pro" font-size="13px">s.marker.SetSilenced(fp, newVersion, ids...)</text></switch></g><rect x="951" y="809" width="380" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 371px; height: 1px; padding-top: 839px; margin-left: 958px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ids, markerVersion, _ := s.marker.Silenced(fp)</div></div></div></foreignObject><text x="958" y="843" fill="#000000" font-family="source code pro" font-size="13px">ids, markerVersion, _ := s.marker.Silenced(fp)</text></switch></g><rect x="581" y="784" width="200" height="90" rx="13.5" ry="13.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 191px; height: 1px; padding-top: 829px; margin-left: 588px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>return &amp;Silencer{</div><div>    silences: s,</div><div>    marker:   m,</div><div>    logger:   l,</div><div>}</div></div></div></div></foreignObject><text x="588" y="833" fill="#000000" font-family="source code pro" font-size="13px">return &amp;Silencer{...</text></switch></g><path d="M 141 669 L 141.36 700.24 Q 141.48 710.24 151.48 710.23 L 374.63 710.01" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 379.88 710 L 372.89 713.51 L 374.63 710.01 L 372.88 706.51 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 671 638.81 L 731.48 638.81 Q 741.48 638.81 751.48 638.81 L 804.63 638.81" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 809.88 638.81 L 802.88 642.31 L 804.63 638.81 L 802.88 635.31 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="381" y="609" width="290" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 281px; height: 1px; padding-top: 639px; margin-left: 388px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>if _, err := s.GC(); err != nil {</div><div>    return err</div><div>}</div></div></div></div></foreignObject><text x="388" y="643" fill="#000000" font-family="source code pro" font-size="13px">if _, err := s.GC(); err != nil {...</text></switch></g><rect x="811" y="594" width="320" height="90" rx="13.5" ry="13.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 639px; margin-left: 818px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>for id, sil := range s.st {</div><div>    if !sil.ExpiresAt.After(now) {</div><div>        delete(s.st, id)</div><div>    }</div><div>}</div></div></div></div></foreignObject><text x="818" y="643" fill="#000000" font-family="source code pro" font-size="13px">for id, sil := range s.st {...</text></switch></g><path d="M 741 710.24 L 765.76 710.24 Q 775.76 710.24 775.76 717.38 L 775.76 720.95 Q 775.76 724.52 785.76 724.52 L 804.63 724.52" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 809.88 724.52 L 802.88 728.02 L 804.63 724.52 L 802.88 721.02 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="381" y="680" width="360" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 351px; height: 1px; padding-top: 710px; margin-left: 388px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>if size, err = s.Snapshot(f); err != nil {</div><div>    return err</div><div>}</div></div></div></div></foreignObject><text x="388" y="714" fill="#000000" font-family="source code pro" font-size="13px">if size, err = s.Snapshot(f); err != nil {...</text></switch></g><rect x="811" y="694" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 724px; margin-left: 818px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>b, err := s.st.MarshalBinary()</div><div>return io.Copy(w, bytes.NewReader(b))</div></div></div></div></foreignObject><text x="818" y="728" fill="#000000" font-family="source code pro" font-size="13px">b, err := s.st.MarshalBinary()...</text></switch></g><path d="M 781 529 L 854.63 529" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 859.88 529 L 852.88 532.5 L 854.63 529 L 852.88 525.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="441" y="499" width="340" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 331px; height: 1px; padding-top: 529px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">silences.SetBroadcast(c.Broadcast)</div></div></div></foreignObject><text x="448" y="533" fill="#000000" font-family="source code pro" font-size="13px">silences.SetBroadcast(c.Broadcast)</text></switch></g><rect x="861" y="499" width="170" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 161px; height: 1px; padding-top: 529px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">s.broadcast = f</div></div></div></foreignObject><text x="868" y="533" fill="#000000" font-family="source code pro" font-size="13px">s.broadcast = f</text></switch></g><path d="M 361.48 158.81 L 391.48 158.81 Q 401.48 158.81 401.48 168.81 L 401.48 288.81 Q 401.48 298.81 411.48 298.81 L 434.63 298.81" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 439.88 298.81 L 432.88 302.31 L 434.63 298.81 L 432.88 295.31 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="441" y="129" width="310" height="130" rx="10.4" ry="10.4" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 301px; height: 1px; padding-top: 194px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>s := &amp;Silences{</div><div>    mc:        matcherCache{},</div><div>    logger:    log.NewNopLogger(),</div><div>    retention: o.Retention,</div><div>    now:       utcNow,</div><div>    broadcast: func([]byte) {},</div><div>    st:        state{},</div><div>}</div></div></div></div></foreignObject><text x="448" y="198" fill="#000000" font-family="source code pro" font-size="13px">s := &amp;Silences{...</text></switch></g><path d="M 761 299 L 854.63 299" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 859.88 299 L 852.88 302.5 L 854.63 299 L 852.88 295.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="441" y="269" width="320" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 311px; height: 1px; padding-top: 299px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">s.loadSnapshot(o.SnapshotReader)</div></div></div></foreignObject><text x="448" y="303" fill="#000000" font-family="source code pro" font-size="13px">s.loadSnapshot(o.SnapshotReader)</text></switch></g><path d="M 761 298.81 L 781 298.81 Q 791 298.81 791 308.81 L 791 359.29 Q 791 369.29 801 369.29 L 854.63 369.29" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 859.88 369.29 L 852.88 372.79 L 854.63 369.29 L 852.88 365.79 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="861" y="269" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 299px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">st, err := decodeState(r)</div></div></div></foreignObject><text x="868" y="303" fill="#000000" font-family="source code pro" font-size="13px">st, err := decodeState(r)</text></switch></g><path d="M 761.48 298.81 L 781 298.81 Q 791 298.81 791 308.81 L 791 428.81 Q 791 438.81 801 438.81 L 854.63 438.81" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 859.88 438.81 L 852.88 442.31 L 854.63 438.81 L 852.88 435.31 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="861" y="339" width="250" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 241px; height: 1px; padding-top: 369px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>for _, e := range st {</div><div>    st[e.Silence.Id] = e</div><div>}</div></div></div></div></foreignObject><text x="868" y="373" fill="#000000" font-family="source code pro" font-size="13px">for _, e := range st {...</text></switch></g><rect x="861" y="409" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 111px; height: 1px; padding-top: 439px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">s.st = st</div></div></div></foreignObject><text x="868" y="443" fill="#000000" font-family="source code pro" font-size="13px">s.st = st</text></switch></g><path d="M 828 168 L 799.09 168.25 Q 789.1 168.33 789.1 158.33 L 789.1 151.9 Q 789.1 145.48 779.1 145.49 L 757.37 145.5" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 752.12 145.51 L 759.11 142 L 757.37 145.5 L 759.12 149 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1171 771.19 L 1171 768.33 Q 1171 765.48 1161 765.48 L 741 765.48 Q 731 765.48 731 771.34 L 731 777.2" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 731 782.45 L 727.5 775.45 L 731 777.2 L 734.5 775.45 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 110px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建静默器</div></div></div></foreignObject><text x="21" y="114" fill="#000000" font-family="source code pro" font-size="13px">1. 创建静默器</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 479px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 创建静默器广播通道</div></div></div></foreignObject><text x="23" y="483" fill="#000000" font-family="source code pro" font-size="13px">2. 创建静默器广播通道</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 589px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 静默器维护处理</div></div></div></foreignObject><text x="23" y="593" fill="#000000" font-family="source code pro" font-size="13px">3. 静默器维护处理</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 779px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">4. 创建静默处理器</div></div></div></foreignObject><text x="21" y="783" fill="#000000" font-family="source code pro" font-size="13px">4. 创建静默处理器</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 921px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">5. 告警静默处理</div></div></div></foreignObject><text x="21" y="925" fill="#000000" font-family="source code pro" font-size="13px">5. 告警静默处理</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 34px; margin-left: 91px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">告警静默器实现</div></div></div></foreignObject><text x="91" y="39" fill="#000000" font-family="source code pro" font-size="18px" text-anchor="middle">告警静默器实现</text></switch></g></g></svg>