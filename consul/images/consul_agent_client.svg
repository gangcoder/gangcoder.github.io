<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2496px" height="1094px" viewBox="-0.5 -0.5 2496 1094" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-08-16T15:10:24.924Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;2DrHEBptsx7gXyg5wNct&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;Ed2FusEILydqlkX3XYgC&quot; name=&quot;Page-1&quot;&gt;7V3rb9u2Fv9rBKQDIuj9+Gg7znp3k66od9duXwbGYmytsmRISpzsr7+HEqkX6ViyLTeDBASteESKj/PjIc+DtKTPNi8/x2i7vo88HEia4r1I+o2kaZpiWfAfobzmFBVoOWUV+x6llYSF/w+mRJbtyfdwUsuYRlGQ+ts6cRmFIV6mNRqK42hXz/YYBfVat2iFOcJiiQKe+tX30nVOdTS7pH/E/mrNalYtN3+zQSwz7UmyRl60q5D0uaTP4ihK86fNywwHZPTYuOTlbve8LRoW4zBtU+Dbf9WP4dfFp9kz+s9X28L/+2MRXFP2JOkr6zD2oP80GcXpOlpFIQrmJXUaR0+hh8lXVUiVee6iaEuJf+M0faXMRE9pBKR1ugnoW/zip9/gWaHPf5BnWTNp8ual8u7mlSXCNH79xr5AEnkx22TpslyWYgWTNI6+41kURHHWQ129md66NrzJ+046vHdIKSmJnuIlzaX8cvey0O+9P21TtX6/m3z7+uvf1wyaKF7h9I18TsF4mDI42mBoKZSLcYBS/7neDkShuyryldyFB8rgPdh5o5HPKHiiNc0Cn3S1iYFk528CFBJmP0ZhyuBARnO59gPvDr1GT6SbSYqW31lquo5i/x/IjxijS8KCZKSfiHECyPjMRlltkO7RSy3jHUpSVnkUBGib+A9Zc0jBDQy4H06jNI02NBNp8S3a+AEBAGUckQ8e+W8bR6xTOTpVnUBki5Z+uLrDj6QmAigU+KsQnoOMBBhCMSuhWeQLfhDsh5QAQc84TvFLhcSDgL51LCMvwkSmpctmTtmVEkjTqVhZV6SP7fSEHI1DzjWVuZ9BGEv6BFI/beFRnjFaE1PQ+5SbjWGUg6wympTUYAAZPh+k8oSSUyJqBHyjlC90TAgeIij7GGSSd+17Hg4zEZaiFD0UqN5Gfphmg2ZO4Q+GdqbAoJvQ8Bmk1TINfyR7nEJHoS/Iz/iMAaM7THB6DPwEkvyt6XsYSRQ5mtUONizf2WGjC2ED60eK44SiJk/J9yiEpTQeYfPjYWNqPxg2BgebfegYF6ofuFC5bLmhuDEYSCrA0dlGuQocBrCzA8cUypvAT9LfcxKROAg44C/lnDKKm3OLG6M1jPavUkLU9CZuLA41qgxpaW5KriJNbsmDM5EmzmSVbZazN5O5NNGkuSU5jjS1pbktTaZZXgsyShOV5JnOJOd2H8Qq+tABFG0AD7niRcTMXjwQlhNdK6E8E7CwBdfPsYFV6vtXW+UYrBqGgMFKTwy2OQY/PoVLoHzCu1wD+uqn61+3qQ+z5UqW5Q8c0+o6727tp3gBk5i83cVoW+fnEZOrKcZ5OR8vWX6NJB+SKICN06Qk98I8TdH5zYAl2AxYfTHP4ZhXqB0AGEKAmi20ITzI/63rITaMikVWPiUbIJozfEi2WVoRkBbxcuJ5cbZctMnflkQUpkd/JX/5PGNVgODu2robWBOWwGB8UgNpUyofqzfFvqmkltlQT4SjTU0IRwxz3oSzj/K+eo4Y6pqCe9YGUQBzQz5UsWMYjUVDaPTQDZOXPKru9iR6XF70yAls0zK+KTiOCwlE6OnTdgEvr+jMIs93k0+zEnyQCz/DEM3WeTLJcyxC0BTWUfqhOuFkpiSzGqiaDCvW1VIOotWKzlhS9fop9aJdyL5bbeRSroGtRCPUpBvVicAI1WasouwTtC3ygigXV4IMoILNSc8+ohB2KnEtSwwDE4ckW96C0OdtQ4OFua64HMgtTbC8qkpvRmGFQznHnwv4BDgr/e3c0C3zOH4zBwNzNuSegrf9C3u5e9D2T7eX7Wz/nL+h9Tba6g0BvF9gREAvCHD7Q0D2kUkco9dKBqoglnV8JoSyAt1t7PZ1vYqmg/l1S2mgL29BicWiUyfAk3c+aLl+bkkuaNg3TD8HndshKjhRxy1pqkqORiiQJHq5LbkGIQ5dHTeYwK8sOY7Krzi9aeMq7xUo1fFR+67xyuBN8arIFN+b9q3ytvh3sjfdFNWHUC91EAg3npvh4klrCGyRid50BIByjNMBJQw44YX5+9prCFfog7sCYVfbxoSoppiHFwoK4Z0mhZ431GmjsyAu5hE1DX7NdPoRw29BqcKjfar5v5hlHH8EXGy7coo4pjFl+zIrJ+9Weowyi1FmKg3IcD1A2lqlre2RCQ5IjONJ31iiBFffZB+53sgxfkABCpf4N38Di/kst3keVUU70kb+wqpc4BiYn2R2o+NqzMzVzaJDNqiaulqfEJrAkWMLJoTKVuTzzwjeDydCwFA51oz7E4kw1RE4xvsTYbzvLXe6UU/QRoaNTc65Oz+pW4YDsvV/fAxGzpKgcKMeKWOydHUysglaC+jsbS7yvo33tQ9/9zY/ZsY4vL03hDpFaw+81RcGtNHueyoGzLYYsLph4NpWGrZf9wwKuRgF710jf/8osNqiwH6/KOCNsiMKuqGgrRNI7egHvCQKeGuvzkIh9wU8asqXz5n1lryCPGbmjrmVJjot5c5JZng1VThIDc35YjFPS82gLwhq6c37ovHmPuDf6HapcslWeV3ZvaTipfG2oyRTo6raV2n8u/VDL1ez6pE32+U8bhRhHhcSg3iVJQVRgEpembxYgwj/hDa4Ri3iFhXo7Dry8meQekn+FONt8Cp0xLAGDRVmmt3AmcJLA9vtyRsjBhpvkqmDaaisApW97gIQyQRVF6js/QmFE6wxxRQM5HwWJ9n5EXPABlJYdhUWYlrwWBWdtFVEDne9Ly7zhplxfeZno6P92BWa+dErbCrm2FaGhe7KY/GuMMLlGopaLp6D5bSumAc5XYTFXIbVvJmM8HfgM9Jh+u67mZG8HYtsdunWdVmP2adL5pYsmfkBljfma3UhrQb9b5IVjP93AIM8Q0FAzpDNoPDyKiEba3g4bpc86AB5WGwbuLIFEUuKIPaitz2yPprGTjSNaW3N5FpHM/nFQuR13jA2YqAbBtoaybWORvLLYYC3nI0Y6IaBtiZyrauJ3LBqIGAHMs6PAd4wN2KgJznQ8bDM5TDA28xGDHTDgNsSA0zLbo0B3a1rj8W9RedHAW+NG1HQCQWMNYdRoHZEgWXodVGgqn1djKfz5roRBt1g0PaYBFPw3yMMDN4caBDH+SI77KRIc1eCfao7keaGNL2l1wNNDAmUVnIwUZEc/iLWofnGHY3X9FWRpt+bb9zgLX0tLnzgGDcYY02TgSbPQM0UOU96YyBvAyzv5Ri2wdbQDjNLNQXngPtjFm9XI+EI8qfCAFvMNRqmUL4pL0ohJebsVhVWYC2yq5KJLM9ijFKc3dEyYDBYVgMMuiAe/aKBCAZvYNt/t8xQ2daQty7Tow6dIuhvCvMmsZFd5SlS2z7IL9Xu6RipmF9vn0nsdjla4zBix5vV8lOIuZBvXiyXH0ksb8vKTiJ2+37LLuz8lCwWCs7XkN9et5gg9qgudep4thhldd7jzQOOf4Eten/9bNk0mfg+SUuusHyVtTBvXNbODx+6N652ieCgj2NaltYINhJJA922eGlQ3JV6fnHAWzILBGwKlFYxMFwGqmrDMe0KrrXVTEEod3/SnDdB5tL8Lxp4UBWuMQpXZJg3mDI0OVZyF2HHE48FisLIpsmHca4XE1arQ8UUbNTsi26veTNlyT2ChJ+gHuShFMk5ccgz3XYb7BPOdMEF1r3NdKarVwU13tGT1YXai7ZbHHpX1TdZ7FPjWHajVDV7ebmSnKBnXAkmDgYMiPJKhLfms3vJmCSTt1Ry/BndDm+5HYy2bgcmy4+MR7nuzwXJfkZjBMHRINDagkB/tyAYI9NOBYHRFgRmNxBcu00HpOb0dVW5OQannQqDtkGqRte7HC4JgzE+7VQYtI1PM7pe5nBJGIwhaqfCoG2oqtE1VFXVlfplUAC53nAwBqmdigOnLQ66hqteFAdjlNqpOGgbsspMNe1xYDj1e/+uLeMMOBBeI2v+CK6Lf+373/xj361v/TLErD/7xc5CZvN7APJjkE+kHKI/ZLikP/+tvL+fLewgDZyCu+e8QZiFdB6y2R+h2UMyjqK08u7nGG3X99BBkuP/&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-819-185-225-26-0"><rect x="819" y="185" width="225" height="26"/></clipPath><clipPath id="mx-clip-819-211-225-26-0"><rect x="819" y="211" width="225" height="26"/></clipPath><clipPath id="mx-clip-933-451-322-26-0"><rect x="933" y="451" width="322" height="26"/></clipPath></defs><g><path d="M 814 173 L 784.5 173 Q 774.5 173 774.5 183 L 774.5 247.8 Q 774.5 257.8 764.5 257.79 L 741.37 257.76" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 736.12 257.75 L 743.12 254.26 L 741.37 257.76 L 743.11 261.26 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="all"/><path d="M 814 179.5 L 814 153.5 L 1044 153.5 L 1044 179.5" fill="#1dbf97" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 814 179.5 L 814 231.5 L 1044 231.5 L 1044 179.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 814 179.5 L 1044 179.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="820.5" y="171.5">Client</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-819-185-225-26-0)" font-size="13px"><text x="820.5" y="198">- connPool: *pool.ConnPool</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-819-211-225-26-0)" font-size="13px"><text x="820.5" y="224">- routers: *router.Manager</text></g><path d="M 928 446 L 928 420 L 1255 420 L 1255 446" fill="#1dbf97" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 928 446 L 928 472 L 1255 472 L 1255 446" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 928 446 L 1255 446" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="934.5" y="438">Manager</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-933-451-322-26-0)" font-size="13px"><text x="934.5" y="464.5">- listValue: atomic.Value</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 171px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 启动Agent 客户端模式</div></div></div></foreignObject><text x="32" y="175" fill="#000000" font-family="source code pro" font-size="13px">1. 启动Agent 客户端模式</text></switch></g><rect x="30" y="193" width="260" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 253px; height: 1px; padding-top: 223px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewClientWithOptions(...)</div></div></div></foreignObject><text x="37" y="227" fill="#000000" font-family="source code pro" font-size="13px">func NewClientWithOptions(...)</text></switch></g><rect x="390" y="153.5" width="345" height="139" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 223px; margin-left: 397px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">connPool = &amp;pool.ConnPool{<br />    SrcAddr:         config.RPCSrcAddr,<br />    Datacenter:      config.Datacenter,<br />}<br />c := &amp;Client{<br />    config:          config,<br />    connPool:        connPool,<br />}</div></div></div></foreignObject><text x="397" y="227" fill="#000000" font-family="source code pro" font-size="13px">connPool = &amp;pool.ConnPool{...</text></switch></g><rect x="390" y="299" width="620" height="101" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 613px; height: 1px; padding-top: 350px; margin-left: 397px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.serf, err = c.setupSerf(config.SerfLANConfig, c.eventCh, serfLANSnapshot)<br />c.routers = router.New(c.logger, c.shutdownCh, c.serf, c.connPool, "")<br />go c.routers.Start()<br />go c.lanEventHandler()<br />return c, nil</div></div></div></foreignObject><text x="397" y="353" fill="#000000" font-family="source code pro" font-size="13px">c.serf, err = c.setupSerf(config.SerfLANConfig, c.eventCh, serfLANSnapshot)...</text></switch></g><path d="M 290 223 L 383.63 223" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 388.88 223 L 381.88 226.5 L 383.63 223 L 381.88 219.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 290 223 L 330 223 Q 340 223 340 233 L 340 340 Q 340 350 350 350 L 383.63 350" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 388.88 350 L 381.88 353.5 L 383.63 350 L 381.88 346.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 410px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 服务请求路由</div></div></div></foreignObject><text x="32" y="414" fill="#000000" font-family="source code pro" font-size="13px">2. 服务请求路由</text></switch></g><rect x="30" y="432" width="130" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 123px; height: 1px; padding-top: 462px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func New(...)</div></div></div></foreignObject><text x="37" y="466" fill="#000000" font-family="source code pro" font-size="13px">func New(...)</text></switch></g><rect x="240" y="420" width="580" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 573px; height: 1px; padding-top: 462px; margin-left: 247px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.routers = router.New(c.logger, c.shutdownCh, c.serf, c.connPool, "")<br />m = new(Manager)<br />return m</div></div></div></foreignObject><text x="247" y="466" fill="#000000" font-family="source code pro" font-size="13px">c.routers = router.New(c.logger, c.shutdownCh, c.serf, c.connPool, "")...</text></switch></g><path d="M 239 574 L 312.63 574" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 317.88 574 L 310.88 577.5 L 312.63 574 L 310.88 570.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="319" y="544" width="88" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 81px; height: 1px; padding-top: 574px; margin-left: 326px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Start()</div></div></div></foreignObject><text x="326" y="578" fill="#000000" font-family="source code pro" font-size="13px">Start()</text></switch></g><rect x="30" y="544" width="209" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 202px; height: 1px; padding-top: 574px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">go c.routers.Start()</div></div></div></foreignObject><text x="37" y="578" fill="#000000" font-family="source code pro" font-size="13px">go c.routers.Start()</text></switch></g><rect x="481" y="513" width="279" height="122" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 272px; height: 1px; padding-top: 574px; margin-left: 488px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for {<br />    select {<br />    case &lt;-m.rebalanceTimer.C:<br />        m.RebalanceServers()<br />    }<br />}</div></div></div></foreignObject><text x="488" y="578" fill="#000000" font-family="source code pro" font-size="13px">for {...</text></switch></g><rect x="814" y="544" width="187" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 180px; height: 1px; padding-top: 574px; margin-left: 821px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">RebalanceServers()</div></div></div></foreignObject><text x="821" y="578" fill="#000000" font-family="source code pro" font-size="13px">RebalanceServers()</text></switch></g><rect x="1098" y="538" width="223" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 216px; height: 1px; padding-top: 574px; margin-left: 1105px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">l := m.getServerList()<br />l.shuffleServers()</div></div></div></foreignObject><text x="1105" y="578" fill="#000000" font-family="source code pro" font-size="13px">l := m.getServerList()...</text></switch></g><path d="M 160 462 L 233.63 462" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 238.88 462 L 231.88 465.5 L 233.63 462 L 231.88 458.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 407 574 L 474.63 574" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 479.88 574 L 472.88 577.5 L 474.63 574 L 472.88 570.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 760 574 L 807.63 574" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 812.88 574 L 805.88 577.5 L 807.63 574 L 805.88 570.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1001 574 L 1091.63 574" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1096.88 574 L 1089.88 577.5 L 1091.63 574 L 1089.88 570.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 681px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 客户端 RPC 接口实现</div></div></div></foreignObject><text x="32" y="685" fill="#000000" font-family="source code pro" font-size="13px">3. 客户端 RPC 接口实现</text></switch></g><rect x="30" y="703" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 733px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">RPC(...)</div></div></div></foreignObject><text x="37" y="737" fill="#000000" font-family="source code pro" font-size="13px">RPC(...)</text></switch></g><rect x="220" y="691" width="790" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 783px; height: 1px; padding-top: 733px; margin-left: 227px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">server := c.routers.FindServer()<br />rpcErr := c.connPool.RPC(c.config.Datacenter, server.ShortName, server.Addr, method, args, reply)<br />return rpcErr</div></div></div></foreignObject><text x="227" y="737" fill="#000000" font-family="source code pro" font-size="13px">server := c.routers.FindServer()...</text></switch></g><rect x="1099" y="703" width="133" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 126px; height: 1px; padding-top: 733px; margin-left: 1106px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">FindServer()</div></div></div></foreignObject><text x="1106" y="737" fill="#000000" font-family="source code pro" font-size="13px">FindServer()</text></switch></g><rect x="1300.5" y="701.5" width="200" height="63" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 193px; height: 1px; padding-top: 733px; margin-left: 1308px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">l := m.getServerList()<br />return l.servers[0]</div></div></div></foreignObject><text x="1308" y="737" fill="#000000" font-family="source code pro" font-size="13px">l := m.getServerList()...</text></switch></g><rect x="1099" y="772" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 802px; margin-left: 1106px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">RPC(...)</div></div></div></foreignObject><text x="1106" y="806" fill="#000000" font-family="source code pro" font-size="13px">RPC(...)</text></switch></g><rect x="1255" y="772" width="442" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 435px; height: 1px; padding-top: 802px; margin-left: 1262px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return p.rpc(dc, nodeName, addr, method, args, reply)</div></div></div></foreignObject><text x="1262" y="806" fill="#000000" font-family="source code pro" font-size="13px">return p.rpc(dc, nodeName, addr, method, args, reply)</text></switch></g><rect x="1767" y="772" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 802px; margin-left: 1774px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">rpc(...)</div></div></div></foreignObject><text x="1774" y="806" fill="#000000" font-family="source code pro" font-size="13px">rpc(...)</text></switch></g><rect x="1957" y="760" width="508" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 501px; height: 1px; padding-top: 802px; margin-left: 1964px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">conn, sc, err := p.getClient(dc, nodeName, addr)<br />err = msgpackrpc.CallWithCodec(sc.codec, method, args, reply)<br />return nil</div></div></div></foreignObject><text x="1964" y="806" fill="#000000" font-family="source code pro" font-size="13px">conn, sc, err := p.getClient(dc, nodeName, addr)...</text></switch></g><path d="M 127 733 L 213.63 733" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 218.88 733 L 211.88 736.5 L 213.63 733 L 211.88 729.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1010 733 L 1092.63 733" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1097.88 733 L 1090.88 736.5 L 1092.63 733 L 1090.88 729.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1232 733 L 1294.13 733" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1299.38 733 L 1292.38 736.5 L 1294.13 733 L 1292.38 729.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1010 733 L 1044.5 733 Q 1054.5 733 1054.5 743 L 1054.5 792 Q 1054.5 802 1064.5 802 L 1092.63 802" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1097.88 802 L 1090.88 805.5 L 1092.63 802 L 1090.88 798.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1196 802 L 1248.63 802" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1253.88 802 L 1246.88 805.5 L 1248.63 802 L 1246.88 798.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1697 802 L 1760.63 802" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1765.88 802 L 1758.88 805.5 L 1760.63 802 L 1758.88 798.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1864 802 L 1950.63 802" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1955.88 802 L 1948.88 805.5 L 1950.63 802 L 1948.88 798.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 820px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">4. Serf 通信处理</div></div></div></foreignObject><text x="32" y="824" fill="#000000" font-family="source code pro" font-size="13px">4. Serf 通信处理</text></switch></g><rect x="30" y="840" width="250" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 243px; height: 1px; padding-top: 870px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.serf, err = c.setupSerf</div></div></div></foreignObject><text x="37" y="874" fill="#000000" font-family="source code pro" font-size="13px">c.serf, err = c.setupSerf</text></switch></g><rect x="370" y="840" width="151" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 144px; height: 1px; padding-top: 870px; margin-left: 377px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">setupSerf(...)</div></div></div></foreignObject><text x="377" y="874" fill="#000000" font-family="source code pro" font-size="13px">setupSerf(...)</text></switch></g><rect x="610" y="828" width="290" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 283px; height: 1px; padding-top: 870px; margin-left: 617px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">conf.NodeName = c.config.NodeName<br />conf.EventCh = ch<br />return serf.Create(conf)</div></div></div></foreignObject><text x="617" y="874" fill="#000000" font-family="source code pro" font-size="13px">conf.NodeName = c.config.NodeName...</text></switch></g><rect x="30" y="919" width="223" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 216px; height: 1px; padding-top: 949px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">go c.lanEventHandler()</div></div></div></foreignObject><text x="37" y="953" fill="#000000" font-family="source code pro" font-size="13px">go c.lanEventHandler()</text></switch></g><rect x="327" y="919" width="178" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 949px; margin-left: 334px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">lanEventHandler()</div></div></div></foreignObject><text x="334" y="953" fill="#000000" font-family="source code pro" font-size="13px">lanEventHandler()</text></switch></g><rect x="612.5" y="919" width="376" height="144" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 369px; height: 1px; padding-top: 991px; margin-left: 620px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for {<br />    select {<br />    case e := &lt;-c.eventCh:<br />        switch e.EventType() {<br />        case serf.EventMemberJoin:<br />            c.nodeJoin(e.(serf.MemberEvent))<br />    }<br />}</div></div></div></foreignObject><text x="620" y="995" fill="#000000" font-family="source code pro" font-size="13px">for {...</text></switch></g><rect x="1057" y="961" width="255" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 991px; margin-left: 1064px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">nodeJoin(me serf.MemberEvent)</div></div></div></foreignObject><text x="1064" y="995" fill="#000000" font-family="source code pro" font-size="13px">nodeJoin(me serf.MemberEvent)</text></switch></g><rect x="1392" y="949" width="270" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 263px; height: 1px; padding-top: 991px; margin-left: 1399px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for _, m := range me.Members {<br />    c.routers.AddServer(parts)<br />}</div></div></div></foreignObject><text x="1399" y="995" fill="#000000" font-family="source code pro" font-size="13px">for _, m := range me.Members {...</text></switch></g><rect x="1742" y="961" width="254" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 247px; height: 1px; padding-top: 991px; margin-left: 1749px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">AddServer(s *metadata.Server)</div></div></div></foreignObject><text x="1749" y="995" fill="#000000" font-family="source code pro" font-size="13px">AddServer(s *metadata.Server)</text></switch></g><rect x="2072" y="949" width="298" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 291px; height: 1px; padding-top: 991px; margin-left: 2079px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">newServers = append(newServers, s)<br />l.servers = newServers<br />m.saveServerList(l)</div></div></div></foreignObject><text x="2079" y="995" fill="#000000" font-family="source code pro" font-size="13px">newServers = append(newServers, s)...</text></switch></g><path d="M 280 870 L 363.63 870" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 368.88 870 L 361.88 873.5 L 363.63 870 L 361.88 866.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 521 870 L 603.63 870" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 608.88 870 L 601.88 873.5 L 603.63 870 L 601.88 866.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 253 949 L 320.63 949" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 325.88 949 L 318.88 952.5 L 320.63 949 L 318.88 945.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 505 949 L 548.8 949 Q 558.8 949 558.8 959 L 558.8 981 Q 558.8 991 568.8 991 L 606.13 991" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 611.38 991 L 604.38 994.5 L 606.13 991 L 604.38 987.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 988.5 991 L 1050.63 991" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1055.88 991 L 1048.88 994.5 L 1050.63 991 L 1048.88 987.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1312 991 L 1385.63 991" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1390.88 991 L 1383.88 994.5 L 1385.63 991 L 1383.88 987.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1662 991 L 1735.63 991" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1740.88 991 L 1733.88 994.5 L 1735.63 991 L 1733.88 987.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1996 991 L 2065.63 991" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2070.88 991 L 2063.88 994.5 L 2065.63 991 L 2063.88 987.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 928 459 L 884 459 Q 874 459 874 469 L 874 476 Q 874 483 864 483 L 826.37 483" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 821.12 483 L 828.12 479.5 L 826.37 483 L 828.12 486.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Consul agent client 模式</div></div></div></foreignObject><text x="32" y="50" fill="#000000" font-family="source code pro" font-size="18px">Consul agent client 模式</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>