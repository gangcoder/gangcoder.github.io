<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3860px" height="672px" viewBox="-0.5 -0.5 3860 672" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-08-16T14:06:28.657Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;mH2s1_v57BCVIX_jl4KH&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;h7pYmZ0JRPGoj83O2jWm&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="30" y="140" width="117" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 150px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">1. KV HTTP 服务</div></div></div></foreignObject><text x="32" y="154" fill="#000000" font-family="source code pro" font-size="13px">1. KV HTTP 服务</text></switch></g><rect x="30" y="170" width="510" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 503px; height: 1px; padding-top: 200px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">registerEndpoint("/v1/kv/", ..., (*HTTPServer).KVSEndpoint)</div></div></div></foreignObject><text x="37" y="204" fill="#000000" font-family="source code pro" font-size="13px">registerEndpoint("/v1/kv/", ..., (*HTTPServer).KVSEndpoint)</text></switch></g><rect x="610" y="170" width="169" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 162px; height: 1px; padding-top: 200px; margin-left: 617px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">KVSEndpoint(...)</div></div></div></foreignObject><text x="617" y="204" fill="#000000" font-family="source code pro" font-size="13px">KVSEndpoint(...)</text></switch></g><rect x="855" y="140" width="353" height="120" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 346px; height: 1px; padding-top: 200px; margin-left: 862px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">switch req.Method {<br />case "GET":<br />    return s.KVSGetKeys(resp, req, &amp;args)<br />case "PUT":<br />    return s.KVSPut(resp, req, &amp;args)<br />}</div></div></div></foreignObject><text x="862" y="204" fill="#000000" font-family="source code pro" font-size="13px">switch req.Method {...</text></switch></g><path d="M 540 200 L 603.63 200" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 608.88 200 L 601.88 203.5 L 603.63 200 L 601.88 196.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 779 200 L 848.63 200" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 853.88 200 L 846.88 203.5 L 848.63 200 L 846.88 196.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="30" y="270" width="99" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 280px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">2. Get 请求处理</div></div></div></foreignObject><text x="32" y="284" fill="#000000" font-family="source code pro" font-size="13px">2. Get 请求处理</text></switch></g><rect x="30" y="300" width="150" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 143px; height: 1px; padding-top: 330px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">KVSGetKeys(...)</div></div></div></foreignObject><text x="37" y="334" fill="#000000" font-family="source code pro" font-size="13px">KVSGetKeys(...)</text></switch></g><rect x="260" y="275" width="370" height="110" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 363px; height: 1px; padding-top: 330px; margin-left: 267px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">listArgs := structs.KeyListRequest{<br />    Datacenter:     args.Datacenter,<br />    Prefix:         args.Key,<br />}<br />s.agent.RPC("KVS.ListKeys", &amp;listArgs, &amp;out)<br />return out.Keys, nil</div></div></div></foreignObject><text x="267" y="334" fill="#000000" font-family="source code pro" font-size="13px">listArgs := structs.KeyListRequest{...</text></switch></g><path d="M 180 330 L 253.63 330" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 258.88 330 L 251.88 333.5 L 253.63 330 L 251.88 326.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="30" y="410" width="81" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 420px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">3. RPC 请求</div></div></div></foreignObject><text x="32" y="424" fill="#000000" font-family="source code pro" font-size="13px">3. RPC 请求</text></switch></g><rect x="30" y="440" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 470px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RPC(...)</div></div></div></foreignObject><text x="37" y="474" fill="#000000" font-family="source code pro" font-size="13px">RPC(...)</text></switch></g><rect x="227" y="440" width="363" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 356px; height: 1px; padding-top: 470px; margin-left: 234px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return a.delegate.RPC(method, args, reply)</div></div></div></foreignObject><text x="234" y="474" fill="#000000" font-family="source code pro" font-size="13px">return a.delegate.RPC(method, args, reply)</text></switch></g><path d="M 1250 503 L 1290 503 Q 1300 503 1300 513 L 1300 565 Q 1300 575 1310 575 L 1333.63 575" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1338.88 575 L 1331.88 578.5 L 1333.63 575 L 1331.88 571.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="670" y="404" width="580" height="132" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 573px; height: 1px; padding-top: 470px; margin-left: 677px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">if c.ServerMode {<br />    server, err := consul.NewServerWithOptions(consulCfg, options...)<br />    a.delegate = server<br />} else {<br />    client, err := consul.NewClientWithOptions(consulCfg, options...)<br />    a.delegate = client<br />}</div></div></div></foreignObject><text x="677" y="474" fill="#000000" font-family="source code pro" font-size="13px">if c.ServerMode {...</text></switch></g><rect x="1340" y="440" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 470px; margin-left: 1347px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RPC(...)</div></div></div></foreignObject><text x="1347" y="474" fill="#000000" font-family="source code pro" font-size="13px">RPC(...)</text></switch></g><rect x="1520" y="440" width="787" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 780px; height: 1px; padding-top: 470px; margin-left: 1527px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">rpcErr := c.connPool.RPC(c.config.Datacenter, server.ShortName, server.Addr, method, args, reply)</div></div></div></foreignObject><text x="1527" y="474" fill="#000000" font-family="source code pro" font-size="13px">rpcErr := c.connPool.RPC(c.config.Datacenter, server.ShortName, server.Addr, method, args, reply)</text></switch></g><rect x="2370" y="440" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 470px; margin-left: 2377px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RPC(...)</div></div></div></foreignObject><text x="2377" y="474" fill="#000000" font-family="source code pro" font-size="13px">RPC(...)</text></switch></g><rect x="2567" y="440" width="472" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 465px; height: 1px; padding-top: 470px; margin-left: 2574px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return p.rpc(dc, nodeName, addr, method, args, reply)</div></div></div></foreignObject><text x="2574" y="474" fill="#000000" font-family="source code pro" font-size="13px">return p.rpc(dc, nodeName, addr, method, args, reply)</text></switch></g><rect x="3119" y="440" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 470px; margin-left: 3126px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">rpc(...)</div></div></div></foreignObject><text x="3126" y="474" fill="#000000" font-family="source code pro" font-size="13px">rpc(...)</text></switch></g><rect x="3319" y="428" width="510" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 503px; height: 1px; padding-top: 470px; margin-left: 3326px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">conn, sc, err := p.getClient(dc, nodeName, addr)<br />err = msgpackrpc.CallWithCodec(sc.codec, method, args, reply)<br />return nil</div></div></div></foreignObject><text x="3326" y="474" fill="#000000" font-family="source code pro" font-size="13px">conn, sc, err := p.getClient(dc, nodeName, addr)...</text></switch></g><rect x="1340" y="545" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 575px; margin-left: 1347px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RPC(...)</div></div></div></foreignObject><text x="1347" y="579" fill="#000000" font-family="source code pro" font-size="13px">RPC(...)</text></switch></g><rect x="1520" y="509" width="272" height="132" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 265px; height: 1px; padding-top: 575px; margin-left: 1527px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">codec := &amp;inmemCodec{<br />    method: method,<br />    args:   args,<br />    reply:  reply,<br />}<br />s.rpcServer.ServeRequest(codec)<br />return codec.err</div></div></div></foreignObject><text x="1527" y="579" fill="#000000" font-family="source code pro" font-size="13px">codec := &amp;inmemCodec{...</text></switch></g><path d="M 127 470 L 220.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 225.88 470 L 218.88 473.5 L 220.63 470 L 218.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 590 470 L 663.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 668.88 470 L 661.88 473.5 L 663.63 470 L 661.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 1250 470 L 1333.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1338.88 470 L 1331.88 473.5 L 1333.63 470 L 1331.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 1437 470 L 1513.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1518.88 470 L 1511.88 473.5 L 1513.63 470 L 1511.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 2307 470 L 2363.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2368.88 470 L 2361.88 473.5 L 2363.63 470 L 2361.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 2467 470 L 2560.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2565.88 470 L 2558.88 473.5 L 2560.63 470 L 2558.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 3039 470 L 3112.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3117.88 470 L 3110.88 473.5 L 3112.63 470 L 3110.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 3216 470 L 3312.63 470" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3317.88 470 L 3310.88 473.5 L 3312.63 470 L 3310.88 466.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><path d="M 1437 575 L 1513.63 575" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1518.88 575 L 1511.88 578.5 L 1513.63 575 L 1511.88 571.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="all"/><rect x="1269" y="440" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 1px; height: 1px; padding-top: 450px; margin-left: 1327px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">client</div></div></div></foreignObject><text x="1327" y="454" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="end">client</text></switch></g><rect x="1230" y="550" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 1px; height: 1px; padding-top: 560px; margin-left: 1288px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">server</div></div></div></foreignObject><text x="1288" y="564" fill="#000000" font-family="source code pro" font-size="13px" text-anchor="end">server</text></switch></g><rect x="30" y="30" width="250" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Consul HTTP KV 接口实现</div></div></div></foreignObject><text x="32" y="50" fill="#000000" font-family="source code pro" font-size="18px">Consul HTTP KV 接口实现</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>