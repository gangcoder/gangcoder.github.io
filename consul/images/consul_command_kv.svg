<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2534px" height="1062px" viewBox="-0.5 -0.5 2534 1062" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-08-12T01:16:48.804Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;ZeYZMm8lyHW30cHIhChS&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;PVC-YORtXIRbE1ZKgZvP&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-353-301-215-26-0"><rect x="353" y="301" width="215" height="26"/></clipPath><clipPath id="mx-clip-353-327-215-26-0"><rect x="353" y="327" width="215" height="26"/></clipPath><clipPath id="mx-clip-353-353-215-26-0"><rect x="353" y="353" width="215" height="26"/></clipPath><clipPath id="mx-clip-433-534-135-26-0"><rect x="433" y="534" width="135" height="26"/></clipPath></defs><g><path d="M 348 296 L 348 264 L 568 264 L 568 296" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 348 296 L 348 374 L 568 374 L 568 296" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 348 296 L 568 296" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="354.5" y="277">&lt;&lt;interface&gt;&gt;</text><text x="354.5" y="293">Command</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-353-301-215-26-0)" font-size="13px"><text x="354.5" y="314.5">+ Help() string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-353-327-215-26-0)" font-size="13px"><text x="354.5" y="340.5">+ Run(args []string) int</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-353-353-215-26-0)" font-size="13px"><text x="354.5" y="366.5">+ Synopsis() string</text></g><path d="M 428 516 L 398 516 Q 388 516 388 521.5 L 388 524.25 Q 388 527 378 527 L 353.3 527" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 348.05 527 L 355.05 523.5 L 353.3 527 L 355.05 530.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 428 529 L 428 503 L 568 503 L 568 529" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 428 529 L 428 555 L 568 555 L 568 529" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 428 529 L 568 529" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="434.5" y="521">KV</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-433-534-135-26-0)" font-size="13px"><text x="434.5" y="547.5">- c *Client</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 160px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. consul kv put 命令实现</div></div></div></foreignObject><text x="32" y="164" fill="#000000" font-family="source code pro" font-size="13px">1. consul kv put 命令实现</text></switch></g><rect x="30" y="177" width="540" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 533px; height: 1px; padding-top: 207px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Register("kv put", func(...) (...) { return kvput.New(ui), nil })</div></div></div></foreignObject><text x="37" y="211" fill="#000000" font-family="source code pro" font-size="13px">Register("kv put", func(...) (...) { return kvput.New(ui), nil })</text></switch></g><rect x="640" y="177" width="190" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 183px; height: 1px; padding-top: 207px; margin-left: 647px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func New(ui cli.Ui)</div></div></div></foreignObject><text x="647" y="211" fill="#000000" font-family="source code pro" font-size="13px">func New(ui cli.Ui)</text></switch></g><rect x="640" y="245" width="187" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 180px; height: 1px; padding-top: 275px; margin-left: 647px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Run(args []string)</div></div></div></foreignObject><text x="647" y="279" fill="#000000" font-family="source code pro" font-size="13px">Run(args []string)</text></switch></g><rect x="950" y="239" width="214" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 207px; height: 1px; padding-top: 275px; margin-left: 957px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.flags.Parse(args)<br />args = c.flags.Args()</div></div></div></foreignObject><text x="957" y="279" fill="#000000" font-family="source code pro" font-size="13px">c.flags.Parse(args)...</text></switch></g><rect x="950" y="320" width="340" height="156" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 333px; height: 1px; padding-top: 398px; margin-left: 957px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">key, data, err := c.dataFromArgs(args)<br />client, err := c.http.APIClient()<br />pair := &amp;api.KVPair{<br />    Key:         key,<br />    ModifyIndex: c.modifyIndex,<br />    Flags:       c.kvflags,<br />    Value:       dataBytes,<br />    Session:     c.session,<br />}</div></div></div></foreignObject><text x="957" y="402" fill="#000000" font-family="source code pro" font-size="13px">key, data, err := c.dataFromArgs(args)...</text></switch></g><path d="M 950 567 L 705 567 Q 695 567 695 577 L 695 584.5 Q 695 592 685 592 L 446.37 592" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 441.12 592 L 448.12 588.5 L 446.37 592 L 448.12 595.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><rect x="950" y="486" width="348" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 341px; height: 1px; padding-top: 540px; margin-left: 957px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">switch {<br />default:<br />    _, err := client.KV().Put(pair, nil)<br />    return 0<br />}</div></div></div></foreignObject><text x="957" y="544" fill="#000000" font-family="source code pro" font-size="13px">switch {...</text></switch></g><path d="M 570 207 L 633.63 207" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 638.88 207 L 631.88 210.5 L 633.63 207 L 631.88 203.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 569.1 275.99 L 594 276 Q 604 276 604 275.5 L 604 275.25 Q 604 275 614 275 L 633.63 275" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 638.88 275 L 631.88 278.5 L 633.63 275 L 631.88 271.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 827 275 L 943.63 275" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 948.88 275 L 941.88 278.5 L 943.63 275 L 941.88 271.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 827 275 L 880 275 Q 890 275 890 285 L 890 388 Q 890 398 900 398 L 943.63 398" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 948.88 398 L 941.88 401.5 L 943.63 398 L 941.88 394.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 827 275 L 880 275 Q 890 275 890 285 L 890 530 Q 890 540 900 540 L 943.63 540" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 948.88 540 L 941.88 543.5 L 943.63 540 L 941.88 536.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 483px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 请求consul agent 实现</div></div></div></foreignObject><text x="32" y="487" fill="#000000" font-family="source code pro" font-size="13px">2. 请求consul agent 实现</text></switch></g><rect x="30" y="503" width="61" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 54px; height: 1px; padding-top: 533px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">KV()</div></div></div></foreignObject><text x="37" y="537" fill="#000000" font-family="source code pro" font-size="13px">KV()</text></switch></g><rect x="170" y="503" width="178" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 533px; margin-left: 177px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return &amp;KV{c}</div></div></div></foreignObject><text x="177" y="537" fill="#000000" font-family="source code pro" font-size="13px">return &amp;KV{c}</text></switch></g><rect x="170" y="577" width="270" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 263px; height: 1px; padding-top: 607px; margin-left: 177px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Put(p *KVPair, q *WriteOptions)</div></div></div></foreignObject><text x="177" y="611" fill="#000000" font-family="source code pro" font-size="13px">Put(p *KVPair, q *WriteOptions)</text></switch></g><rect x="540" y="622" width="410" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 403px; height: 1px; padding-top: 658px; margin-left: 547px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">_, wm, err := k.put(p.Key, params, p.Value, q)<br />return wm, err</div></div></div></foreignObject><text x="547" y="662" fill="#000000" font-family="source code pro" font-size="13px">_, wm, err := k.put(p.Key, params, p.Value, q)...</text></switch></g><rect x="1030" y="628" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 658px; margin-left: 1037px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">put(...)</div></div></div></foreignObject><text x="1037" y="662" fill="#000000" font-family="source code pro" font-size="13px">put(...)</text></switch></g><rect x="1230" y="610" width="360" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 353px; height: 1px; padding-top: 658px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">r := k.c.newRequest("PUT", "/v1/kv/"+key)<br />for param, val := range params {<br />    r.params.Set(param, val)<br />}</div></div></div></foreignObject><text x="1237" y="662" fill="#000000" font-family="source code pro" font-size="13px">r := k.c.newRequest("PUT", "/v1/kv/"+key)...</text></switch></g><rect x="1230" y="719" width="390" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 383px; height: 1px; padding-top: 767px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">rtt, resp, err := requireOK(k.c.doRequest(r))<br />io.Copy(&amp;buf, resp.Body)<br />res := strings.Contains(buf.String(), "true")<br />return res, qm, nil</div></div></div></foreignObject><text x="1237" y="771" fill="#000000" font-family="source code pro" font-size="13px">rtt, resp, err := requireOK(k.c.doRequest(r))...</text></switch></g><path d="M 91 533 L 163.63 533" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 168.88 533 L 161.88 536.5 L 163.63 533 L 161.88 529.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 607 L 480 607 Q 490 607 490 617 L 490 648 Q 490 658 500 658 L 533.63 658" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 538.88 658 L 531.88 661.5 L 533.63 658 L 531.88 654.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 950 658 L 1023.63 658" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1028.88 658 L 1021.88 661.5 L 1023.63 658 L 1021.88 654.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1127 658 L 1223.63 658" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1228.88 658 L 1221.88 661.5 L 1223.63 658 L 1221.88 654.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1127 658 L 1160 658 Q 1170 658 1170 668 L 1170 757 Q 1170 767 1180 767 L 1223.63 767" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1228.88 767 L 1221.88 770.5 L 1223.63 767 L 1221.88 763.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 740px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. kv get 实现</div></div></div></foreignObject><text x="32" y="744" fill="#000000" font-family="source code pro" font-size="13px">3. kv get 实现</text></switch></g><rect x="30" y="760" width="570" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 563px; height: 1px; padding-top: 790px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Register("kv get", func(...) (...) { return kvget.New(ui), nil })</div></div></div></foreignObject><text x="37" y="794" fill="#000000" font-family="source code pro" font-size="13px">Register("kv get", func(...) (...) { return kvget.New(ui), nil })</text></switch></g><rect x="677" y="760" width="183" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 176px; height: 1px; padding-top: 790px; margin-left: 684px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func New(ui cli.Ui)</div></div></div></foreignObject><text x="684" y="794" fill="#000000" font-family="source code pro" font-size="13px">func New(ui cli.Ui)</text></switch></g><rect x="170" y="836" width="187" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 180px; height: 1px; padding-top: 866px; margin-left: 177px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Run(args []string)</div></div></div></foreignObject><text x="177" y="870" fill="#000000" font-family="source code pro" font-size="13px">Run(args []string)</text></switch></g><rect x="457" y="830" width="196" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 189px; height: 1px; padding-top: 866px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.flags.Parse(args)<br />key = args[0]</div></div></div></foreignObject><text x="464" y="870" fill="#000000" font-family="source code pro" font-size="13px">c.flags.Parse(args)...</text></switch></g><rect x="457" y="911" width="503" height="120" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 496px; height: 1px; padding-top: 971px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">client, err := c.http.APIClient()<br />switch {<br />case c.keys:<br />    keys, _, err := client.KV().Keys(key, c.separator, ...)<br />    return 0<br />}</div></div></div></foreignObject><text x="464" y="975" fill="#000000" font-family="source code pro" font-size="13px">client, err := c.http.APIClient()...</text></switch></g><rect x="1025.5" y="941" width="106" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 99px; height: 1px; padding-top: 971px; margin-left: 1033px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Keys(...)</div></div></div></foreignObject><text x="1033" y="975" fill="#000000" font-family="source code pro" font-size="13px">Keys(...)</text></switch></g><rect x="1237" y="923" width="410" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 403px; height: 1px; padding-top: 971px; margin-left: 1244px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">params := map[string]string{"keys": ""}<br />resp, qm, err := k.getInternal(prefix, params, q)<br />decodeBody(resp, &amp;entries)<br />return entries, qm, nil</div></div></div></foreignObject><text x="1244" y="975" fill="#000000" font-family="source code pro" font-size="13px">params := map[string]string{"keys": ""}...</text></switch></g><rect x="1717" y="941" width="169" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 162px; height: 1px; padding-top: 971px; margin-left: 1724px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">getInternal(...)</div></div></div></foreignObject><text x="1724" y="975" fill="#000000" font-family="source code pro" font-size="13px">getInternal(...)</text></switch></g><rect x="1950" y="929" width="553" height="84" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 546px; height: 1px; padding-top: 971px; margin-left: 1957px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">r := k.c.newRequest("GET", "/v1/kv/"+strings.TrimPrefix(key, "/"))<br />rtt, resp, err := k.c.doRequest(r)<br />return resp, qm, nil</div></div></div></foreignObject><text x="1957" y="975" fill="#000000" font-family="source code pro" font-size="13px">r := k.c.newRequest("GET", "/v1/kv/"+strings.TrimPrefix(key, "/"))...</text></switch></g><path d="M 600 790 L 670.63 790" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 675.88 790 L 668.88 793.5 L 670.63 790 L 668.88 786.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 357 866 L 450.63 866" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 455.88 866 L 448.88 869.5 L 450.63 866 L 448.88 862.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 357 866 L 400 866 Q 410 866 410 876 L 410 961 Q 410 971 420 971 L 450.63 971" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 455.88 971 L 448.88 974.5 L 450.63 971 L 448.88 967.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 960 971 L 1019.13 971" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1024.38 971 L 1017.38 974.5 L 1019.13 971 L 1017.38 967.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1131.5 971 L 1230.63 971" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1235.88 971 L 1228.88 974.5 L 1230.63 971 L 1228.88 967.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1647 971 L 1710.63 971" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1715.88 971 L 1708.88 974.5 L 1710.63 971 L 1708.88 967.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1886 971 L 1943.63 971" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1948.88 971 L 1941.88 974.5 L 1943.63 971 L 1941.88 967.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Consul KV 命令</div></div></div></foreignObject><text x="32" y="50" fill="#000000" font-family="source code pro" font-size="18px">Consul KV 命令</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>