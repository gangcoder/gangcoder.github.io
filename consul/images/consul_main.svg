<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2305px" height="616px" viewBox="-0.5 -0.5 2305 616" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-08-04T01:11:29.654Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;zT-GDPUtm1hbJMv4Whya&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;yM56Oi43OKkd6-d6NQGX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-1405-193-215-26-0"><rect x="1405" y="193" width="215" height="26"/></clipPath><clipPath id="mx-clip-1405-219-215-26-0"><rect x="1405" y="219" width="215" height="26"/></clipPath><clipPath id="mx-clip-1405-245-215-26-0"><rect x="1405" y="245" width="215" height="26"/></clipPath><clipPath id="mx-clip-635-91-315-26-0"><rect x="635" y="91" width="315" height="26"/></clipPath><clipPath id="mx-clip-635-117-315-26-0"><rect x="635" y="117" width="315" height="26"/></clipPath></defs><g><path d="M 1400 187.5 L 1400 155.5 L 1620 155.5 L 1620 187.5" fill="#019ed5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1400 187.5 L 1400 265.5 L 1620 265.5 L 1620 187.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1400 187.5 L 1620 187.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1406.5" y="168.5">&lt;&lt;interface&gt;&gt;</text><text x="1406.5" y="184.5">Command</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1405-193-215-26-0)" font-size="13px"><text x="1406.5" y="206">+ Help() string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1405-219-215-26-0)" font-size="13px"><text x="1406.5" y="232">+ Run(args []string) int</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1405-245-215-26-0)" font-size="13px"><text x="1406.5" y="258">+ Synopsis() string</text></g><path d="M 630 86 L 630 60 L 950 60 L 950 86" fill="#1dbf97" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 86 L 630 138 L 950 138 L 950 86" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 86 L 950 86" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="636.5" y="78">CLI</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-635-91-315-26-0)" font-size="13px"><text x="636.5" y="104.5">- Args: []string</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-635-117-315-26-0)" font-size="13px"><text x="636.5" y="130.5">- Commands: map[string]CommandFactory</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 148px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. main 函数</div></div></div></foreignObject><text x="32" y="152" fill="#000000" font-family="source code pro" font-size="13px">1. main 函数</text></switch></g><rect x="30" y="165" width="520" height="125" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 513px; height: 1px; padding-top: 228px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ui := &amp;cli.BasicUi{Writer: os.Stdout, ErrorWriter: os.Stderr}<br />cmds := command.Map(ui)<br />cli := &amp;cli.CLI{<br />    Args:         args,<br />    Commands:     cmds,<br />    Name:         "consul",<br />}</div></div></div></foreignObject><text x="37" y="231" fill="#000000" font-family="source code pro" font-size="13px">ui := &amp;cli.BasicUi{Writer: os.Stdout, ErrorWriter: os.Stderr}...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 335px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. command 子命令注册</div></div></div></foreignObject><text x="32" y="339" fill="#000000" font-family="source code pro" font-size="13px">2. command 子命令注册</text></switch></g><rect x="30" y="354" width="124" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 117px; height: 1px; padding-top: 384px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func init()</div></div></div></foreignObject><text x="37" y="388" fill="#000000" font-family="source code pro" font-size="13px">func init()</text></switch></g><rect x="242" y="336" width="810" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 803px; height: 1px; padding-top: 384px; margin-left: 249px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Register("agent", func(ui cli.Ui) (cli.Command, error) { return agent.New(ui, ...), nil})<br />Register("kv", func(cli.Ui) (cli.Command, error) { return kv.New(), nil })<br />Register("kv delete", func(ui cli.Ui) (cli.Command, error) { return kvdel.New(ui), nil })<br />Register("version", func(ui cli.Ui) (cli.Command, error) { return version.New(ui, verHuman), nil })</div></div></div></foreignObject><text x="249" y="388" fill="#000000" font-family="source code pro" font-size="13px">Register("agent", func(ui cli.Ui) (cli.Command, error) { return agent.New(ui, ...), nil})...</text></switch></g><rect x="1142" y="354" width="367" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 360px; height: 1px; padding-top: 384px; margin-left: 1149px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func Register(name string, fn Factory)</div></div></div></foreignObject><text x="1149" y="388" fill="#000000" font-family="source code pro" font-size="13px">func Register(name string, fn Factory)</text></switch></g><rect x="1602" y="354" width="196" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 189px; height: 1px; padding-top: 384px; margin-left: 1609px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">registry[name] = fn</div></div></div></foreignObject><text x="1609" y="388" fill="#000000" font-family="source code pro" font-size="13px">registry[name] = fn</text></switch></g><rect x="630" y="197.5" width="196" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 189px; height: 1px; padding-top: 228px; margin-left: 637px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func Map(ui cli.Ui)</div></div></div></foreignObject><text x="637" y="231" fill="#000000" font-family="source code pro" font-size="13px">func Map(ui cli.Ui)</text></switch></g><rect x="915" y="155.5" width="379" height="144" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 372px; height: 1px; padding-top: 228px; margin-left: 922px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">m := make(map[string]cli.CommandFactory)<br />for name, fn := range registry {<br />    thisFn := fn<br />    m[name] = func() (cli.Command, error) {<br />        return thisFn(ui)<br />    }<br />}<br />return m</div></div></div></foreignObject><text x="922" y="231" fill="#000000" font-family="source code pro" font-size="13px">m := make(map[string]cli.CommandFactory)...</text></switch></g><path d="M 154 384 L 235.63 384" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 240.88 384 L 233.88 387.5 L 235.63 384 L 233.88 380.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1052 384 L 1135.63 384" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1140.88 384 L 1133.88 387.5 L 1135.63 384 L 1133.88 380.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1509 384 L 1595.63 384" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600.88 384 L 1593.88 387.5 L 1595.63 384 L 1593.88 380.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 227.5 L 623.63 227.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 628.88 227.5 L 621.88 231 L 623.63 227.5 L 621.88 224 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 826 227.5 L 908.63 227.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 913.88 227.5 L 906.88 231 L 908.63 227.5 L 906.88 224 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 477px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. cli.Run 命令执行</div></div></div></foreignObject><text x="32" y="481" fill="#000000" font-family="source code pro" font-size="13px">3. cli.Run 命令执行</text></switch></g><rect x="30" y="495" width="259" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 252px; height: 1px; padding-top: 525px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">exitCode, err := cli.Run()</div></div></div></foreignObject><text x="37" y="529" fill="#000000" font-family="source code pro" font-size="13px">exitCode, err := cli.Run()</text></switch></g><rect x="399" y="495" width="70" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 63px; height: 1px; padding-top: 525px; margin-left: 406px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Run()</div></div></div></foreignObject><text x="406" y="529" fill="#000000" font-family="source code pro" font-size="13px">Run()</text></switch></g><rect x="569" y="471" width="381" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 374px; height: 1px; padding-top: 525px; margin-left: 576px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.once.Do(c.init)<br />raw, ok := c.commandTree.Get(c.Subcommand())<br />command, err := raw.(CommandFactory)()<br />code := command.Run(c.SubcommandArgs())<br />return code, nil</div></div></div></foreignObject><text x="576" y="529" fill="#000000" font-family="source code pro" font-size="13px">c.once.Do(c.init)...</text></switch></g><rect x="1030" y="495" width="79" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 72px; height: 1px; padding-top: 525px; margin-left: 1037px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">init()</div></div></div></foreignObject><text x="1037" y="529" fill="#000000" font-family="source code pro" font-size="13px">init()</text></switch></g><rect x="1190" y="471" width="301" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 294px; height: 1px; padding-top: 525px; margin-left: 1197px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">c.commandTree = radix.New()<br />for k, v := range c.Commands {<br />    c.commandTree.Insert(k, v)<br />}<br />c.processArgs()</div></div></div></foreignObject><text x="1197" y="529" fill="#000000" font-family="source code pro" font-size="13px">c.commandTree = radix.New()...</text></switch></g><rect x="1590" y="495" width="142" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 135px; height: 1px; padding-top: 525px; margin-left: 1597px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">processArgs()</div></div></div></foreignObject><text x="1597" y="529" fill="#000000" font-family="source code pro" font-size="13px">processArgs()</text></switch></g><rect x="1800" y="465" width="474" height="120" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 467px; height: 1px; padding-top: 525px; margin-left: 1807px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for i, arg := range c.Args {<br />    if c.subcommand == "" &amp;&amp; arg != "" &amp;&amp; arg[0] != '-' {<br />        c.subcommand = arg<br />        c.subcommandArgs = c.Args[i+1:]<br />    }<br />}</div></div></div></foreignObject><text x="1807" y="529" fill="#000000" font-family="source code pro" font-size="13px">for i, arg := range c.Args {...</text></switch></g><path d="M 289 525 L 392.63 525" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 397.88 525 L 390.88 528.5 L 392.63 525 L 390.88 521.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 469 525 L 562.63 525" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 567.88 525 L 560.88 528.5 L 562.63 525 L 560.88 521.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 950 525 L 1023.63 525" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1028.88 525 L 1021.88 528.5 L 1023.63 525 L 1021.88 521.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1109 525 L 1183.63 525" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1188.88 525 L 1181.88 528.5 L 1183.63 525 L 1181.88 521.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1491 525 L 1583.63 525" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1588.88 525 L 1581.88 528.5 L 1583.63 525 L 1581.88 521.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1732 525 L 1793.63 525" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1798.88 525 L 1791.88 528.5 L 1793.63 525 L 1791.88 521.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 99 L 600 99 Q 590 99 590 109 L 590 186.3 Q 590 196.3 580 196.29 L 556.37 196.26" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 551.12 196.25 L 558.12 192.76 L 556.37 196.26 L 558.11 199.76 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 32px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">consul main 入口实现</div></div></div></foreignObject><text x="32" y="50" fill="#000000" font-family="source code pro" font-size="18px">consul main 入口实现</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>