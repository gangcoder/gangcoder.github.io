---
title: nsq chat
date: 2018-09-13 16:04:44
category: language, go, nsq
---

消息系统的作用：异步是指业务之间不同步调用，而是通过传递数据异步执行来进行协作。

数据传递使用消息队列实现，处在业务前端的程序将数据写入队列，后序程序从队列取出数据继续进行业务逻辑处理。

这种异步调用的方式，使系统具有很多特性：

1.  首先异步调用降低软件耦合度，只要共享数据的结构不变，彼此功能可以独立发展，方便网站扩展。
2.  提高系统可用性，后序消费进程出现故障时，业务生产者可以正常写入数据，对用户来说系统还是正常的，故障恢复后继续处理数据即可。
3.  加快网站响应速度，业务前端的程序将数据写入队列就可以返回，减少响应延迟，然后由后端程序处理复杂逻辑。
4.  消除并发访问高峰，促销和出现热点事件时，访问量突然增大，会导致服务器负载过高，影响网站性能，甚至宕机。使用异步模式，将访问请求放入队列，再由消费进程依次处理，对网站的压力就会变得平缓，减轻高并发访问冲击。

熟悉了MVC 这种分层的编程方式，这里通过学些NSQ 源码，我们可以了解下一个成熟软件的代码实现，了解不一样的并发和异步编程模式，从一个新的软件结构调度理解软件，增长软件设计见识。

nsq chat

标题: 
NSQ 源码深入解析

内容介绍:

## 1. 有什么问题，用什么技术解决

1. 技术成长的问题，看源码解决
2. nsq 一个消息系统是转码用代码来实现，跟着我学习源码能解决

看了很多《XX程序员进阶指南》但是根绝编程技术并没有提升，其实看成熟软件的源码才是最踏实的进阶手段。

NSQ 是golang 写的分布式消息系统，在golang 语言和消息系统方面都极为著名。学习NSQ 源码后，能帮助你了解一个成功开软项目的代码到底是什么样的，给你一场快速探险开源软件的体验，从而形成自己的认知。

简单来说，要想编程技术进步快，优秀的源代码阅读不可少。

## 2. 这个技术是什么样的，有哪些内容

1. 既然是阅读源码，先分析代码情况
2. 讲解消息队列和NSQ 概念，有个基本了解
3. 讲解代码主节点，基于msg 的投递和消费

这次是带领大家了解NSQ 源代码，学习大师们的编程思想和实现方式，内容安排如下：

1. 从源码层面介绍代码情况和代码组织结构，让大家有个大概了解，这样如果想自己看源码也知道从哪里入手。
2. 介绍NSQ 和消息系统的基本概念，包括NSQ 的个模块功能和职责划分，以及NSQ 的消息模型，对一个消息会有哪些基本处理，消息在软件内部的大概流通情况。
3. 有了1，2 两步的基本认识，我将带领你基于一个msg 的生成，存储，转发到被消费的过程，深入代码了解源代码的各个关键节点。

## 3. 学习了能了解到什么，对你有什么帮助

1. nsq 的实现
2. nsq 的思想
3. 消息系统的实现
4. 提升自身代码见识和水平：软件设计能力，异步并行开发能力

最后通过上面3 个步骤的学习，你将了解NSQ 源代码的总体结构和主要关键代码，了解NSQ 中基于异步和并发的编程思想，了解NSQ 各个模块的源代码实现，这样如果你需要使用NSQ，并且发现问题了，也能深入源码取探寻问题原因。

你能掌握NSQ 源码的整体结构和具体代码实现细节。

面向人群：有golang 语言基础，并且希望深入钻研底层技术的同学。如果对golang 不是能了解，建议你先到这个地址学习：

这是我绘制的NSQ 整体结构图，如果你想自己学习，这张图也将能帮你理清逻辑，希望对你有帮助。

## 参考资料

- [参考资料](#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99)