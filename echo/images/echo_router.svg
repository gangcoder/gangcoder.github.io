<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3610px" height="610px" viewBox="-0.5 -0.5 3610 610" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-06-20T10:27:11.585Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;nhNV-CQXCeTtHn0PrK1f&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;ee1yTYyzZiBK-Vq3_UQV&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-2101-221-135-26-0"><rect x="2101" y="221" width="135" height="26"/></clipPath><clipPath id="mx-clip-2101-247-135-26-0"><rect x="2101" y="247" width="135" height="26"/></clipPath><clipPath id="mx-clip-2101-273-135-26-0"><rect x="2101" y="273" width="135" height="26"/></clipPath><clipPath id="mx-clip-2101-531-273-26-0"><rect x="2101" y="531" width="273" height="26"/></clipPath><clipPath id="mx-clip-2101-557-273-26-0"><rect x="2101" y="557" width="273" height="26"/></clipPath><clipPath id="mx-clip-2101-583-273-26-0"><rect x="2101" y="583" width="273" height="26"/></clipPath></defs><g><path d="M 2096 216 L 2096 190 L 2236 190 L 2236 216" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2096 216 L 2096 294 L 2236 294 L 2236 216" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2096 216 L 2236 216" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="2102.5" y="208">Router</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2101-221-135-26-0)" font-size="13px"><text x="2102.5" y="234.5">- tree: *node</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2101-247-135-26-0)" font-size="13px"><text x="2102.5" y="260.5">- routers: map</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2101-273-135-26-0)" font-size="13px"><text x="2102.5" y="286.5">- echo</text></g><path d="M 2096 526 L 2096 500 L 2374 500 L 2374 526" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2096 526 L 2096 604 L 2374 604 L 2374 526" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2096 526 L 2374 526" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="2102.5" y="518">node</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2101-531-273-26-0)" font-size="13px"><text x="2102.5" y="544.5">- parent: *node</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2101-557-273-26-0)" font-size="13px"><text x="2102.5" y="570.5">- children: []*node</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2101-583-273-26-0)" font-size="13px"><text x="2102.5" y="596.5">- methodHandler: *methodHandler</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 167px; margin-left: 62px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 注册路由</div></div></div></foreignObject><text x="62" y="171" fill="#000000" font-family="source code pro" font-size="13px">1. 注册路由</text></switch></g><rect x="60" y="190" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 220px; margin-left: 67px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Add(...)</div></div></div></foreignObject><text x="67" y="224" fill="#000000" font-family="source code pro" font-size="13px">Add(...)</text></switch></g><rect x="270" y="190" width="460" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 453px; height: 1px; padding-top: 220px; margin-left: 277px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return e.add("", method, path, handler, middleware...)</div></div></div></foreignObject><text x="277" y="224" fill="#000000" font-family="source code pro" font-size="13px">return e.add("", method, path, handler, middleware...)</text></switch></g><rect x="850" y="190" width="97" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 90px; height: 1px; padding-top: 220px; margin-left: 857px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">add(...)</div></div></div></foreignObject><text x="857" y="224" fill="#000000" font-family="source code pro" font-size="13px">add(...)</text></switch></g><rect x="1050" y="190" width="277" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 270px; height: 1px; padding-top: 220px; margin-left: 1057px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">router := e.findRouter(host)</div></div></div></foreignObject><text x="1057" y="224" fill="#000000" font-family="source code pro" font-size="13px">router := e.findRouter(host)</text></switch></g><rect x="1050" y="262" width="430" height="144" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 423px; height: 1px; padding-top: 334px; margin-left: 1057px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">router.Add(method, path, func(c Context) error {<br />    h := handler<br />    for i := len(middleware) - 1; i &gt;= 0; i-- {<br />        h = middleware[i](h)<br />    }<br />    return h(c)<br />})<br />return r</div></div></div></foreignObject><text x="1057" y="338" fill="#000000" font-family="source code pro" font-size="13px">router.Add(method, path, func(c Context) error {...</text></switch></g><rect x="1550" y="190" width="232" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 225px; height: 1px; padding-top: 220px; margin-left: 1557px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">findRouter(host string)</div></div></div></foreignObject><text x="1557" y="224" fill="#000000" font-family="source code pro" font-size="13px">findRouter(host string)</text></switch></g><rect x="1870" y="190" width="160" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 153px; height: 1px; padding-top: 220px; margin-left: 1877px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return e.router</div></div></div></foreignObject><text x="1877" y="224" fill="#000000" font-family="source code pro" font-size="13px">return e.router</text></switch></g><rect x="1560" y="304" width="339" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 332px; height: 1px; padding-top: 334px; margin-left: 1567px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Add(method, path string, h HandlerFunc)</div></div></div></foreignObject><text x="1567" y="338" fill="#000000" font-family="source code pro" font-size="13px">Add(method, path string, h HandlerFunc)</text></switch></g><rect x="1989" y="304" width="410" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 403px; height: 1px; padding-top: 334px; margin-left: 1996px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">r.insert(method, path, h, skind, ppath, pnames)</div></div></div></foreignObject><text x="1996" y="338" fill="#000000" font-family="source code pro" font-size="13px">r.insert(method, path, h, skind, ppath, pnames)</text></switch></g><rect x="2490" y="286" width="231" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 224px; height: 1px; padding-top: 334px; margin-left: 2497px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">cn := r.tree<br />n = newNode(...)<br />n.addHandler(method, h)<br />cn.addChild(n)</div></div></div></foreignObject><text x="2497" y="338" fill="#000000" font-family="source code pro" font-size="13px">cn := r.tree...</text></switch></g><rect x="2850" y="304" width="178" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 334px; margin-left: 2857px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func newNode(...)</div></div></div></foreignObject><text x="2857" y="338" fill="#000000" font-family="source code pro" font-size="13px">func newNode(...)</text></switch></g><rect x="3110" y="290" width="278" height="88" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 271px; height: 1px; padding-top: 334px; margin-left: 3117px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return &amp;node{<br />    parent:        p,<br />    children:      c,<br />    methodHandler: mh,<br />}</div></div></div></foreignObject><text x="3117" y="338" fill="#000000" font-family="source code pro" font-size="13px">return &amp;node{...</text></switch></g><rect x="2850" y="407" width="360" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 353px; height: 1px; padding-top: 437px; margin-left: 2857px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">addHandler(method string, h HandlerFunc)</div></div></div></foreignObject><text x="2857" y="441" fill="#000000" font-family="source code pro" font-size="13px">addHandler(method string, h HandlerFunc)</text></switch></g><path d="M 3580 437 L 3590 437 Q 3600 437 3600 447 L 3600 580 Q 3600 590 3590 590 L 2390 590 Q 2380 590 2380.14 589.98 L 2380.28 589.95" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2375.1 590.82 L 2381.43 586.21 L 2380.28 589.95 L 2382.58 593.12 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><rect x="3320" y="385.5" width="260" height="103" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 253px; height: 1px; padding-top: 437px; margin-left: 3327px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">switch method {<br />case http.MethodGet:<br />    n.methodHandler.get = h<br />case http.MethodPost:<br />    n.methodHandler.post = h<br />}</div></div></div></foreignObject><text x="3327" y="441" fill="#000000" font-family="source code pro" font-size="13px">switch method {...</text></switch></g><rect x="2850" y="507" width="178" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 537px; margin-left: 2857px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">addChild(c *node)</div></div></div></foreignObject><text x="2857" y="541" fill="#000000" font-family="source code pro" font-size="13px">addChild(c *node)</text></switch></g><rect x="3096" y="507" width="292" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 285px; height: 1px; padding-top: 537px; margin-left: 3103px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">n.children = append(n.children, c)</div></div></div></foreignObject><text x="3103" y="541" fill="#000000" font-family="source code pro" font-size="13px">n.children = append(n.children, c)</text></switch></g><path d="M 157 220 L 263.63 220" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 268.88 220 L 261.88 223.5 L 263.63 220 L 261.88 216.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 730 220 L 843.63 220" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 848.88 220 L 841.88 223.5 L 843.63 220 L 841.88 216.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 947 220 L 1043.63 220" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1048.88 220 L 1041.88 223.5 L 1043.63 220 L 1041.88 216.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 947 220 L 970 220 Q 980 220 980 230 L 980 324 Q 980 334 990 334 L 1043.63 334" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1048.88 334 L 1041.88 337.5 L 1043.63 334 L 1041.88 330.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1327 220 L 1543.63 220" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1548.88 220 L 1541.88 223.5 L 1543.63 220 L 1541.88 216.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1782 220 L 1863.63 220" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1868.88 220 L 1861.88 223.5 L 1863.63 220 L 1861.88 216.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1480 334 L 1553.63 334" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1558.88 334 L 1551.88 337.5 L 1553.63 334 L 1551.88 330.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1899 334 L 1982.63 334" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1987.88 334 L 1980.88 337.5 L 1982.63 334 L 1980.88 330.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2399 334 L 2483.63 334" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2488.88 334 L 2481.88 337.5 L 2483.63 334 L 2481.88 330.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2721 334 L 2843.63 334" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2848.88 334 L 2841.88 337.5 L 2843.63 334 L 2841.88 330.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 3028 334 L 3103.63 334" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 3108.88 334 L 3101.88 337.5 L 3103.63 334 L 3101.88 330.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2721 334 L 2790 334 Q 2800 334 2800 344 L 2800 427 Q 2800 437 2810 437 L 2843.63 437" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2848.88 437 L 2841.88 440.5 L 2843.63 437 L 2841.88 433.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 3210 437 L 3313.63 437" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 3318.88 437 L 3311.88 440.5 L 3313.63 437 L 3311.88 433.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2721 334 L 2790 334 Q 2800 334 2800 344 L 2800 527 Q 2800 537 2810 537 L 2843.63 537" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2848.88 537 L 2841.88 540.5 L 2843.63 537 L 2841.88 533.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 3028 537 L 3089.63 537" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 3094.88 537 L 3087.88 540.5 L 3089.63 537 L 3087.88 533.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 497px; margin-left: 62px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 查找路由</div></div></div></foreignObject><text x="62" y="501" fill="#000000" font-family="source code pro" font-size="13px">2. 查找路由</text></switch></g><rect x="60" y="507" width="295" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 288px; height: 1px; padding-top: 537px; margin-left: 67px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">e.findRouter(r.Host).Find(...)</div></div></div></foreignObject><text x="67" y="541" fill="#000000" font-family="source code pro" font-size="13px">e.findRouter(r.Host).Find(...)</text></switch></g><rect x="420" y="507" width="349" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 342px; height: 1px; padding-top: 537px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Find(method, path string, c Context)</div></div></div></foreignObject><text x="427" y="541" fill="#000000" font-family="source code pro" font-size="13px">Find(method, path string, c Context)</text></switch></g><rect x="850" y="483" width="349" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 342px; height: 1px; padding-top: 537px; margin-left: 857px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ctx := c.(*context)<br />cn := r.tree<br />ctx.handler = cn.findHandler(method)<br />ctx.path = cn.ppath<br />ctx.pnames = cn.pnames</div></div></div></foreignObject><text x="857" y="541" fill="#000000" font-family="source code pro" font-size="13px">ctx := c.(*context)...</text></switch></g><rect x="1320" y="507" width="259" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 252px; height: 1px; padding-top: 537px; margin-left: 1327px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">findHandler(method string)</div></div></div></foreignObject><text x="1327" y="541" fill="#000000" font-family="source code pro" font-size="13px">findHandler(method string)</text></switch></g><rect x="1690" y="465" width="320" height="144" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 313px; height: 1px; padding-top: 537px; margin-left: 1697px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">switch method {<br />case http.MethodGet:<br />    return n.methodHandler.get<br />case http.MethodPost:<br />    return n.methodHandler.post<br />default:<br />    return nil<br />}</div></div></div></foreignObject><text x="1697" y="541" fill="#000000" font-family="source code pro" font-size="13px">switch method {...</text></switch></g><path d="M 355 537 L 413.63 537" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 537 L 411.88 540.5 L 413.63 537 L 411.88 533.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 769 537 L 843.63 537" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 848.88 537 L 841.88 540.5 L 843.63 537 L 841.88 533.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1199 537 L 1313.63 537" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1318.88 537 L 1311.88 540.5 L 1313.63 537 L 1311.88 533.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1579 537 L 1683.63 537" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1688.88 537 L 1681.88 540.5 L 1683.63 537 L 1681.88 533.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2096 591 L 2063 591 Q 2053 591 2053 581 L 2053 511 Q 2053 501 2043 501 L 2016.37 501" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2011.12 501 L 2018.12 497.5 L 2016.37 501 L 2018.12 504.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2096 255 L 2073 255 Q 2063 255 2063 245 L 2063 230 Q 2063 220 2053 220 L 2036.37 220" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2031.12 220 L 2038.12 216.5 L 2036.37 220 L 2038.12 223.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 75px; margin-left: 62px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Echo 路由逻辑</div></div></div></foreignObject><text x="62" y="80" fill="#000000" font-family="source code pro" font-size="18px">Echo 路由逻辑</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>