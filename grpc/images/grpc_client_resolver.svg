<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2671px" height="830px" viewBox="-0.5 -0.5 2671 830" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-11-08T14:37:34.468Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;conR2OX2aXj06zv_CWwo&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;Zn6jyEFgnjSezxXDj4Yx&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-62-517-605-26-0"><rect x="62" y="517" width="605" height="26"/></clipPath><clipPath id="mx-clip-62-543-605-26-0"><rect x="62" y="543" width="605" height="26"/></clipPath><clipPath id="mx-clip-952-189-292-26-0"><rect x="952" y="189" width="292" height="26"/></clipPath><clipPath id="mx-clip-952-215-292-26-0"><rect x="952" y="215" width="292" height="26"/></clipPath><clipPath id="mx-clip-952-241-292-26-0"><rect x="952" y="241" width="292" height="26"/></clipPath></defs><g><path d="M 57 512 L 57 480 L 667 480 L 667 512" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 57 512 L 57 564 L 667 564 L 667 512" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 57 512 L 667 512" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="63.5" y="493">&lt;&lt;interface&gt;&gt;</text><text x="63.5" y="509">Builder</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-62-517-605-26-0)" font-size="13px"><text x="63.5" y="530.5">+ Build(target Target, cc ClientConn, opts BuildOptions) (Resolver, error)</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-62-543-605-26-0)" font-size="13px"><text x="63.5" y="556.5">+ Scheme() string</text></g><path d="M 947 183.5 L 947 157.5 L 1244 157.5 L 1244 183.5" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 947 183.5 L 947 261.5 L 1244 261.5 L 1244 183.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 947 183.5 L 1244 183.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="953.5" y="175.5">ccResolverWrapper</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-952-189-292-26-0)" font-size="13px"><text x="953.5" y="202">- cc: *ClientConn</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-952-215-292-26-0)" font-size="13px"><text x="953.5" y="228">- resolver: resolver.Resolver</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-952-241-292-26-0)" font-size="13px"><text x="953.5" y="254">- curState: resolver.State</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 144px; margin-left: 59px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建解析器</div></div></div></foreignObject><text x="59" y="148" fill="#000000" font-family="source code pro" font-size="13px">1. 创建解析器</text></switch></g><rect x="57" y="164" width="295" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 288px; height: 1px; padding-top: 194px; margin-left: 64px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func newCCResolverWrapper(...)</div></div></div></foreignObject><text x="64" y="198" fill="#000000" font-family="source code pro" font-size="13px">func newCCResolverWrapper(...)</text></switch></g><path d="M 947 169.98 L 832 170 Q 822 170 822 180 L 822 187 Q 822 194 812 194 L 703.37 194" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 698.12 194 L 705.12 190.5 L 703.37 194 L 705.12 197.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><rect x="452" y="157.5" width="245" height="73" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 194px; margin-left: 459px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ccr := &amp;ccResolverWrapper{<br />    cc:   cc,<br />}</div></div></div></foreignObject><text x="459" y="198" fill="#000000" font-family="source code pro" font-size="13px">ccr := &amp;ccResolverWrapper{...</text></switch></g><rect x="452" y="240" width="460" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 453px; height: 1px; padding-top: 270px; margin-left: 459px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ccr.resolver, err = rb.Build(cc.parsedTarget, ccr, rbo)</div></div></div></foreignObject><text x="459" y="274" fill="#000000" font-family="source code pro" font-size="13px">ccr.resolver, err = rb.Build(cc.parsedTarget, ccr, rbo)</text></switch></g><path d="M 352 194 L 445.63 194" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 450.88 194 L 443.88 197.5 L 445.63 194 L 443.88 190.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 352 194 L 397 194 Q 407 194 407 204 L 407 260 Q 407 270 417 270 L 445.63 270" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 450.88 270 L 443.88 273.5 L 445.63 270 L 443.88 266.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 357px; margin-left: 59px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. passthrough 解析器实现</div></div></div></foreignObject><text x="59" y="361" fill="#000000" font-family="source code pro" font-size="13px">2. passthrough 解析器实现</text></switch></g><rect x="57" y="377" width="115" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 108px; height: 1px; padding-top: 407px; margin-left: 64px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Build(...)</div></div></div></foreignObject><text x="64" y="411" fill="#000000" font-family="source code pro" font-size="13px">Build(...)</text></switch></g><rect x="273" y="347" width="235" height="120" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 228px; height: 1px; padding-top: 407px; margin-left: 280px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">r := &amp;passthroughResolver{<br />    target: target,<br />    cc:     cc,<br />}<br />r.start()<br />return r, nil</div></div></div></foreignObject><text x="280" y="411" fill="#000000" font-family="source code pro" font-size="13px">r := &amp;passthroughResolver{...</text></switch></g><rect x="587" y="377" width="88" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 81px; height: 1px; padding-top: 407px; margin-left: 594px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">start()</div></div></div></foreignObject><text x="594" y="411" fill="#000000" font-family="source code pro" font-size="13px">start()</text></switch></g><rect x="750" y="377" width="767" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 760px; height: 1px; padding-top: 407px; margin-left: 757px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">r.cc.UpdateState(resolver.State{Addresses: []resolver.Address{{Addr: r.target.Endpoint}}})</div></div></div></foreignObject><text x="757" y="411" fill="#000000" font-family="source code pro" font-size="13px">r.cc.UpdateState(resolver.State{Addresses: []resolver.Address{{Addr: r.target.Endpoint}}})</text></switch></g><rect x="1597" y="377" width="286" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 279px; height: 1px; padding-top: 407px; margin-left: 1604px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">UpdateState(s resolver.State)</div></div></div></foreignObject><text x="1604" y="411" fill="#000000" font-family="source code pro" font-size="13px">UpdateState(s resolver.State)</text></switch></g><rect x="1967" y="371" width="396" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 389px; height: 1px; padding-top: 407px; margin-left: 1974px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ccr.curState = s<br />ccr.cc.updateResolverState(ccr.curState, nil)</div></div></div></foreignObject><text x="1974" y="411" fill="#000000" font-family="source code pro" font-size="13px">ccr.curState = s...</text></switch></g><path d="M 172 407 L 266.63 407" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 271.88 407 L 264.88 410.5 L 266.63 407 L 264.88 403.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 508 407 L 580.63 407" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 585.88 407 L 578.88 410.5 L 580.63 407 L 578.88 403.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 675 407 L 743.63 407" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 748.88 407 L 741.88 410.5 L 743.63 407 L 741.88 403.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1517 407 L 1590.63 407" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1595.88 407 L 1588.88 410.5 L 1590.63 407 L 1588.88 403.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1883 407 L 1960.63 407" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1965.88 407 L 1958.88 410.5 L 1960.63 407 L 1958.88 403.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 610px; margin-left: 59px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">3. 更新解析结果</div></div></div></foreignObject><text x="59" y="614" fill="#000000" font-family="source code pro" font-size="13px">3. 更新解析结果</text></switch></g><rect x="57" y="630" width="430" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 423px; height: 1px; padding-top: 660px; margin-left: 64px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">ccr.cc.updateResolverState(ccr.curState, nil)</div></div></div></foreignObject><text x="64" y="664" fill="#000000" font-family="source code pro" font-size="13px">ccr.cc.updateResolverState(ccr.curState, nil)</text></switch></g><rect x="587" y="630" width="241" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 234px; height: 1px; padding-top: 660px; margin-left: 594px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">updateResolverState(...)</div></div></div></foreignObject><text x="594" y="664" fill="#000000" font-family="source code pro" font-size="13px">updateResolverState(...)</text></switch></g><rect x="937" y="630" width="439" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 432px; height: 1px; padding-top: 660px; margin-left: 944px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">cc.maybeApplyDefaultServiceConfig(s.Addresses)</div></div></div></foreignObject><text x="944" y="664" fill="#000000" font-family="source code pro" font-size="13px">cc.maybeApplyDefaultServiceConfig(s.Addresses)</text></switch></g><rect x="937" y="703" width="860" height="96" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 853px; height: 1px; padding-top: 751px; margin-left: 944px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">cbn := cc.curBalancerName<br />bw := cc.balancerWrapper<br />uccsErr := bw.updateClientConnState(&amp;balancer.ClientConnState{ResolverState: s, BalancerConfig: balCfg})<br />return ret</div></div></div></foreignObject><text x="944" y="755" fill="#000000" font-family="source code pro" font-size="13px">cbn := cc.curBalancerName...</text></switch></g><rect x="1877" y="721" width="259" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 252px; height: 1px; padding-top: 751px; margin-left: 1884px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">updateClientConnState(...)</div></div></div></foreignObject><text x="1884" y="755" fill="#000000" font-family="source code pro" font-size="13px">updateClientConnState(...)</text></switch></g><rect x="2220" y="721" width="420" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 413px; height: 1px; padding-top: 751px; margin-left: 2227px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return ccb.balancer.UpdateClientConnState(*ccs)</div></div></div></foreignObject><text x="2227" y="755" fill="#000000" font-family="source code pro" font-size="13px">return ccb.balancer.UpdateClientConnState(*ccs)</text></switch></g><path d="M 487 660 L 580.63 660" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 585.88 660 L 578.88 663.5 L 580.63 660 L 578.88 656.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 828 660 L 930.63 660" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 935.88 660 L 928.88 663.5 L 930.63 660 L 928.88 656.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 828 660 L 877 660 Q 887 660 887 670 L 887 741 Q 887 751 897 751 L 930.63 751" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 935.88 751 L 928.88 754.5 L 930.63 751 L 928.88 747.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1797 751 L 1870.63 751" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1875.88 751 L 1868.88 754.5 L 1870.63 751 L 1868.88 747.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2136 751 L 2213.63 751" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2218.88 751 L 2211.88 754.5 L 2213.63 751 L 2211.88 747.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 59px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Grpc 客户端地址解析</div></div></div></foreignObject><text x="59" y="50" fill="#000000" font-family="source code pro" font-size="18px" font-weight="bold">Grpc 客户端地址解析</text></switch></g><path d="M 57 525 L 47 525 Q 37 525 37 515 L 37 417 Q 37 407 43.82 407 L 50.63 407" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 55.88 407 L 48.88 410.5 L 50.63 407 L 48.88 403.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>