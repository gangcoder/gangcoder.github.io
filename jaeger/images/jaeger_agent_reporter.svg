<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3089px" height="783px" viewBox="-0.5 -0.5 3089 783" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-04-24T04:51:16.356Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;z0NFC2Q6SVx4IRy25QFN&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;5Uev2rlNd3lciHwM_sQv&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-1177-715-108-26-0"><rect x="1177" y="715" width="108" height="26"/></clipPath><clipPath id="mx-clip-929-333-335-26-0"><rect x="929" y="333" width="335" height="26"/></clipPath><clipPath id="mx-clip-2845-386-192-26-0"><rect x="2845" y="386" width="192" height="26"/></clipPath><clipPath id="mx-clip-2845-412-192-26-0"><rect x="2845" y="412" width="192" height="26"/></clipPath><clipPath id="mx-clip-2778-499-259-26-0"><rect x="2778" y="499" width="259" height="26"/></clipPath><clipPath id="mx-clip-2778-525-259-26-0"><rect x="2778" y="525" width="259" height="26"/></clipPath><clipPath id="mx-clip-2778-551-259-26-0"><rect x="2778" y="551" width="259" height="26"/></clipPath><clipPath id="mx-clip-2778-577-259-26-0"><rect x="2778" y="577" width="259" height="26"/></clipPath></defs><g><path d="M 1172 710 L 1172 678 L 1285 678 L 1285 710" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 1172 710 L 1172 736 L 1285 736 L 1285 710" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 1172 710 L 1285 710" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1178.5" y="691">&lt;&lt;interface&gt;&gt;</text><text x="1178.5" y="707">Processor</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1177-715-108-26-0)" font-size="13px"><text x="1178.5" y="728.5">+ Serve()</text></g><path d="M 923.5 306 L 913.5 306 Q 903.5 306 903.5 296 L 903.5 260 Q 903.5 250 910.32 250 L 917.13 250" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 922.38 250 L 915.38 253.5 L 917.13 250 L 915.38 246.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 923.5 328 L 923.5 290 L 1263.5 290 L 1263.5 328" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 923.5 328 L 923.5 354 L 1263.5 354 L 1263.5 328" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 923.5 328 L 1263.5 328" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="930" y="306">&lt;&lt;interface&gt;&gt;</text><text x="930" y="322">AgentProcessor</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-929-333-335-26-0)" font-size="13px"><text x="930" y="346.5">+ Process(iprot, oprot thrift.TProtocol)</text></g><path d="M 2840 374.5 L 2830 374.5 Q 2820 374.5 2820 384.5 L 2820 399 Q 2820 409 2813.18 409 L 2806.37 409" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2801.12 409 L 2808.12 405.5 L 2806.37 409 L 2808.12 412.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2840 381 L 2840 355 L 3037 355 L 3037 381" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2840 381 L 2840 433 L 3037 433 L 3037 381" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2840 381 L 3037 381" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="2846.5" y="373">TUDPTransport</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2845-386-192-26-0)" font-size="13px"><text x="2846.5" y="399.5">- conn: *net.UDPConn</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2845-412-192-26-0)" font-size="13px"><text x="2846.5" y="425.5">+ Read(buf []byte)</text></g><path d="M 2773 500.5 L 2696.5 500.5 Q 2686.5 500.5 2686.5 500.75 L 2686.5 500.88 Q 2686.5 501 2676.5 501 L 2606.37 501" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2601.12 501 L 2608.12 497.5 L 2606.37 501 L 2608.12 504.5 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 2773 494 L 2773 468 L 3037 468 L 3037 494" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2773 494 L 2773 598 L 3037 598 L 3037 494" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2773 494 L 3037 494" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="2779.5" y="486">TBufferedServer</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2778-499-259-26-0)" font-size="13px"><text x="2779.5" y="512.5">- dataChan: chan</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2778-525-259-26-0)" font-size="13px"><text x="2779.5" y="538.5">- transport: thrift.TTransport</text></g><rect x="2773" y="546" width="264" height="26" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2778-551-259-26-0)" font-size="13px"><text x="2779.5" y="564.5">+ DataChan()</text></g><rect x="2773" y="572" width="264" height="26" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-2778-577-259-26-0)" font-size="13px"><text x="2779.5" y="590.5">+ Serve()</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 131px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. UDP 处理服务</div></div></div></foreignObject><text x="22" y="135" fill="#000000" font-family="source code pro" font-size="13px">1. UDP 处理服务</text></switch></g><rect x="20" y="150" width="187" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 180px; height: 1px; padding-top: 180px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">getProcessors(...)</div></div></div></foreignObject><text x="27" y="184" fill="#000000" font-family="source code pro" font-size="13px">getProcessors(...)</text></switch></g><rect x="317" y="150" width="393" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 386px; height: 1px; padding-top: 180px; margin-left: 324px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">handler = jaegerThrift.NewAgentProcessor(rep)</div></div></div></foreignObject><text x="324" y="184" fill="#000000" font-family="source code pro" font-size="13px">handler = jaegerThrift.NewAgentProcessor(rep)</text></switch></g><path d="M 578.5 280 L 578.5 319.5 Q 578.5 329.5 568.5 329.5 L 146 329.5 Q 136 329.5 136 339.5 L 136 372.63" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 136 377.88 L 132.5 370.88 L 136 372.63 L 139.5 370.88 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="317" y="220" width="523" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 516px; height: 1px; padding-top: 250px; margin-left: 324px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">processor, err := cfg.GetThriftProcessor(..., handler, logger)</div></div></div></foreignObject><text x="324" y="254" fill="#000000" font-family="source code pro" font-size="13px">processor, err := cfg.GetThriftProcessor(..., handler, logger)</text></switch></g><rect x="923.5" y="150" width="358" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 351px; height: 1px; padding-top: 180px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewAgentProcessor(handler Agent)</div></div></div></foreignObject><text x="931" y="184" fill="#000000" font-family="source code pro" font-size="13px">func NewAgentProcessor(handler Agent)</text></switch></g><rect x="1340" y="152" width="622" height="56" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 615px; height: 1px; padding-top: 180px; margin-left: 1347px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">self6.processorMap["emitBatch"] = &amp;agentProcessorEmitBatch{handler: handler}<br />return self6</div></div></div></foreignObject><text x="1347" y="184" fill="#000000" font-family="source code pro" font-size="13px">self6.processorMap["emitBatch"] = &amp;agentProcessorEmitBatch{handler: handler}...</text></switch></g><rect x="923.5" y="220" width="330" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 323px; height: 1px; padding-top: 250px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Process(iprot, oprot thrift.TProtocol)</div></div></div></foreignObject><text x="931" y="254" fill="#000000" font-family="source code pro" font-size="13px">Process(iprot, oprot thrift.TProtocol)</text></switch></g><rect x="1340" y="220" width="430" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 423px; height: 1px; padding-top: 250px; margin-left: 1347px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return processor.Process(seqId, iprot, oprot)</div></div></div></foreignObject><text x="1347" y="254" fill="#000000" font-family="source code pro" font-size="13px">return processor.Process(seqId, iprot, oprot)</text></switch></g><rect x="1852.5" y="220" width="133" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 126px; height: 1px; padding-top: 250px; margin-left: 1860px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Process(...)</div></div></div></foreignObject><text x="1860" y="254" fill="#000000" font-family="source code pro" font-size="13px">Process(...)</text></switch></g><rect x="2063.5" y="220" width="304" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 297px; height: 1px; padding-top: 250px; margin-left: 2071px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">p.handler.EmitBatch(args.Batch)</div></div></div></foreignObject><text x="2071" y="254" fill="#000000" font-family="source code pro" font-size="13px">p.handler.EmitBatch(args.Batch)</text></switch></g><path d="M 207 180 L 310.63 180" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 315.88 180 L 308.88 183.5 L 310.63 180 L 308.88 176.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 207 180 L 230 180 Q 240 180 240 190 L 240 240 Q 240 250 250 250 L 310.63 250" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 315.88 250 L 308.88 253.5 L 310.63 250 L 308.88 246.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 710 180 L 917.13 180" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 922.38 180 L 915.38 183.5 L 917.13 180 L 915.38 176.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1281.5 180 L 1333.63 180" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1338.88 180 L 1331.88 183.5 L 1333.63 180 L 1331.88 176.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1253.5 250 L 1333.63 250" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1338.88 250 L 1331.88 253.5 L 1333.63 250 L 1331.88 246.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1770 250 L 1846.13 250" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1851.38 250 L 1844.38 253.5 L 1846.13 250 L 1844.38 246.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1985.5 250 L 2057.13 250" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2062.38 250 L 2055.38 253.5 L 2057.13 250 L 2055.38 246.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 359px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 服务监听实现</div></div></div></foreignObject><text x="22" y="363" fill="#000000" font-family="source code pro" font-size="13px">2. 服务监听实现</text></switch></g><rect x="20" y="379" width="232" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 225px; height: 1px; padding-top: 409px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">GetThriftProcessor(...)</div></div></div></foreignObject><text x="27" y="413" fill="#000000" font-family="source code pro" font-size="13px">GetThriftProcessor(...)</text></switch></g><path d="M 252 409 L 280 409 Q 290 409 290 419 L 290 548 Q 290 558 300 558 L 345.63 558" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 350.88 558 L 343.88 561.5 L 345.63 558 L 343.88 554.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="352" y="379" width="388" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 381px; height: 1px; padding-top: 409px; margin-left: 359px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">server, err := c.Server.getUDPServer(mFactory)<br /></div></div></div></foreignObject><text x="359" y="413" fill="#000000" font-family="source code pro" font-size="13px">server, err := c.Server.getUDPServer(mFactory)&#xa;</text></switch></g><path d="M 910 558 L 960.13 558" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 965.38 558 L 958.38 561.5 L 960.13 558 L 958.38 554.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="352" y="528" width="558" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 551px; height: 1px; padding-top: 558px; margin-left: 359px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return processors.NewThriftProcessor(server, ..., handler, logger)</div></div></div></foreignObject><text x="359" y="562" fill="#000000" font-family="source code pro" font-size="13px">return processors.NewThriftProcessor(server, ..., handler, logger)</text></switch></g><rect x="840" y="379" width="340" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 333px; height: 1px; padding-top: 409px; margin-left: 847px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">getUDPServer(mFactory metrics.Factory)</div></div></div></foreignObject><text x="847" y="413" fill="#000000" font-family="source code pro" font-size="13px">getUDPServer(mFactory metrics.Factory)</text></switch></g><path d="M 1180 409 L 1210 409 Q 1220 409 1220 419 L 1220 472 Q 1220 482 1230 482 L 1278.63 482" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1283.88 482 L 1276.88 485.5 L 1278.63 482 L 1276.88 478.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1285" y="379" width="517" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 510px; height: 1px; padding-top: 409px; margin-left: 1292px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">transport, err := thriftudp.NewTUDPServerTransport(c.HostPort)</div></div></div></foreignObject><text x="1292" y="413" fill="#000000" font-family="source code pro" font-size="13px">transport, err := thriftudp.NewTUDPServerTransport(c.HostPort)</text></switch></g><rect x="1285" y="452" width="445" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 482px; margin-left: 1292px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return servers.NewTBufferedServer(transport, ...)</div></div></div></foreignObject><text x="1292" y="486" fill="#000000" font-family="source code pro" font-size="13px">return servers.NewTBufferedServer(transport, ...)</text></switch></g><rect x="1890" y="379" width="290" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 283px; height: 1px; padding-top: 409px; margin-left: 1897px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewTUDPServerTransport(...)</div></div></div></foreignObject><text x="1897" y="413" fill="#000000" font-family="source code pro" font-size="13px">func NewTUDPServerTransport(...)</text></switch></g><rect x="2280" y="374.5" width="520" height="69" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 513px; height: 1px; padding-top: 409px; margin-left: 2287px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">addr, err := net.ResolveUDPAddr("udp", hostPort)<br />conn, err := net.ListenUDP(addr.Network(), addr)<br />return &amp;TUDPTransport{addr: conn.LocalAddr(), conn: conn}, nil</div></div></div></foreignObject><text x="2287" y="413" fill="#000000" font-family="source code pro" font-size="13px">addr, err := net.ResolveUDPAddr("udp", hostPort)...</text></switch></g><rect x="1890" y="452" width="277" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 270px; height: 1px; padding-top: 482px; margin-left: 1897px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewTBufferedServer(...)</div></div></div></foreignObject><text x="1897" y="486" fill="#000000" font-family="source code pro" font-size="13px">func NewTBufferedServer(...)</text></switch></g><rect x="2220" y="452" width="380" height="98" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 373px; height: 1px; padding-top: 501px; margin-left: 2227px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">dataChan := make(chan *ReadBuf, maxQueueSize)<br />res := &amp;TBufferedServer{dataChan: dataChan,<br />    transport:     transport,<br />}<br />return res, nil</div></div></div></foreignObject><text x="2227" y="505" fill="#000000" font-family="source code pro" font-size="13px">dataChan := make(chan *ReadBuf, maxQueueSize)...</text></switch></g><rect x="2400" y="678" width="88" height="60" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 81px; height: 1px; padding-top: 708px; margin-left: 2407px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Serve()</div></div></div></foreignObject><text x="2407" y="712" fill="#000000" font-family="source code pro" font-size="13px">Serve()</text></switch></g><rect x="2560" y="654" width="392" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 385px; height: 1px; padding-top: 708px; margin-left: 2567px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for s.IsServing() {<br />    readBuf := s.readBufPool.Get().(*ReadBuf)<br />    n, err := s.transport.Read(readBuf.bytes)<br />    s.dataChan &lt;- readBuf<br />}</div></div></div></foreignObject><text x="2567" y="712" fill="#000000" font-family="source code pro" font-size="13px">for s.IsServing() {...</text></switch></g><rect x="2400" y="578" width="100" height="60" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 93px; height: 1px; padding-top: 608px; margin-left: 2407px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">DataChan()</div></div></div></foreignObject><text x="2407" y="612" fill="#000000" font-family="source code pro" font-size="13px">DataChan()</text></switch></g><rect x="2560" y="578" width="178" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 171px; height: 1px; padding-top: 608px; margin-left: 2567px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return s.dataChan</div></div></div></foreignObject><text x="2567" y="612" fill="#000000" font-family="source code pro" font-size="13px">return s.dataChan</text></switch></g><rect x="966.5" y="528" width="277" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 270px; height: 1px; padding-top: 558px; margin-left: 974px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewThriftProcessor(...)</div></div></div></foreignObject><text x="974" y="562" fill="#000000" font-family="source code pro" font-size="13px">func NewThriftProcessor(...)</text></switch></g><rect x="1360" y="605" width="223" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 216px; height: 1px; padding-top: 635px; margin-left: 1367px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">go res.processBuffer()</div></div></div></foreignObject><text x="1367" y="639" fill="#000000" font-family="source code pro" font-size="13px">go res.processBuffer()</text></switch></g><rect x="1619" y="605" width="160" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 153px; height: 1px; padding-top: 635px; margin-left: 1626px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">processBuffer()</div></div></div></foreignObject><text x="1626" y="639" fill="#000000" font-family="source code pro" font-size="13px">processBuffer()</text></switch></g><path d="M 2347 608 L 2393.63 608" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 2398.88 608 L 2391.88 611.5 L 2393.63 608 L 2391.88 604.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 2348.87 645.04 L 2348.89 646.02 Q 2348.9 647 2358.9 647 L 3050 647 Q 3060 647 3060 637 L 3060 351 Q 3060 341 3050 341 L 1269.87 341" fill="none" stroke="#019ed5" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 1264.62 341 L 1271.62 337.5 L 1269.87 341 L 1271.62 344.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><rect x="1879" y="581" width="468" height="108" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 461px; height: 1px; padding-top: 635px; margin-left: 1886px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">for readBuf := range s.server.DataChan() {<br />    payload := readBuf.GetBytes()<br />    protocol.Transport().Write(payload)<br />    ok, err := s.handler.Process(protocol, protocol)<br />}</div></div></div></foreignObject><text x="1886" y="639" fill="#000000" font-family="source code pro" font-size="13px">for readBuf := range s.server.DataChan() {...</text></switch></g><rect x="1360" y="678" width="88" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 81px; height: 1px; padding-top: 708px; margin-left: 1367px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Serve()</div></div></div></foreignObject><text x="1367" y="712" fill="#000000" font-family="source code pro" font-size="13px">Serve()</text></switch></g><path d="M 1666 708 L 2393.63 708" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 2398.88 708 L 2391.88 711.5 L 2393.63 708 L 2391.88 704.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 1497 708 L 1454.37 708" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 1449.12 708 L 1456.12 704.5 L 1454.37 708 L 1456.12 711.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><rect x="1497" y="678" width="169" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 162px; height: 1px; padding-top: 708px; margin-left: 1504px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">s.server.Serve()</div></div></div></foreignObject><text x="1504" y="712" fill="#000000" font-family="source code pro" font-size="13px">s.server.Serve()</text></switch></g><path d="M 252 409 L 345.63 409" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 350.88 409 L 343.88 412.5 L 345.63 409 L 343.88 405.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 740 409 L 833.63 409" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 838.88 409 L 831.88 412.5 L 833.63 409 L 831.88 405.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1180 409 L 1278.63 409" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1283.88 409 L 1276.88 412.5 L 1278.63 409 L 1276.88 405.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1802 409 L 1883.63 409" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1888.88 409 L 1881.88 412.5 L 1883.63 409 L 1881.88 405.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2180 409 L 2273.63 409" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2278.88 409 L 2271.88 412.5 L 2273.63 409 L 2271.88 405.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1730 482 L 1883.63 482" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1888.88 482 L 1881.88 485.5 L 1883.63 482 L 1881.88 478.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2167 482 L 2183.5 482 Q 2193.5 482 2193.5 491.5 L 2193.5 496.25 Q 2193.5 501 2203.5 501 L 2213.63 501" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2218.88 501 L 2211.88 504.5 L 2213.63 501 L 2211.88 497.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2488 708 L 2553.63 708" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2558.88 708 L 2551.88 711.5 L 2553.63 708 L 2551.88 704.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2500 608 L 2553.63 608" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2558.88 608 L 2551.88 611.5 L 2553.63 608 L 2551.88 604.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1243.5 558 L 1353.63 558" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1358.88 558 L 1351.88 561.5 L 1353.63 558 L 1351.88 554.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1243.5 558 L 1270 558 Q 1280 558 1280 568 L 1280 625 Q 1280 635 1290 635 L 1353.63 635" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1358.88 635 L 1351.88 638.5 L 1353.63 635 L 1351.88 631.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1583 635 L 1591.5 635 Q 1600 635 1606.32 635 L 1612.63 635" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1617.88 635 L 1610.88 638.5 L 1612.63 635 L 1610.88 631.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1779 635 L 1872.63 635" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1877.88 635 L 1870.88 638.5 L 1872.63 635 L 1870.88 631.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1448 708 L 1490.63 708" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1495.88 708 L 1488.88 711.5 L 1490.63 708 L 1488.88 704.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><rect x="1360" y="522" width="243" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 236px; height: 1px; padding-top: 558px; margin-left: 1367px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">res := &amp;ThriftProcessor{<br />    server:        server,<br />    handler:       handler,<br />}</div></div></div></foreignObject><text x="1367" y="562" fill="#000000" font-family="source code pro" font-size="13px">res := &amp;ThriftProcessor{...</text></switch></g><path d="M 1243.5 558 L 1353.63 558" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1358.88 558 L 1351.88 561.5 L 1353.63 558 L 1351.88 554.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1285 723 L 1312.5 723 Q 1322.5 723 1322.5 715.5 L 1322.5 711.75 Q 1322.5 708 1332.5 708 L 1353.63 708" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 1358.88 708 L 1351.88 711.5 L 1353.63 708 L 1351.88 704.5 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 35px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Jaeger Agent Reporter 实现</div></div></div></foreignObject><text x="22" y="40" fill="#000000" font-family="source code pro" font-size="18px">Jaeger Agent Reporter 实现</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>