<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2554px" height="609px" viewBox="-0.5 -0.5 2554 609" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-04-27T14:37:38.909Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.6.5 Chrome/80.0.3987.86 Electron/8.0.0 Safari/537.36&quot; etag=&quot;KYgz8QARB88MjaObsM8G&quot; version=&quot;12.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;5QE9VP3i1mKMf-gYVONh&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-25-560-215-26-0"><rect x="25" y="560" width="215" height="26"/></clipPath><clipPath id="mx-clip-1338-361-545-26-0"><rect x="1338" y="361" width="545" height="26"/></clipPath><clipPath id="mx-clip-1338-387-545-26-0"><rect x="1338" y="387" width="545" height="26"/></clipPath></defs><g><path d="M 20 555 L 20 523 L 240 523 L 240 555" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 20 555 L 20 581 L 240 581 L 240 555" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 20 555 L 240 555" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="26.5" y="536">&lt;&lt;interface&gt;&gt;</text><text x="26.5" y="552">StrategyStore</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-25-560-215-26-0)" font-size="13px"><text x="26.5" y="573.5">+ GetSamplingStrategy(...)</text></g><path d="M 1333 356 L 1333 330 L 1883 330 L 1883 356" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 1333 356 L 1333 408 L 1883 408 L 1883 356" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 1333 356 L 1883 356" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="source code pro" font-size="13px"><text x="1339.5" y="348">strategyStore</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1338-361-545-26-0)" font-size="13px"><text x="1339.5" y="374.5">- defaultStrategy: *sampling.SamplingStrategyResponse</text></g><g fill="#000000" font-family="source code pro" clip-path="url(#mx-clip-1338-387-545-26-0)" font-size="13px"><text x="1339.5" y="400.5">- serviceStrategies: map[string]*sampling.SamplingStrategyResponse</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 138px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. 创建采样策略实例</div></div></div></foreignObject><text x="22" y="142" fill="#000000" font-family="source code pro" font-size="13px">1. 创建采样策略实例</text></switch></g><rect x="20" y="160" width="320" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 313px; height: 1px; padding-top: 190px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewFactory(config FactoryConfig)</div></div></div></foreignObject><text x="27" y="194" fill="#000000" font-family="source code pro" font-size="13px">func NewFactory(config FactoryConfig)</text></switch></g><rect x="410" y="146" width="440" height="88" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 433px; height: 1px; padding-top: 190px; margin-left: 417px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">f.factories = make(map[string]strategystore.Factory)<br />for t := range uniqueTypes {<br />    ff, err := f.getFactoryOfType(t)<br />    f.factories[t] = ff<br />}</div></div></div></foreignObject><text x="417" y="194" fill="#000000" font-family="source code pro" font-size="13px">f.factories = make(map[string]strategystore.Factory)...</text></switch></g><rect x="930" y="160" width="310" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 303px; height: 1px; padding-top: 190px; margin-left: 937px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">getFactoryOfType(factoryType string)</div></div></div></foreignObject><text x="937" y="194" fill="#000000" font-family="source code pro" font-size="13px">getFactoryOfType(factoryType string)</text></switch></g><rect x="1310" y="149" width="310" height="82" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 303px; height: 1px; padding-top: 190px; margin-left: 1317px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">switch factoryType {<br />case staticStrategyStoreType:<br />    return static.NewFactory(), nil<br />}</div></div></div></foreignObject><text x="1317" y="194" fill="#000000" font-family="source code pro" font-size="13px">switch factoryType {...</text></switch></g><rect x="410" y="246" width="200" height="60" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 193px; height: 1px; padding-top: 276px; margin-left: 417px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">CreateStrategyStore()</div></div></div></foreignObject><text x="417" y="280" fill="#000000" font-family="source code pro" font-size="13px">CreateStrategyStore()</text></switch></g><rect x="670" y="240" width="390" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 383px; height: 1px; padding-top: 276px; margin-left: 677px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">factory, ok := f.factories[f.StrategyStoreType]<br />return factory.CreateStrategyStore()</div></div></div></foreignObject><text x="677" y="280" fill="#000000" font-family="source code pro" font-size="13px">factory, ok := f.factories[f.StrategyStoreType]...</text></switch></g><path d="M 340 190 L 403.63 190" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 408.88 190 L 401.88 193.5 L 403.63 190 L 401.88 186.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 850 190 L 923.63 190" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 928.88 190 L 921.88 193.5 L 923.63 190 L 921.88 186.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1240 190 L 1303.63 190" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1308.88 190 L 1301.88 193.5 L 1303.63 190 L 1301.88 186.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 610 276 L 663.63 276" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 668.88 276 L 661.88 279.5 L 663.63 276 L 661.88 272.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 330px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">2. 创建静态配置存储实例</div></div></div></foreignObject><text x="22" y="334" fill="#000000" font-family="source code pro" font-size="13px">2. 创建静态配置存储实例</text></switch></g><rect x="20" y="350" width="196" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 189px; height: 1px; padding-top: 380px; margin-left: 27px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">static.NewFactory()</div></div></div></foreignObject><text x="27" y="384" fill="#000000" font-family="source code pro" font-size="13px">static.NewFactory()</text></switch></g><rect x="293" y="338.5" width="244" height="83" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 237px; height: 1px; padding-top: 380px; margin-left: 300px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return &amp;Factory{<br />    options: &amp;Options{},<br />    logger:  zap.NewNop(),<br />}</div></div></div></foreignObject><text x="300" y="384" fill="#000000" font-family="source code pro" font-size="13px">return &amp;Factory{...</text></switch></g><rect x="293" y="434.5" width="200" height="60" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 193px; height: 1px; padding-top: 465px; margin-left: 300px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">CreateStrategyStore()</div></div></div></foreignObject><text x="300" y="468" fill="#000000" font-family="source code pro" font-size="13px">CreateStrategyStore()</text></switch></g><rect x="573" y="434.5" width="380" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 373px; height: 1px; padding-top: 465px; margin-left: 580px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">return NewStrategyStore(*f.options, f.logger)</div></div></div></foreignObject><text x="580" y="468" fill="#000000" font-family="source code pro" font-size="13px">return NewStrategyStore(*f.options, f.logger)</text></switch></g><rect x="1023" y="434.5" width="240" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 233px; height: 1px; padding-top: 465px; margin-left: 1030px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func NewStrategyStore(...)</div></div></div></foreignObject><text x="1030" y="468" fill="#000000" font-family="source code pro" font-size="13px">func NewStrategyStore(...)</text></switch></g><path d="M 1883 349.5 L 1894.8 349.5 Q 1904.8 349.5 1904.8 359.5 L 1904.79 427.64" fill="none" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><path d="M 1904.79 432.89 L 1901.29 425.89 L 1904.79 427.64 L 1908.29 425.89 Z" fill="#1dbf97" stroke="#1dbf97" stroke-miterlimit="10" pointer-events="none"/><rect x="1333" y="433" width="607" height="63" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 600px; height: 1px; padding-top: 465px; margin-left: 1340px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">h := &amp;strategyStore{<br />    serviceStrategies: make(map[string]*sampling.SamplingStrategyResponse),<br />}</div></div></div></foreignObject><text x="1340" y="468" fill="#000000" font-family="source code pro" font-size="13px">h := &amp;strategyStore{...</text></switch></g><rect x="1333" y="507.5" width="470" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 463px; height: 1px; padding-top: 538px; margin-left: 1340px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">strategies, err := loadStrategies(options.StrategiesFile)</div></div></div></foreignObject><text x="1340" y="541" fill="#000000" font-family="source code pro" font-size="13px">strategies, err := loadStrategies(options.StrategiesFile)</text></switch></g><rect x="1873" y="507.5" width="230" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 223px; height: 1px; padding-top: 538px; margin-left: 1880px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">func loadStrategies(...)</div></div></div></foreignObject><text x="1880" y="541" fill="#000000" font-family="source code pro" font-size="13px">func loadStrategies(...)</text></switch></g><rect x="2163" y="501.5" width="370" height="72" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 363px; height: 1px; padding-top: 538px; margin-left: 2170px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">bytes, err := ioutil.ReadFile(strategiesFile)<br />err := json.Unmarshal(bytes, &amp;strategies)<br />return &amp;strategies, nil</div></div></div></foreignObject><text x="2170" y="541" fill="#000000" font-family="source code pro" font-size="13px">bytes, err := ioutil.ReadFile(strategiesFile)...</text></switch></g><rect x="293" y="525.5" width="376" height="60" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 369px; height: 1px; padding-top: 556px; margin-left: 300px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">GetSamplingStrategy(serviceName string)</div></div></div></foreignObject><text x="300" y="559" fill="#000000" font-family="source code pro" font-size="13px">GetSamplingStrategy(serviceName string)</text></switch></g><rect x="731" y="523" width="480" height="65" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 473px; height: 1px; padding-top: 556px; margin-left: 738px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">if strategy, ok := h.serviceStrategies[serviceName]; ok {<br />    return strategy, nil<br />}</div></div></div></foreignObject><text x="738" y="559" fill="#000000" font-family="source code pro" font-size="13px">if strategy, ok := h.serviceStrategies[serviceName]; ok {...</text></switch></g><path d="M 216 380 L 286.63 380" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 291.88 380 L 284.88 383.5 L 286.63 380 L 284.88 376.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 493 464.5 L 566.63 464.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 571.88 464.5 L 564.88 468 L 566.63 464.5 L 564.88 461 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 953 464.5 L 1016.63 464.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1021.88 464.5 L 1014.88 468 L 1016.63 464.5 L 1014.88 461 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1263 464.5 L 1326.63 464.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1331.88 464.5 L 1324.88 468 L 1326.63 464.5 L 1324.88 461 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1263 464.5 L 1271.5 464.5 Q 1280 464.5 1280 474.5 L 1280 528 Q 1280 538 1290 538 L 1326.63 538" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1331.88 538 L 1324.88 541.5 L 1326.63 538 L 1324.88 534.5 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1803 537.5 L 1866.63 537.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 1871.88 537.5 L 1864.88 541 L 1866.63 537.5 L 1864.88 534 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2103 537.5 L 2156.63 537.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 2161.88 537.5 L 2154.88 541 L 2156.63 537.5 L 2154.88 534 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 669 555.5 L 724.63 555.5" fill="none" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 729.88 555.5 L 722.88 559 L 724.63 555.5 L 722.88 552 Z" fill="#fe4365" stroke="#fe4365" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 568 L 256.5 568 Q 266.5 568 266.5 561.75 L 266.5 558.63 Q 266.5 555.5 276.5 555.5 L 286.63 555.5" fill="none" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><path d="M 291.88 555.5 L 284.88 559 L 286.63 555.5 L 284.88 552 Z" fill="#019ed5" stroke="#019ed5" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 35px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: source code pro; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Jaeger Collector Sample 采样实现</div></div></div></foreignObject><text x="22" y="40" fill="#000000" font-family="source code pro" font-size="18px">Jaeger Collector Sample 采样实现</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>